(this.webpackJsonpqhighschool=this.webpackJsonpqhighschool||[]).push([[0],{353:function(e,t,r){e.exports=r(710)},451:function(e,t,r){},507:function(e,t){},509:function(e,t){},542:function(e,t){},543:function(e,t){},708:function(e,t,r){},710:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(19),i=r.n(o),l=r(94),s=r(324),c=r(34),u=r(13);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_USERS":var r=e;for(var n in t.users)r[n]=d({},r[n],{},t.users[n]);return r;case"CHANGE_USER":return d({},e,Object(u.a)({},t.user.id,d({},e[t.user.id],{},t.user)));case"CHANGE_ENROLLMENTS":if("ADD"===t.action)return d({},e,Object(u.a)({},t.userId,d({},e[t.userId],{enrollmentIds:(e[t.userId].enrollmentIds||[]).concat(t.groupId)})));if("REMOVE"===t.action){var a=e[t.userId].enrollmentIds.indexOf(t.groupId);return d({},e,Object(u.a)({},t.userId,d({},e[t.userId],{enrollmentIds:[].concat(Object(c.a)(e[t.userId].enrollmentIds.slice(0,a)),Object(c.a)(e[t.userId].enrollmentIds.slice(a+1)))})))}return d({},e,Object(u.a)({},t.userId,d({},e[t.userId],{enrollmentIds:t.enrollmentIds})));default:return e}};function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g={};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_GROUPS":var r=f({},e);for(var n in t.groups)r[n]=f({},r[n],{},t.groups[n]);return r;case"CHANGE_GROUP":return f({},e,Object(u.a)({},t.group.id,f({},e[t.group.id],{},t.group)));case"CHANGE_PRESENCE_USER_STATUS":return f({},e,Object(u.a)({},t.groupId,f({},e[t.groupId],{lessons:f({},e[t.groupId].lessons,Object(u.a)({},t.lessonId,f({},e[t.groupId].lessons[t.lessonId],{userStatus:t.userStatus})))})));default:return e}};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E={userId:null,enrollableGroups:null,currentPeriod:2,enrollmentPeriod:3,schoolYear:"2019/2020",subjects:null,groups:null,users:null,showMenu:!0,notifications:[],hasFetched:[]};var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELF":return O({},e,{userId:t.user.id,role:t.user.role,notifications:[].concat(Object(c.a)(e.notifications),Object(c.a)(t.user.notifications)),users:O(Object(u.a)({},t.user.id,t.user),e.users)});case"SET_SECURE_LOGIN":return O({},e,{secureLogin:t.secureLogin});case"ADD_NOTIFICATION":return O({},e,{notifications:[].concat(Object(c.a)(e.notifications),[t.notification])});case"REMOVE_NOTIFICATION":var r=e.notifications.indexOf(t.notification);return O({},e,{notifications:[].concat(Object(c.a)(e.notifications.slice(0,r)),Object(c.a)(e.notifications.slice(r+1)))});case"TOGGLE_MENU":return null!=t.menuState?O({},e,{showMenu:t.menuState}):O({},e,{showMenu:!e.showMenu});case"HAS_FETCHED":return O({},e,{hasFetched:[].concat(Object(c.a)(e.hasFetched),[{call:t.call,method:t.method,data:t.data}])});case"CHANGE_ENROLLABLE_GROUPS":return O({},e,{enrollableGroups:t.enrollableGroups});case"CHANGE_SUBJECTS":return O({},e,{subjects:O({},e.subjects,{},t.subjects)});default:return O({},e,{users:m(e.users,t),groups:y(e.groups,t)})}},x=r(7),k=r(8),C=r(10),w=r(9),I=r(11),P=r(776),S=r(59),D=r(15),N=r(341),G=Object(N.a)({breakpoints:{keys:["xs","sm","md","lg","xl"],values:{xs:0,sm:600,md:960,lg:1280,xl:1920}},direction:"ltr",mixins:{toolbar:{minHeight:56,"@media (min-width:0px) and (orientation: landscape)":{minHeight:48},"@media (min-width:600px)":{minHeight:64}}},overrides:{},palette:{common:{black:"#000",white:"#fff"},type:"light",primary:{main:"#08C8F9",contrastText:"#fff",light:"rgb(57, 211, 250)",dark:"rgb(5, 140, 174)"},secondary:{main:"#c4112f",contrastText:"#fff",light:"#cf4058",dark:"#890b20"},error:{light:"#f89e4c",main:"#f78620",dark:"#ac5d16",contrastText:"#fff"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},contrastThreshold:3,tonalOffset:.2,text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:"#fff",default:"#fafafa"},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}},props:{},shadows:["none","0px 1px 3px 0px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 2px 1px -1px rgba(0, 0, 0, 0.12)","0px 1px 5px 0px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 3px 1px -2px rgba(0, 0, 0, 0.12)","0px 1px 8px 0px rgba(0, 0, 0, 0.2),0px 3px 4px 0px rgba(0, 0, 0, 0.14),0px 3px 3px -2px rgba(0, 0, 0, 0.12)","0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0, 0, 0, 0.12)","0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 5px 8px 0px rgba(0, 0, 0, 0.14),0px 1px 14px 0px rgba(0, 0, 0, 0.12)","0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0, 0, 0, 0.12)","0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0, 0, 0, 0.12)","0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0, 0, 0, 0.12)","0px 5px 6px -3px rgba(0, 0, 0, 0.2),0px 9px 12px 1px rgba(0, 0, 0, 0.14),0px 3px 16px 2px rgba(0, 0, 0, 0.12)","0px 6px 6px -3px rgba(0, 0, 0, 0.2),0px 10px 14px 1px rgba(0, 0, 0, 0.14),0px 4px 18px 3px rgba(0, 0, 0, 0.12)","0px 6px 7px -4px rgba(0, 0, 0, 0.2),0px 11px 15px 1px rgba(0, 0, 0, 0.14),0px 4px 20px 3px rgba(0, 0, 0, 0.12)","0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0, 0, 0, 0.12)","0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 13px 19px 2px rgba(0, 0, 0, 0.14),0px 5px 24px 4px rgba(0, 0, 0, 0.12)","0px 7px 9px -4px rgba(0, 0, 0, 0.2),0px 14px 21px 2px rgba(0, 0, 0, 0.14),0px 5px 26px 4px rgba(0, 0, 0, 0.12)","0px 8px 9px -5px rgba(0, 0, 0, 0.2),0px 15px 22px 2px rgba(0, 0, 0, 0.14),0px 6px 28px 5px rgba(0, 0, 0, 0.12)","0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0, 0, 0, 0.12)","0px 8px 11px -5px rgba(0, 0, 0, 0.2),0px 17px 26px 2px rgba(0, 0, 0, 0.14),0px 6px 32px 5px rgba(0, 0, 0, 0.12)","0px 9px 11px -5px rgba(0, 0, 0, 0.2),0px 18px 28px 2px rgba(0, 0, 0, 0.14),0px 7px 34px 6px rgba(0, 0, 0, 0.12)","0px 9px 12px -6px rgba(0, 0, 0, 0.2),0px 19px 29px 2px rgba(0, 0, 0, 0.14),0px 7px 36px 6px rgba(0, 0, 0, 0.12)","0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 20px 31px 3px rgba(0, 0, 0, 0.14),0px 8px 38px 7px rgba(0, 0, 0, 0.12)","0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 21px 33px 3px rgba(0, 0, 0, 0.14),0px 8px 40px 7px rgba(0, 0, 0, 0.12)","0px 10px 14px -6px rgba(0, 0, 0, 0.2),0px 22px 35px 3px rgba(0, 0, 0, 0.14),0px 8px 42px 7px rgba(0, 0, 0, 0.12)","0px 11px 14px -7px rgba(0, 0, 0, 0.2),0px 23px 36px 3px rgba(0, 0, 0, 0.14),0px 9px 44px 8px rgba(0, 0, 0, 0.12)","0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0, 0, 0, 0.12)"],typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,display4:{fontSize:"7rem",fontWeight:300,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',letterSpacing:"-.04em",lineHeight:"1.14286em",marginLeft:"-.04em",color:"rgba(0, 0, 0, 0.54)"},display3:{fontSize:"3.5rem",fontWeight:400,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',letterSpacing:"-.02em",lineHeight:"1.30357em",marginLeft:"-.02em",color:"rgba(0, 0, 0, 0.54)"},display2:{fontSize:"2.8125rem",fontWeight:400,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',lineHeight:"1.06667em",marginLeft:"-.02em",color:"rgba(0, 0, 0, 0.54)"},display1:{fontSize:"2.125rem",fontWeight:400,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',lineHeight:"1.20588em",color:"rgba(0, 0, 0, 0.54)"},headline:{fontSize:"1.5rem",fontWeight:400,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',lineHeight:"1.35417em",color:"rgba(0, 0, 0, 0.87)"},title:{fontSize:"1.3125rem",fontWeight:500,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',lineHeight:"1.16667em",color:"rgba(0, 0, 0, 0.87)"},subheading:{fontSize:"1rem",fontWeight:400,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',lineHeight:"1.5em",color:"rgba(0, 0, 0, 0.87)"},body2:{fontSize:"0.875rem",fontWeight:500,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',lineHeight:"1.71429em",color:"rgba(0, 0, 0, 0.87)"},body1:{fontSize:"0.875rem",fontWeight:400,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',lineHeight:"1.46429em",color:"rgba(0, 0, 0, 0.87)"},caption:{fontSize:"0.75rem",fontWeight:400,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',lineHeight:"1.375em",color:"rgba(0, 0, 0, 0.54)"},button:{fontSize:"0.875rem",textTransform:"uppercase",fontWeight:500,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',color:"rgba(0, 0, 0, 0.87)"}},transitions:{easing:{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration:{shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195}},spacing:8,zIndex:{mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}}),A=r(29),L=r(40),T=r.n(L),M=r(95),R=r(75),_=r.n(R),H=r(60),z=r.n(H),F=r(326),B=r.n(F),U=r(31),W=r.n(U),V=r(777),Y=r(750),J=r(753);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).onChange=function(e){r.props.onChange(e.target.value)},r.state={error:!1},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e,t,r=null==this.props.value?"":this.props.value,n=this.props.style||{},o=this.props.layout||{},i=this.props.label,l=!0,s=!1,c=!1,u=this.props.options,p=n.underline||!0,d=n.margin||"none",h=0,m=[];if(this.props.style){switch(this.props.style.type){case"headline":(n=Z({},n,{},G.typography.headline)).color=G.palette.primary.main;break;case"title":(n=Z({},n,{},G.typography.title)).color=G.palette.primary.main;break;case"caption":n.color=G.palette.text.secondary;break;default:n.color=G.palette.text.primary}switch(this.props.style.color){case"primary":n.color=G.palette.primary.main;break;case"primaryContrast":n.color=G.palette.primary.contrastText;break;case"secondary":n.color=G.palette.secondary.main;break;case"secondaryContrast":n.color=G.palette.secondary.contrastText;break;case"error":n.color=G.palette.error.main}}if("right"===o.alignment&&(n.float="right",n.textAlign="right",m.push("right")),"left"===o.alignment&&(n.float="left"),o.area&&(c=!0,s=!0),!this.props.default||!1!==this.props.editable||""!==r&&null!=r||(r=this.props.default),this.props.editable)l=!1,p=n.underline||!1,d=n.margin||"normal";else{if(!0!==n.labelVisible&&(i=null),null!=u&&null!=u[0]&&"string"!==typeof u[0]){var b=u.filter((function(e){return e.value===r}))[0];null!=b&&(r=b.label)}u=null}switch(u&&(e=u.map((function(e){return"string"!==typeof e?a.a.createElement(Y.a,{key:e.value,value:e.value},e.label):a.a.createElement(Y.a,{key:e,value:e},e)}))),n.unit&&(t=a.a.createElement(J.a,{position:"end"},n.unit)),d){case"dense":h=5;break;case"normal":h=12}var f=a.a.createElement(V.a,{id:this.props.id,value:r,margin:"none",disabled:l,fullWidth:c,multiline:s,className:m.join(" ")+" Field",label:i,select:!!u,style:Z({flex:1},n,{margin:h}),onChange:this.onChange,error:this.state.error,InputProps:{disableUnderline:p,style:Z({},n,{width:"100%"}),endAdornment:t||null,inputProps:{style:Z({},n,{width:"100%"})}}},e);return o.td?a.a.createElement("td",{style:n},f):f}}],[{key:"getDerivedStateFromProps",value:function(e,r){return Z({},r,{error:!!e.editable&&!t.validate(e.value,e.validate)})}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[e];switch(t.type){case"phoneNumber":var n=/(^\+[0-9]{2}|^\+[0-9]{2}\(0\)|^\(\+[0-9]{2}\)\(0\)|^00[0-9]{2}|^0)([0-9]{9}$|[0-9\-\s]{10}$)/i;if(!n.test(e))return!1;break;case"email":var a=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/g;if(!a.test(e))return!1;break;case"integer":if(!/^\+?[1-9][\d]*$/i.test(e))return!1;break;case"float":if(isNaN(e))return!1;break;case"decimalGrade":var o=e.replace(/\./g,"_$comma$_").replace(/,/g,".").replace(/_\$comma\$_/g,",");if("ND"===o)return!0;if(isNaN(o))return!1}return!(t.min&&parseFloat(e)<t.min)&&(!(t.max&&parseFloat(e)>t.max)&&((!t.notEmpty||null!=e&&""!==e&&" "!==e&&-1!==r.indexOf(e))&&!(t.maxLength&&null!=e&&e.length>t.maxLength)))}}]),t}(a.a.Component);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t){return function(r){var n=r.responseJSON;throw"user/self"!==e&&t({type:"ADD_NOTIFICATION",notification:{id:Math.random(),priority:"high",type:"bar",message:n&&n.error?n.error:"Er is iets mis gegaan",scope:"."}}),n}}function ee(e,t,r,n,a,o){return te.apply(this,arguments)}function te(){return(te=Object(M.a)(T.a.mark((function e(t,r,n,a,o,i){var l,s,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l={call:t,method:r,data:n},s=0;case 2:if(!(s<o().hasFetched.length)){e.next=9;break}if((c=o().hasFetched[s]).data!==l.data||c.call!==l.call||c.method!==l.method){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("Duplicate api call")));case 6:s++,e.next=2;break;case 9:return a(X({},l,{type:"HAS_FETCHED"})),e.abrupt("return",z.a.ajax({url:"/api/"+t,type:r,data:n,dataType:"json"}).then((function(e){return"put"!==r&&"patch"!==r&&"delete"!==r||a({type:"ADD_NOTIFICATION",notification:{id:Math.random(),priority:"low",type:"bar",message:"Opgeslagen",scope:""}}),Array.isArray(e)&&!0!==i?B()(e,"id"):e})).catch(Q(t,a)));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return function(e,t){ee("subject/list","get",null,e,t).then((function(t){e({type:"CHANGE_SUBJECTS",subjects:t})})).catch((function(){}))}}function ne(){return function(e,t){ee("group/list","get",null,e,t).then((function(t){e({type:"CHANGE_GROUPS",groups:t})})).catch((function(){}))}}function ae(e){if(e&&"student"===e.role){if(!q.validate(e.year,{type:"integer",min:1,max:6}))return"Leerjaar";if(!q.validate(e.level,{notEmpty:!0}))return"Opleidingsniveau";if(!q.validate(e.profile,{notEmpty:!0}))return"Profiel";if(!q.validate(e.preferedEmail,{type:"email"}))return"Voorkeurs email";if(!q.validate(e.phoneNumber,{type:"phoneNumber"}))return"Telefoonnummer"}return!1}function oe(e){/MSIE|Trident/.test(window.navigator.userAgent)&&e({type:"ADD_NOTIFICATION",notification:{id:Math.random(),priority:"high",type:"bar",message:"Deze website ondersteunt Internet Explorer niet. Gebruik een moderne browser zoals Firefox of Chrome",sticky:!0,scope:""}})}function ie(){return function(e,t){var r={id:-96,priority:"low",type:"bar",message:"Bezig met laden",scope:"."};e(se(r)),ee("user/self","get",null,e,t).then((function(t){!function(e,t){var r=ae(e);r&&t({type:"ADD_NOTIFICATION",notification:{id:Math.random(),priority:"high",type:"badge",message:"Vul een geldige waarde voor ".concat(r," in"),scope:"profiel"}})}(t,e),oe(e),e({type:"SET_SELF",user:t}),e(ce(r))})).catch((function(t){oe(e),e(ce(r)),null!=t&&"Authentication Error"===t.error?"/login"!==window.location.pathname&&(me("beforeLoginPath",window.location.pathname+window.location.search,24),document.location.href="/login"):(e(ue(!1)),e(se({id:-1,priority:"high",type:"bar",message:"Kan geen verbinding met de server maken"})))}))}}function le(){return function(e,t){ee("user/enrollments","get",null,e,t).then((function(r){e({type:"CHANGE_GROUPS",groups:r}),e({type:"CHANGE_ENROLLMENTS",userId:t().userId,enrollmentIds:Object.keys(r)})})).catch((function(){}))}}function se(e){return{type:"ADD_NOTIFICATION",notification:e}}function ce(e){return{type:"REMOVE_NOTIFICATION",notification:e}}function ue(e){return{type:"TOGGLE_MENU",menuState:e}}function pe(e,t){return function(r,n){return ee("subject","put",{name:e,description:t,secureLogin:n().secureLogin},r,n).then((function(){r({type:"ADD_NOTIFICATION",notification:{id:Math.random(),priority:"low",type:"bar",message:"Vak aangemaakt, refresh om te zien",scope:"beheer"}})}))}}function de(e,t){return function(r,n){return ee("course","put",{name:e,subjectId:t,secureLogin:n().secureLogin},r,n).then((function(){r({type:"ADD_NOTIFICATION",notification:{id:Math.random(),priority:"low",type:"bar",message:"Module aangemaakt, refresh om te zien",scope:"beheer"}})}))}}function he(e,t){return function(r,n){return ee("group","put",{courseId:e,mainTeacherId:t,secureLogin:n().secureLogin},r,n).then((function(){r({type:"ADD_NOTIFICATION",notification:{id:Math.random(),priority:"low",type:"bar",message:"Groep aangemaakt, refresh om te zien",scope:"beheer"}})}))}}function me(e,t,r){var n=new Date;n.setTime(n.getTime()+60*r*60*1e3);var a="expires="+n.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function be(){me("beforeLoginPath",window.location.pathname+window.location.search,24),document.location.href="/auth/login?secure=true"}var fe=r(756),ge=r(197),ye=r(85),ve=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).state={},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.generateEmail.bind(this)(),this.interval=setInterval(this.generateEmail.bind(this),1500)}},{key:"generateEmail",value:function(){var e=this.state.school,t=this.state.schoolShort,r=this.state.studentNumber;switch(Math.floor(14*Math.random())){case 0:e="beekdallyceum",t="BD";break;case 1:e="candea",t="CC";break;case 2:e="quadraam",t="CB";break;case 3:e="lyceumelst",t="LE";break;case 4:e="liemerscollege",t="LC";break;case 5:e="lorentzlyceum",t="LL";break;case 6:e="maartenvanrossem",t="MvR";break;case 7:e="montessoriarnhem",t="MC";break;case 8:e="olympuscollege",t="OC";break;case 9:e="produsarnhem",t="PD";break;case 10:e="gymnasiumarnhem",t="SGA";break;case 11:e="symbion",t="SY";break;case 12:e="vmbo-venster",t="VE";break;case 13:default:e="hetwesteraam",t="HW"}for(var n=(r=Math.floor(999999*Math.random())+"").length;n<6;n++)r="0"+r;this.setState({school:e,schoolShort:t,studentNumber:r})}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"login",value:function(){document.location.href="/auth/login"}},{key:"generateColoredEmail",value:function(e,t,r){return a.a.createElement(ye.a,{variant:"subtitle1",style:{fontFamily:"'Courier New', Courier, monospace",overflow:"hidden"}},a.a.createElement("span",{style:{color:G.palette.secondary.light,fontWeight:"bold"}},e),a.a.createElement("span",{style:{color:G.palette.secondary.dark,fontWeight:"bolder"}},t),a.a.createElement("span",{style:{fontWeight:"bold"}},"@ll."),a.a.createElement("span",{style:{color:G.palette.secondary.light,fontWeight:"bold"}},r),a.a.createElement("span",{style:{fontWeight:"bold"}},".nl"))}},{key:"render",value:function(){return null!=this.props.userId?(this.props.history.push("/"),this.props.toggleMenu(!0)):this.props.toggleMenu(!1),a.a.createElement(ge.a,{elevation:8,className:"Login",style:{minHeight:"330px"}},a.a.createElement("div",{style:{padding:"20px"}},a.a.createElement(ye.a,{gutterBottom:!0,variant:"body1",color:"primary"},"Log in"),a.a.createElement(ye.a,{variant:"subtitle1"},"Gebruik je school-email om in te loggen:"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("center",null,this.generateColoredEmail("schoolafkorting","leerlingnummer","school"),this.generateColoredEmail(this.state.schoolShort,this.state.studentNumber,this.state.school)),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(fe.a,{type:"submit",variant:"contained",size:"large",color:"primary",fullWidth:!0,onClick:this.login},"Login met je Microsoft school account")))}}]),t}(n.Component);var Oe=Object(A.h)(Object(D.b)((function(e){return{userId:e.userId}}),(function(e){return{login:function(t,r){e(ue(!0))},toggleMenu:function(t){e(ue(t))}}}))(ve)),Ee=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e="";return this.props.showMenu?e+="menuShown":e+="menuHidden",a.a.createElement("div",{className:"Page "+e},this.props.children)}}]),t}(n.Component);var je=Object(D.b)((function(e){return{showMenu:e.showMenu}}))(Ee),xe=r(757),ke=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).state={isShowing:!1},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeout=setTimeout((function(){return e.setState({isShowing:!0})}),200)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){return this.state.isShowing?a.a.createElement(xe.a,this.props):null}}]),t}(n.Component),Ce=r(762),we=r(149),Ie=r.n(we),Pe=r(779),Se=r(758),De=r(759),Ne=r(760);function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ae=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).getRemarkPage=function(){var e=r.props.group.remarks;return a.a.createElement(Pe.a,{open:!0,keepMounted:!0},a.a.createElement(Se.a,null,"Opmerkingen"),a.a.createElement(De.a,null,a.a.createElement(ye.a,null,e)),a.a.createElement(Ne.a,null,a.a.createElement(fe.a,{color:"default"},"Annuleren"),a.a.createElement(fe.a,{onClick:function(){r.props.preventPopupClose(!0),r.setState({page:"hasChosenDay"})},color:"primary"},"Verder")))},r.state={},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"getDuplicatePage",value:function(){var e=this;return a.a.createElement(Pe.a,{open:!0,keepMounted:!0},a.a.createElement(De.a,null,a.a.createElement(ye.a,{color:"error",style:{fontSize:"16px"}},"Je hebt al een module gekozen voor "+this.props.group.day+"!"),"Je hebt je op deze dag al voor de module\xa0",a.a.createElement(ye.a,{color:"primary",variant:"button"},this.props.chosenDayGroupName),"\xa0ingeschreven. Wil je je ook voor\xa0",a.a.createElement(ye.a,{color:"primary",variant:"button"},this.props.group.courseName),"\xa0inschrijven?"),a.a.createElement(Ne.a,null,a.a.createElement(fe.a,{color:"primary",variant:"contained",onClick:function(){e.props.handlePopup(!0)}},"Toch inschrijven"),a.a.createElement(fe.a,{color:"default"},"Annuleren")))}},{key:"getCancelPage",value:function(){var e=this;return a.a.createElement(Pe.a,{open:!0,keepMounted:!0},a.a.createElement(Se.a,null,"Uitschrijven"),a.a.createElement(De.a,null,"Weet je zeker dat je wilt uitschrijven voor de module\xa0",a.a.createElement(ye.a,{color:"primary",variant:"button"},this.props.group.courseName)," ","\xa0?"),a.a.createElement(Ne.a,null,a.a.createElement(fe.a,{color:"default"},"Annuleren"),a.a.createElement(fe.a,{onClick:function(){return e.props.handlePopup(!0)},color:"primary"},"Uitschrijven",a.a.createElement(Ie.a,null))))}},{key:"getConfirmPage",value:function(){var e=this;return a.a.createElement(Pe.a,{open:!0,keepMounted:!0},a.a.createElement(Se.a,null,"Inschrijven"),a.a.createElement(De.a,null,"Weet je zeker dat je wilt inschrijven voor de module\xa0",a.a.createElement(ye.a,{color:"primary",variant:"button"},this.props.group.courseName),"\xa0?"),a.a.createElement(Ne.a,null,a.a.createElement(fe.a,{color:"default"},"Annuleren"),a.a.createElement(fe.a,{onClick:function(){e.props.handlePopup(!0)},variant:"contained",color:"primary"},"Inschrijven")))}},{key:"render",value:function(){this.props.preventPopupClose(!1);var e=this.state.page;return"cancel"===e?this.getCancelPage():"remarks"===e&&null!=this.props.group.remarks&&this.props.group.remarks.length>1?this.getRemarkPage():"hasChosenDay"===e&&this.props.hasChosenDay?this.getDuplicatePage():this.getConfirmPage()}}],[{key:"getDerivedStateFromProps",value:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({page:e.hasChosen?"cancel":"remarks"},t)}}]),t}(n.Component),Le=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).preventPopupClose=function(e){r.preventClose=e},r.handlePopup=function(e){e&&r.props.toggleEnrollment(r.props.group),r.preventClose||r.setState({dialogOpen:!r.state.dialogOpen})},r.props.getEnrollableGroups(),r.props.getEnrolLments(),r.state={dialogOpen:!1},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=this.state.dialogOpen?a.a.createElement(Ae,{group:t.group,hasChosen:t.hasChosen,handlePopup:this.handlePopup,hasChosenDay:t.hasChosenDay,chosenDayGroupName:t.chosenDayGroupName,preventPopupClose:this.preventPopupClose}):null;return t.loading?a.a.createElement(ke,{size:30}):t.hasChosen?a.a.createElement(fe.a,{color:"primary",onClick:function(){return e.handlePopup(!1)},style:t.style},"Ingeschreven",a.a.createElement(Ie.a,null),r):this.props.canChoose?a.a.createElement(fe.a,{color:"primary",variant:"contained",onClick:function(){return e.handlePopup(!1)},style:this.props.style},"Inschrijven"+(this.props.hasChosenDay?"*":""),r):t.group.period<this.props.enrollmentPeriod?a.a.createElement(fe.a,{disabled:!0,color:"primary",style:t.style},"Inschrijfperiode verlopen",r):a.a.createElement(fe.a,{disabled:!0,color:"primary",style:t.style},"Coming Soon",r)}}]),t}(n.Component);var Te=Object(D.b)((function(e,t){if(null==e.users[e.userId].enrollmentIds||null==e.enrollableGroups)return{loading:!0};var r=-1;return e.users[e.userId].enrollmentIds.forEach((function(n){var a=e.groups[n];a.day===t.group.day&&a.period===t.group.period&&(r=a.courseName)})),{canChoose:-1!==e.enrollableGroups.map((function(e){return e.id})).indexOf(t.group.id),hasChosen:-1!==e.users[e.userId].enrollmentIds.indexOf(t.group.id),hasChosenDay:-1!==r,chosenDayGroupName:r,enrollmentPeriod:e.enrollmentPeriod}}),(function(e){return{toggleEnrollment:function(t){return e(function(e){return function(t,r){-1===r().users[r().userId].enrollmentIds.indexOf(e.id)?ee("user/enrollments","put",{groupId:e.id},t,r).then((function(){t({type:"CHANGE_ENROLLMENTS",action:"ADD",userId:r().userId,groupId:e.id})})):ee("user/enrollments","delete",{groupId:e.id},t,r).then((function(){t({type:"CHANGE_ENROLLMENTS",action:"REMOVE",userId:r().userId,groupId:e.id})}))}}(t))},getEnrollableGroups:function(){return e((function(e,t){ee("user/enrollableGroups","get",null,e,t,!0).then((function(t){e({type:"CHANGE_ENROLLABLE_GROUPS",enrollableGroups:t})})).catch((function(){}))}))},getEnrolLments:function(){return e(le())}}}))(Le),Me=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return!1!==this.props.active&&null==this.props.secureLogin?a.a.createElement(ge.a,{style:{padding:"20px",marginTop:"25px"}},a.a.createElement(q,{value:"Log opnieuw in om toegang te krijgen",layout:{area:!0}}),a.a.createElement(fe.a,{color:"primary",variant:"contained",onClick:be},"Inloggen")):this.props.children}}]),t}(n.Component);var Re=Object(D.b)((function(e){return{secureLogin:e.secureLogin}}),null)(Me),_e=r(761),He=r(781);function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Be=[{label:"vink",value:"check",options:[{label:"Gehaald",value:"passed"},{label:"Niet gehaald",value:"failed"},{label:"Niet deelgenomen",value:"ND"}]},{label:"trapsgewijs",value:"stepwise",options:[{label:"Onvoldoende",value:"O"},{label:"Voldoende",value:"V"},{label:"Goed",value:"G"},{label:"Niet deelgenomen",value:"ND"}]},{label:"cijfer",value:"decimal",options:"decimal"}];function Ue(e){if("ND"===e.assesment||null==e.assesment)return"#673ab7";switch(e.type){case"stepwise":return"#3f51b5";case"check":return"#009688";case"decimal":return"#00bcd4";default:return"#673ab7"}}var We=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.evaluation,t={underline:!1,flex:2},r={td:!0};return this.props.student&&(t.type="headline",t.color="primaryContrast",r.td=!1,r.alignment="right"),"decimal"===e.type?a.a.createElement(q,{style:t,validate:{min:1,max:10,type:"decimalGrade",notEmpty:!0},layout:r,label:"Beoordeling",name:e.userId,value:e.assesment?e.assesment:"",editable:this.props.editable,onChange:this.props.onChange}):a.a.createElement(q,{style:t,name:e.userId,label:"Beoordeling",layout:r,value:e.assesment?e.assesment:"",options:Be.filter((function(t){return t.value===e.type}))[0].options,editable:this.props.editable,onChange:this.props.onChange})}}]),t}(n.Component),Ve=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).onSortChange=function(e){r.setState({sortValue:e,sortDirection:"desc"===r.state.sortDirection&&r.state.sortValue===e?"asc":"desc"})},r.handleSingleChange=function(e){var t=r.props.evaluations.map((function(t){return t.userId===e.userId?e:Fe({},t)}));r.props.handleChange(t)},r.sortEvaluations=function(){var e=r.props.evaluations,t=r.state.sortValue,n="asc"===r.state.sortDirection?"asc":"desc";return"name"===t?e.sort((function(e,t){var r=t.displayName<e.displayName;return"asc"===n?r:-r})):"evaluations"===t&&e.sort((function(e,t){e=e.assesment;var r=(null===(t=t.assesment))-(null==e)||+(e>t)||-(e<t);return"asc"===n?r:-r})),e},r.state={sortValue:"",sortDirection:""},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"handleEvaluationTypeChange",value:function(e){for(var t=[],r=0;r<this.props.evaluations.length;r++)t.push(Fe({},this.props.evaluations[r],{type:e})),this.props.handleChange(t)}},{key:"render",value:function(){var e=this,t=this.state.sortValue,r="asc"===this.state.sortDirection?"asc":"desc",n={marginTop:"10px",alignItems:"center",paddingRight:"15px",paddingLeft:"15px",display:"flex"},o=this.props.evaluations;if(0===o.length)return"Er zijn nog geen beoordelingen beschikbaar";var i=this.sortEvaluations().map((function(t){return a.a.createElement(ge.a,{style:n,key:t.userId,component:"tr"},a.a.createElement(q,{style:{type:"title",color:"primary",flex:2},value:t.displayName,layout:{td:!0}}),a.a.createElement(We,{editable:e.props.editable,evaluation:t,onChange:function(r){return e.handleSingleChange(Fe({},t,{assesment:r}))}}),a.a.createElement(q,{style:{underline:!1,flex:5},layout:{area:!0,td:!0},label:"Uitleg",name:t.userId,value:t.explanation,editable:e.props.editable,onChange:function(r){return e.handleSingleChange(Fe({},t,{explanation:r}))}}))}));return a.a.createElement(Re,{active:this.props.editable},a.a.createElement("table",{style:{width:"100%"}},a.a.createElement("tbody",null,a.a.createElement(ge.a,{style:Fe({},n,{backgroundColor:"#e0e0e0"}),component:"tr"},a.a.createElement("td",{style:{paddingLeft:"15px"}},a.a.createElement(ye.a,{type:"title",color:"primary",style:{padding:"5px 0"}},a.a.createElement(_e.a,{title:"Sorteer",enterDelay:300,placement:"bottom-start"},a.a.createElement(He.a,{active:"evaluations"===t,onClick:function(){return e.onSortChange("evaluations")},direction:r,style:{color:"inherit",fontSize:"1.5rem"}},"Beoordelingen"))),a.a.createElement("div",null,a.a.createElement(_e.a,{title:"Sorteer",enterDelay:300,placement:"bottom-start"},a.a.createElement(He.a,{active:"name"===t,onClick:function(){return e.onSortChange("name")},direction:r},"Naam")))),a.a.createElement("td",{style:{flex:"5"}}),a.a.createElement("td",null,a.a.createElement(q,{label:"Beoordelingsformaat",style:{type:"caption",underline:!1,margin:"normal",labelVisible:!0},layout:{alignment:"right"},value:o[0].type,options:Be,editable:this.props.editable,onChange:this.handleEvaluationTypeChange.bind(this)}))),i)))}}]),t}(n.Component),Ye=(r(451),function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).state={hover:!1},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"expand",value:function(){this.props.history.push("/groep/"+this.props.group.id)}},{key:"getBottomSection",value:function(){return this.props.group.evaluation&&""!==this.props.group.evaluation.assesment&&null!==this.props.group.evaluation.assesment?a.a.createElement("div",{className:"footer",style:{backgroundColor:Ue(this.props.group.evaluation)}},a.a.createElement(q,{value:"Beoordeling",style:{type:"title",flex:2}}),a.a.createElement(We,{evaluation:this.props.group.evaluation,student:!0})):a.a.createElement("div",{className:"footer"},a.a.createElement(fe.a,{color:"secondary",onClick:this.expand.bind(this)},"Bekijken"),"student"===this.props.role&&a.a.createElement(Te,{group:this.props.group}))}},{key:"render",value:function(){var e=this,t=this.props.group;return a.a.createElement("div",{className:"GroupCard"},a.a.createElement(ge.a,{elevation:this.state.hover?4:2,onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})}},a.a.createElement(Ce.a,{color:"secondary",invisible:this.props.schoolYear===t.schoolYear,badgeContent:t.schoolYear},a.a.createElement("div",{className:"GroupCardInside"},a.a.createElement(ye.a,{variant:"caption",color:"primary",style:{overflow:"hidden",maxHeight:"65px",cursor:"pointer"},onClick:function(){e.props.history.push("/groep/"+t.id)}},t.subjectName+" - #M"+(t.courseId+"").padStart(4,"0")),a.a.createElement(ye.a,{variant:"h1",style:{overflow:"hidden",height:"64px",cursor:"pointer",textTransform:"uppercase",fontSize:"24px"},onClick:function(){e.props.history.push("/groep/"+t.id)}},t.courseName),a.a.createElement("div",null,a.a.createElement(ye.a,{style:{display:"inline-block",fontWeight:"bold",float:"right"}},"Blok "+t.period+" - "+t.day),a.a.createElement(ye.a,{style:{display:"inline-block",fontWeight:"bold"}},t.enrollableFor||"Iedereen")),t.evaluation?a.a.createElement(ye.a,{style:{maxHeight:"164px",overflow:"hidden"},gutterBottom:!0},a.a.createElement("b",null,"Uitleg beoordeling: "),t.evaluation.explanation):a.a.createElement(ye.a,{style:{maxHeight:"164px",overflow:"hidden"},gutterBottom:!0},t.courseDescription),this.getBottomSection()))))}}]),t}(n.Component)),Je=Object(A.h)(Ye);function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qe=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).state={hover:!1,style:{width:"100%",height:"auto",margin:"0px",padding:"10px"}},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"formatPhoneNumber",value:function(e){null==e&&(e="");var t=e.replace(/\D/g,"");if(10===t.length)return"6"===t[1]?t.substr(0,2)+" "+t.substr(2,8):t.substr(0,3)+" "+t.substr(3,7);var r=/(0031|31)0?(6)?([0-9]+)$/gm.exec(t);return r?r[2]?"+31 06 "+r[3]:"+31 "+r[3]:e}},{key:"expand",value:function(){this.props.history.push("/user/"+this.props.user.id)}},{key:"render",value:function(){var e=this,t=Ze({},this.props.user),r=Ze({},this.state.style);return a.a.createElement("tr",{key:t.id},a.a.createElement(ge.a,{elevation:this.state.hover?2:1,onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})},component:"td",style:r},a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.a.createElement(ye.a,{variant:"button",color:"teacher"===t.role?"secondary":"primary",style:{flex:1}},t.firstName+" "+t.lastName),a.a.createElement(ye.a,{variant:"subtitle1",style:{flex:1}},t.school),a.a.createElement(ye.a,{variant:"body1",style:{flex:1}},t.level+" - "+t.year),a.a.createElement(ye.a,{variant:"body1",style:{flex:1}},"teacher"===t.role?"docent":"leerling"),a.a.createElement(ye.a,{variant:"body1",style:{flex:1}},t.profile)),"admin"===this.props.role&&a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.a.createElement(ye.a,{variant:"body1",style:{flex:1}},t.email),a.a.createElement(ye.a,{variant:"body1",style:{flex:1}},t.preferedEmail),a.a.createElement("div",{style:{flex:1}}),a.a.createElement(ye.a,{variant:"body1",style:{flex:1}},this.formatPhoneNumber(t.phoneNumber)),a.a.createElement(ye.a,{variant:"body1",style:{flex:1}},t.id)),this.props.children))}}]),t}(n.Component),Ke=Object(A.h)(qe),Xe=r(763);function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tt=["Geen Profiel","NT","NG","CM","EM","NT&NG","EM&CM"],rt=["VWO","HAVO","VMBO"],nt=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).handleChange=function(e,t){r.setState({user:et({},r.state.user,Object(u.a)({},e,t))})},r.state={user:r.props.user},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"hasChanged",value:function(){return JSON.stringify(this.props.user)!==JSON.stringify(this.state.user)}},{key:"render",value:function(){var e=this,t=null;this.props.user.id!==this.state.user.id?(this.setState({user:this.props.user}),t=this.props.user):t=this.state.user;var r=this.props.ownProfile&&!1!==ae(t);return a.a.createElement(je,null,a.a.createElement(q,{label:"Naam",value:t.displayName,style:{type:"headline"}}),a.a.createElement(q,{label:"Rol",layout:{alignment:"right"},value:t.role}),a.a.createElement(Xe.a,null),a.a.createElement("br",null),a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(q,{label:"Leerjaar",value:t.year,style:{margin:"normal"},editable:this.props.ownProfile,onChange:function(t){return e.handleChange("year",t)},validate:{type:"integer",min:1,max:6}}),a.a.createElement(q,{label:"Opleidingsniveau",value:t.level,editable:this.props.ownProfile,onChange:function(t){return e.handleChange("level",t)},options:rt,validate:{notEmpty:!0}}),this.props.ownProfile&&a.a.createElement(q,{label:"Profiel",value:t.profile,editable:this.props.ownProfile,options:tt,onChange:function(t){return e.handleChange("profile",t)},validate:{notEmpty:!0}})),a.a.createElement("div",{style:{display:"flex"}},this.props.ownProfile&&a.a.createElement(q,{label:"Voorkeurs email",value:t.preferedEmail,editable:this.props.ownProfile,onChange:function(t){return e.handleChange("preferedEmail",t)},validate:{type:"email"}}),this.props.ownProfile&&a.a.createElement(q,{label:"Telefoonnummer",value:t.phoneNumber,editable:this.props.ownProfile,onChange:function(t){return e.handleChange("phoneNumber",t)},validate:{type:"phoneNumber"}})),a.a.createElement("br",null),r&&a.a.createElement(ye.a,{gutterBottom:!0,variant:"button",color:"secondary"},"Controleer de bovenstaande gegevens en vul de ontbrekende gegevens aan."),a.a.createElement("br",null),a.a.createElement("br",null),this.hasChanged()&&a.a.createElement(fe.a,{variant:"contained",color:"secondary",size:"large",onClick:function(){return e.props.save(e.state.user)}},"Opslaan"))}}]),t}(n.Component);var at=Object(D.b)(null,(function(e){return{save:function(t){return e(function(e){return function(t,r){t({type:"CHANGE_USER",user:e}),ee("user","patch",e,t,r)}}(t))}}}))(nt);function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lt={width:"300px",height:"80px",padding:"20px",verticalAlign:"top",margin:"20px",display:"inline-block",cursor:"pointer"},st=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).state={hover:!1,style:it({},lt,{},r.props.style)},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"expand",value:function(){this.props.history.push("/gebruiker/"+this.props.user.id)}},{key:"render",value:function(){var e=this,t=this.props.user;return a.a.createElement(ge.a,{elevation:this.state.hover?4:2,onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})},style:this.state.style},a.a.createElement(ye.a,{variant:"button",color:"teacher"===t.role?"secondary":"primary"},t.firstName+" "+t.lastName),a.a.createElement(ye.a,{variant:"subtitle1"},("teacher"===t.role?"docent":"leerling")+"\t"+t.school))}}]),t}(n.Component),ct=Object(A.h)(st),ut=r(39),pt=r.n(ut),dt=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).state={},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this;if(null==this.props.user)return"page"===this.props.display?this.props.notExists?a.a.createElement("div",{className:"page"},"De opgevraagde gebruiker bestaat niet"):a.a.createElement("div",{className:"page"},a.a.createElement(ke,null)):this.props.notExists?null:a.a.createElement(ke,null);switch(this.props.display){case"name":return a.a.createElement(q,{value:this.props.user.displayName,style:{type:"title",width:"auto"},layout:{td:!0}});case"page":return a.a.createElement(at,this.props);case"row":return a.a.createElement(Ke,this.props,this.props.actions&&this.props.actions.map((function(t){return a.a.createElement(fe.a,{onClick:function(){return t.onClick(e.props.userId)},variant:"contained",color:"primary",style:{marginRight:"10px"}},t.label)})));case"card":default:return a.a.createElement(ct,this.props)}}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=pt.a.parse(e.location.search);if(null!=r.secureLogin&&e.setSecureLogin(r.secureLogin),"login"===r.from&&null!=e.user&&"student"!==e.role){var n=function(e){for(var t=e+"=",r=decodeURIComponent(document.cookie).split(";"),n=0;n<r.length;n++){for(var a=r[n];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""}("beforeLoginPath");e.history.push(n)}return t}}]),t}(n.Component);var ht=Object(A.h)(Object(D.b)((function(e,t){var r=t.match.params.userId||t.userId,n=t.display||"page",a=!1,o=null;return null==r&&(r=e.userId),null==e.users||null==e.users[r]?null!=r&&-1===e.hasFetched.indexOf("User.get("+r+")")||(a=!0):o=e.users[r],{role:e.role,user:o,notExists:a,display:n,userId:r,ownProfile:""+r===""+e.userId}}),(function(e){return{setSecureLogin:function(t){return e(function(e){return{type:"SET_SECURE_LOGIN",secureLogin:e}}(t))}}}))(dt));function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var bt=function(e){function t(){var e,r;Object(x.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(r=Object(C.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(o)))).createRow=function(e){var t=W()(r.props.lessons,(function(t,n){var a=_()(r.props.presence,(function(r){return r.lessonId===t.id&&r.userId===e}));return 1===a.length?r.createPresenceComponent(a[0],n):r.createPresenceComponent({id:Math.floor(1e5*-Math.random()),lessonId:t.id,userId:e,status:"present"},n)}));return a.a.createElement(ge.a,{component:"tr",elevation:1,key:"p"+e},a.a.createElement(ht,{key:e,userId:e,display:"name"}),t)},r.createLessonHeader=function(e){var t=W()(r.props.lessons,(function(e){return a.a.createElement(q,{value:"Les "+e.numberInBlock,key:e.id,style:{type:"title"},layout:{td:!0,area:!0}})}));return a.a.createElement(ge.a,{component:"tr",elevation:2,key:"l"+e,style:{backgroundColor:"#e0e0e0"}},a.a.createElement(q,{value:"",layout:{td:!0,area:!0}}),t)},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"createPresenceComponent",value:function(e,t){var r=this,n=[{label:"Actief",value:"present"},{label:"Niet actief",value:"absent"}];return this.props.editable||"absent"!==e.userStatus||(n[0].label="Afgemeld",n[1].label="Afgemeld"),a.a.createElement(q,{key:t,value:e.status,options:n,label:"absent"===e.userStatus?"afgemeld":void 0,layout:{td:!0,area:!0},editable:this.props.editable,onChange:function(t){r.props.handleChange(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{status:t}))}})}},{key:"render",value:function(){var e=this.props.participantIds.map(this.createRow);return e.unshift(this.createLessonHeader()),a.a.createElement("table",null,a.a.createElement("tbody",null,e))}}]),t}(n.Component);function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var gt=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).handleChange=function(e,t){r.props.handleChange(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r.props.lesson,Object(u.a)({},e,t)))},r.state={hover:!1,style:{width:"100%",height:"auto",marginTop:"10px",marginBottom:"10px",padding:"2px",display:"flex",alignItems:"start",position:"relative"}},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"getWeekdayString",value:function(e){return["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"][e]}},{key:"getOptOutButton",value:function(){var e=this;return"absent"===this.props.lesson.userStatus?a.a.createElement("div",{style:{flex:1}},a.a.createElement(fe.a,{style:{width:"70px",float:"right"},size:"small",mini:!0,color:"primary",onClick:function(){return e.props.setPresenceUserStatus(e.props.lesson.id,"present",e.props.lesson.courseGroupId)}},"Aanmelden")):a.a.createElement("div",{style:{flex:1}},a.a.createElement(fe.a,{style:{width:"70px",float:"right"},size:"small",mini:!0,color:"secondary",onClick:function(){return e.props.setPresenceUserStatus(e.props.lesson.id,"absent",e.props.lesson.courseGroupId)}},"Afmelden"))}},{key:"render",value:function(){var e=this,t=this.props.lesson;return-1===t.id?a.a.createElement(ge.a,{elevation:this.state.hover?2:1,onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})},component:"tr",style:{backgroundColor:"#e0e0e0"}},a.a.createElement("td",{style:{display:"flex",flexDirection:"column"}},a.a.createElement(q,{style:{fontWeight:"bold"},value:"Lesnummer"}),a.a.createElement(q,{style:{fontWeight:"bold"},value:"Soort les"})),a.a.createElement(q,{style:{flex:4,fontWeight:"bold"},value:"Onderwerp",layout:{td:!0}}),a.a.createElement(q,{style:{flex:8,fontWeight:"bold"},value:"Activiteiten",layout:{td:!0}}),a.a.createElement("td",{style:{display:"flex",flexDirection:"column"}},a.a.createElement(q,{style:{fontWeight:"bold"},value:"Datum",layout:{alignment:"right"}}),a.a.createElement(q,{style:{fontWeight:"bold"},value:"Aanwezigheid",layout:{alignment:"right"}}))):a.a.createElement(ge.a,{elevation:this.state.hover?2:1,onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})},component:"tr"},a.a.createElement("td",{style:{display:"flex",flexDirection:"column"}},a.a.createElement(q,{color:"primary",layout:{area:!0},style:{fontWeight:"bold"},value:"Les "+t.numberInBlock}),a.a.createElement(q,{label:"Soort les",layout:{area:!0},value:t.kind,editable:this.props.editable,onChange:function(t){return e.handleChange("kind",t)}})),a.a.createElement(q,{label:"Onderwerp",style:{flex:4},value:t.subject,editable:this.props.editable,onChange:function(t){return e.handleChange("subject",t)},layout:{td:!0,area:!0}}),a.a.createElement(q,{label:"Activiteiten",style:{flex:8},value:t.activities,editable:this.props.editable,onChange:function(t){return e.handleChange("activities",t)},layout:{td:!0,area:!0}}),a.a.createElement("td",{style:{display:"flex",flexDirection:"column"}},a.a.createElement(q,{layout:{alignment:"right"},value:this.getWeekdayString(new Date(t.date).getDay())+" "+new Date(t.date).getDate()+"-"+(new Date(t.date).getMonth()+1)+"-"+new Date(t.date).getFullYear()}),a.a.createElement(q,{label:"Aanwezigheid",style:{labelVisible:!0},layout:{alignment:"right"},value:t.presence,editable:this.props.editable,onChange:function(t){return e.handleChange("presence",t)},options:[{label:"Noodzakelijk",value:"required"},{label:"Eigen keuze",value:"optional"},{label:"Geen bijeenkomst",value:"unrequired"}]}),this.props.userIsMemberOfGroup&&"student"===this.props.role?this.getOptOutButton():null))}}]),t}(n.Component);var yt=Object(D.b)(null,(function(e){return{setPresenceUserStatus:function(t,r,n){return e(function(e,t,r){return function(n,a){n({type:"CHANGE_PRESENCE_USER_STATUS",lessonId:e,userStatus:t,groupId:r}),ee("group/userStatus","patch",{lessonId:e,userStatus:t},n,a)}}(t,r,n))}}}))(gt);function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ot=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).onSortChange=function(e){r.setState({sortValue:e,sortDirection:"desc"===r.state.sortDirection&&r.state.sortValue===e?"asc":"desc"})},r.getHeader=function(){var e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r.state.style);return a.a.createElement("tr",{key:"header"},a.a.createElement(ge.a,{elevation:r.state.hover?2:1,onMouseEnter:function(){return r.setState({hover:!0})},onMouseLeave:function(){return r.setState({hover:!1})},component:"td",style:e},a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.headerTitle("button","name","Naam"),r.headerTitle("subtitle1","school","School"),r.headerTitle("body1","levelAndYear","Niveau - Leerjaar"),r.headerTitle("body1","role","Rol"),r.headerTitle("body1","profile","Profiel")),"admin"===r.props.role&&a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.headerTitle("body1","email","Office Email"),r.headerTitle("body1","preferedEmail","Voorkeurs email"),a.a.createElement("div",{style:{flex:1}}),r.headerTitle("body1","phoneNumber","Telefoonnummer"),r.headerTitle("body1","id","Gebruikers ID"))))},r.sortIds=function(){var e=r.state.sortValue,t=r.state.sortDirection,n=r.props.users,a=r.props.userIds;return""===e?a:(a.sort((function(r,a){switch(e){case"name":r=(n[r].firstName+n[r].lastName).toLowerCase(),a=(n[a].firstName+n[a].lastName).toLowerCase();break;case"levelAndYear":r=(n[r].level+n[r].year).toString(),a=(n[a].level+n[a].year).toString();break;default:r=n[r][e],a=n[a][e]}var o=(null==a)-(null==r)||+(r>a)||-(r<a);return"asc"===t?o:-o})),a)},r.state={hover:!1,style:{width:"100%",height:"auto",margin:"0px",padding:"10px",backgroundColor:"#e0e0e0"},sortValue:"",sortDirection:""},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"headerTitle",value:function(e,t,r){var n=this,o=this.state.sortValue,i="asc"===this.state.sortDirection?"asc":"desc";return a.a.createElement(ye.a,{variant:e,color:"button"===e?"primary":"initial",style:{flex:1}},a.a.createElement(_e.a,{title:"Sorteer",enterDelay:300,placement:"bottom-start"},a.a.createElement(He.a,{active:o===t,direction:i,onClick:function(){return n.onSortChange(t)},style:{color:"inherit"}},r)))}},{key:"render",value:function(){var e=this,t=this.getHeader(),r=this.sortIds().map((function(t){return a.a.createElement(ht,{key:t,userId:t,display:"row",actions:e.props.actions})}));return a.a.createElement("table",{style:{width:"100%"}},a.a.createElement("tbody",null,t,r))}}]),t}(n.Component);var Et=Object(D.b)((function(e,t){return{users:e.users,role:e.role}}))(Ot),jt=r(764),xt=r(778),kt=r(765),Ct=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e="Weet je zeker dat u de pagina wilt verlaten? Er zijn nog niet-opgeslagen gegevens!";return this.props.giveWarning?window.onbeforeunload=function(t){return t.returnValue=e,e}:window.onbeforeunload=null,a.a.createElement(A.a,{when:this.props.giveWarning,message:function(t){return e}})}}]),t}(n.Component),wt=r(754),It=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).handleClickAway=function(){r.setState({anchorEl:null})},r.showTeacherCard=function(e){r.setState({anchorEl:e.currentTarget})},r.state={},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.editable,t=this.props.role,r=this.props.onChange,n=this.props.group,o="#M"+(this.props.group.courseId+"").padStart(4,"0");return a.a.createElement("div",{style:{position:"relative"}},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(q,{value:n.courseName,onChange:function(e){return r("courseName",e)},editable:e,style:{flex:"5",type:"headline"},validate:{maxLength:50}}),a.a.createElement(q,{value:n.subjectId,onChange:function(e){return r("subjectId",e)},layout:{alignment:"right"},style:{type:"headline"},editable:e,options:W()(this.props.subjects,(function(e){return{value:e.id,label:e.name}}))}),!e&&a.a.createElement(fe.a,{color:"secondary",style:{position:"absolute",display:"block",top:"30px",right:"-15px",zIndex:"100"},onClick:this.showTeacherCard},a.a.createElement("div",null,n.teacherName))),a.a.createElement("div",{style:{display:"flex"},className:"ColumnFlexDirectionOnMobile"},a.a.createElement("div",{style:{width:"30%",paddingRight:"15px"}},a.a.createElement("div",null,a.a.createElement(q,{value:n.period,onChange:function(e){return r("period",e)},editable:e&&"admin"===t,style:{width:"100px",type:"caption"},options:[{label:"Blok 1",value:1},{label:"Blok 2",value:2},{label:"Blok 3",value:3},{label:"Blok 4",value:4}]}),a.a.createElement(q,{value:n.day,onChange:function(e){return r("day",e)},editable:e&&"admin"===t,style:{width:"150px",type:"caption"},options:["maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag","zondag"]})),a.a.createElement(q,{value:n.schoolYear,editable:e&&"admin"===t,onChange:function(e){return r("schoolYear",e)},options:["2018/2019","2019/2020","2020/2021","2021/2022"],style:{width:"100%",type:"caption"}}),a.a.createElement(Xe.a,{style:{margin:"15px"}}),a.a.createElement(q,{value:n.enrollableFor,label:"Doelgroep",onChange:function(e){return r("enrollableFor",e)},style:{width:"100%",labelVisible:!0,type:"caption"},default:"Iedereen",editable:e}),a.a.createElement(q,{value:n.studyTime,label:"Studietijd",onChange:function(e){return r("studyTime",e)},default:"onbekend",editable:e,style:{labelVisible:!0,unit:"uur",width:"40%",type:"caption"},validate:{type:"integer"}}),a.a.createElement("div",{style:{width:"20px",display:"inline-block"}}),a.a.createElement(q,{value:o,label:"Modulecode",style:{labelVisible:!0,width:"40%",type:"caption"}})),a.a.createElement("div",{style:{width:"100%"}},a.a.createElement(q,{value:n.courseDescription,validate:{maxLength:440},label:"Omschrijving",style:{labelVisible:!0},onChange:function(e){return r("courseDescription",e)},layout:{area:!0},editable:e}),a.a.createElement(q,{value:n.remarks,label:"Opmerkingen",onChange:function(e){return r("remarks",e)},style:{labelVisible:!0},default:"Geen voorkennis vereist",layout:{area:!0},editable:e}))),a.a.createElement("br",null),a.a.createElement(wt.a,{open:!!this.state.anchorEl,onClose:this.handleClickAway,anchorEl:this.state.anchorEl,anchorOrigin:{horizontal:"left",vertical:"top"}},a.a.createElement(ht,{key:n.teacherId,userId:n.teacherId,display:"card",style:{margin:"0px"}})))}}]),t}(n.Component),Pt=r(4),St={colorPrimary:{backgroundColor:G.palette.primary.main},colorSecondary:{backgroundColor:"#ff8c00"},colorError:{backgroundColor:G.palette.error.main}},Dt=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){for(var e=this.props.notifications,t=this.props.classes,r="primary",n=e.length>0?e[0].message:"",o=0;o<e.length;o++)if("medium"===e[o].priority||"high"===e[o].priority){r="secondary",n=e[o].message;for(var i=o;i<e.length;i++)if("high"===e[i].priority){r="error",n=e[i].message;break}break}return a.a.createElement(_e.a,{title:n},a.a.createElement(Ce.a,{badgeContent:e.length,classes:t,color:r},this.props.children))}}]),t}(n.Component);var Nt=Object(Pt.a)(St)(Object(D.b)((function(e,t){return{notifications:e.notifications.filter((function(e){try{return"badge"===e.type&&RegExp(e.scope).test(t.scope)}catch(r){return!0}}))}}),null)(Dt)),Gt=r(755),At=r(714),Lt=r(715),Tt=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).selectUser=function(e,t){r.setState({input:t,open:!1,userId:e}),r.props.onChange(e,t)},r.getFittingUsers=function(){var e=new RegExp(r.state.input.toLowerCase()),t=0;return _()(r.props.users,(function(r){var n=e.test(r.displayName.toLowerCase());return n&&t++,n&&t<6})).map((function(e){return a.a.createElement(Y.a,{key:e.id+e.displayName,onClick:function(){return r.selectUser(e.id,e.displayName)}},e.displayName)}))},r.handleInput=function(e){r.state.userId&&r.props.onChange(null,null),r.setState({input:e,open:!0,userId:null})},r.myref=r.state={input:"",userId:null,open:!1,id:"SelectUser"+Math.floor(1e3*Math.random())},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllUsers()}},{key:"render",value:function(){var e=this;return a.a.createElement(Lt.a,{onClickAway:function(){return e.setState({open:!1})}},a.a.createElement("span",null,a.a.createElement(q,{label:"Gebruiker",value:this.state.input,editable:!0,onChange:this.handleInput,style:{margin:"normal"},id:this.state.id}),a.a.createElement(At.a,{open:null==this.state.aliasId&&this.state.open,disablePortal:!0,anchorEl:document.getElementById(this.state.id),style:{position:"fixed",zIndex:"1"}},a.a.createElement(ge.a,null,a.a.createElement(Gt.a,null,this.getFittingUsers())))))}}]),t}(n.Component);var Mt=Object(D.b)((function(e){return{users:e.users}}),(function(e){return{getAllUsers:function(){return e((function(e,t){ee("user/list","get",null,e,t).then((function(t){e({type:"CHANGE_USERS",users:t})})).catch((function(){}))}))}}}))(Tt);function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ht=function(e){function t(e){var r;switch(Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).acceptEnrollment=function(e){r.props.addParticipant(e,r.props.groupId,"student")},r.addNewParticipant=function(e){var t=r.state.newParticipant;r.props.addParticipant(t.userId,r.props.groupId,t.participatingRole),r.setState((function(e){return _t({},e,{newParticipant:{participatingRole:e.newParticipant.participatingRole,userId:null}})}))},r.handleNewParticipantRoleChange=function(e){r.setState((function(t){return _t({},t,{newParticipant:{participatingRole:e,userId:t.newParticipant.userId}})}))},r.handleNewParticipantIdChange=function(e){r.setState((function(t){return _t({},t,{newParticipant:{userId:e,participatingRole:t.newParticipant.participatingRole}})}))},r.handleExternalGroupChange=function(e){r.state.editable||JSON.stringify(e)===JSON.stringify(r.state.group)||r.setState({group:e})},r.handleChange=function(e,t){r.setState({group:_t({},r.state.group,Object(u.a)({},e,t))})},r.handleLessonChange=function(e){var t=r.state.group.lessons||r.props.group.lessons;r.setState({group:_t({},r.state.group,{lessons:_t({},t,Object(u.a)({},e.id,e))})})},r.handleEvaluationChange=function(e){r.setState({group:_t({},r.state.group,{evaluations:e})})},r.handlePresenceChange=function(e){var t=r.state.group.presence||r.props.group.presence;console.log(t),r.setState({group:_t({},r.state.group,{presence:_t({},t,Object(u.a)({},e.id,e))})})},r.setEditable=function(){r.setState({editable:!0})},r.cancel=function(){r.setState({editable:!1,group:r.props.group})},r.save=function(){r.props.setGroup(r.state.group),r.setState({editable:!1})},r.handleTab=function(e,t){r.props.history.push({search:"tab="+r.state.tabs[t]})},r.openCertificate=function(){var e=r.props.group.id,t=r.props.userId;"student"===r.props.role&&window.open("/api/certificate/course/"+t+"/"+e,"_blank")},r.state={editable:!1,group:r.props.group,newParticipant:{participatingRole:"student",userId:null}},r.props.role){case"student":r.props.userIsMemberOfGroup?r.state.tabs=["Lessen","Deelnemers"]:r.state.tabs=["Lessen"];break;case"teacher":r.props.userIsMemberOfGroup?r.state.tabs=["Lessen","Inschrijvingen","Deelnemers","Actief","Beoordeling"]:r.state.tabs=["Inschrijvingen","Deelnemers","Lessen"];break;case"admin":case"grade_admin":r.state.tabs=["Inschrijvingen","Lessen","Deelnemers","Actief","Beoordeling"]}return r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"isCertificateWorthy",value:function(e){var t=e.evaluation;if(null!=t){var r=t.assesment+"";switch(t.type){case"decimal":return r.replace(/\./g,"_$comma$_").replace(/,/g,".").replace(/_\$comma\$_/g,",")>=5.5;case"stepwise":return"G"===r||"V"===r;case"check":return"passed"===r;default:return!1}}return!1}},{key:"getCurrentTab",value:function(e){var t=this,r=this.state.group,n=this.props.group.enrollmentIds,o=this.state.group.lessons,i=this.state.group.participantIds,l=this.state.group.evaluations,s=this.state.group.presence,c=this.state.newParticipant;switch(e){case"Inschrijvingen":return null==n?a.a.createElement(ke,null):0===n.length?"Er zijn geen inschrijvingen":a.a.createElement(Et,{userIds:n,actions:"admin"===this.props.role&&this.state.editable?[{label:"Goedkeuren",onClick:this.acceptEnrollment}]:[]});case"Lessen":return null==o?a.a.createElement(ke,null):0===o.length?"Er zijn nog geen lessen bekend":a.a.createElement("table",{style:{width:"100%"}},a.a.createElement("tbody",null,W()(_t({0:{id:-1}},o),(function(e){return a.a.createElement(yt,{lesson:e,key:e.id,role:t.props.role,userIsMemberOfGroup:t.props.userIsMemberOfGroup,editable:t.state.editable,handleChange:t.handleLessonChange})}))));case"Deelnemers":return null==i?a.a.createElement(ke,null):a.a.createElement("div",null,"admin"===this.props.role&&this.state.editable&&a.a.createElement("div",null,a.a.createElement(ye.a,{variant:"button",color:"primary",style:{margin:"18px 12px"}},"Nieuwe deelnemer:"),a.a.createElement("div",{style:{display:"inline-flex"}},a.a.createElement(Mt,{onChange:this.handleNewParticipantIdChange,value:c.userId}),a.a.createElement(q,{editable:!0,label:"Rol",value:c.participatingRole,options:[{value:"student",label:"Leerling"},{value:"teacher",label:"Docent"}],onChange:this.handleNewParticipantRoleChange}),a.a.createElement(_e.a,{title:i.includes(c.userId)||n.includes(c.userId)?"Deze gebruiker heeft zich al ingeschreven of is al een deelnemer":"",placement:"bottom-start",enterDelay:200},a.a.createElement("div",null,a.a.createElement(fe.a,{variant:"contained",disabled:null==c.userId||i.includes(c.userId)||n.includes(c.userId),color:"primary",style:{marginTop:"22px"},onClick:this.addNewParticipant},"Voeg toe")))),a.a.createElement(Xe.a,null),a.a.createElement("br",null)),0===i.length?"Er zijn nog geen deelnemers toegevoegd":a.a.createElement(Et,{userIds:i}));case"Actief":return null==i||null==o||null==s?a.a.createElement(ke,null):a.a.createElement(bt,{participantIds:i,lessons:o,presence:s,editable:this.state.editable,handleChange:this.handlePresenceChange});case"Beoordeling":return null==i||null==l?a.a.createElement(ke,null):a.a.createElement(Ve,{evaluations:l,groupId:r.id,editable:this.state.editable,handleChange:this.handleEvaluationChange});default:return null}}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(){this.getData(),this.handleExternalGroupChange(this.props.group)}},{key:"getData",value:function(){var e=this.state.group,t=this.state.group.enrollmentIds,r=this.state.group.lessons,n=this.state.group.participantIds,a=this.state.group.evaluations,o=this.state.group.presence;switch(this.state.currentTab){case"Inschrijvingen":null==t&&this.props.getGroupEnrollments(e.id);break;case"Lessen":null==r&&this.props.getGroupLessons(e.id);break;case"Deelnemers":null==n&&this.props.getGroupParticipants(e.id);break;case"Actief":null==n&&this.props.getGroupParticipants(e.id),null==r&&this.props.getGroupLessons(e.id),null==o&&this.props.getGroupPresence(e.id);break;case"Beoordeling":null==a&&this.props.getGroupEvaluations(e.id),null==n&&this.props.getGroupParticipants(e.id)}}},{key:"render",value:function(){var e=this.state.editable,t=this.props.role,r=this.state.group;return a.a.createElement(je,null,a.a.createElement(It,Object.assign({},this.props,{editable:e,group:r,onChange:this.handleChange})),a.a.createElement(Xe.a,null),a.a.createElement("div",{style:{display:"flex"}},"student"===t&&a.a.createElement(Te,{group:r,style:{margin:"20px"}}),("teacher"===t||"admin"===t)&&!e&&a.a.createElement(fe.a,{color:"secondary",variant:"contained",style:{margin:"20px"},onClick:this.setEditable},"Bewerken"),e&&a.a.createElement(fe.a,{color:"secondary",variant:"contained",style:{margin:"20px"},onClick:this.save},"Opslaan"),e&&a.a.createElement(fe.a,{color:"default",style:{margin:"20px"},onClick:this.cancel},"Annuleren"),a.a.createElement("div",{style:{flex:"2"}}),this.isCertificateWorthy(r)&&a.a.createElement(fe.a,{color:"primary",variant:"contained",style:{margin:"20px"},onClick:this.openCertificate},"student"===t?"Certificaat":"Certificaten")),a.a.createElement(jt.a,{position:"static",color:"default"},a.a.createElement(xt.a,{value:this.state.tabs.indexOf(this.state.currentTab),onChange:this.handleTab,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",centered:!0},this.state.tabs.map((function(e){return a.a.createElement(kt.a,{key:e,label:a.a.createElement(Nt,{scope:"groep/"+(r.id||"")+"?tab="+e,style:{paddingLeft:"100px"}},e)})})))),a.a.createElement("br",null),a.a.createElement("div",{style:{width:"98%",margin:"auto"}},this.getCurrentTab(this.state.currentTab)),a.a.createElement(Ct,{giveWarning:this.state.editable}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=pt.a.parse(e.location.search);return _t({},t,{group:_t({},e.group,{},t.group),currentTab:r.tab?r.tab:t.tabs[0]})}}]),t}(n.Component),zt=Object(A.h)(Ht),Ft=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;null==e.subjects&&e.getSubjects(),null!=e.group||e.notExists||e.getGroup(e.groupId)}},{key:"render",value:function(){if(null==this.props.group)return"page"===this.props.display&&this.props.notExists?a.a.createElement(je,null,"De opgevraagde groep bestaat niet"):this.props.notExists?null:a.a.createElement(ke,null);switch(this.props.display){case"page":return a.a.createElement(zt,this.props);case"card":default:return a.a.createElement(Je,this.props)}}}]),t}(n.Component);var Bt=Object(A.h)(Object(D.b)((function(e,t){var r=(t.match.params.groupId||t.groupId)+"",n=t.display||"page",a=!1,o=null,i=-1!==e.users[e.userId].participatingGroupIds.indexOf(r);return null==e.groups||null==e.groups[r]?null!=r&&-1===e.hasFetched.indexOf("Group.get("+r+")")||(a=!0):o=e.groups[r],{group:o,notExists:a,display:n,role:e.role,groupId:r,subjects:e.subjects,userId:e.userId,userIsMemberOfGroup:i,schoolYear:e.schoolYear}}),(function(e){return{setGroup:function(t){return e(function(e){return function(t,r){function n(e){return{courseId:e.courseId,subjectId:e.subjectId,name:e.courseName,description:e.courseDescription,studyTime:e.studyTime,remarks:e.remarks}}function a(e){return{courseId:e.courseId,groupId:e.id,day:e.day,schoolYear:e.schoolYear,enrollableFor:e.enrollableFor,period:e.period}}var o=n(r().groups[e.id]),i=n(e),l=a(r().groups[e.id]),s=a(e),c=r().groups[e.id].lessons,u=e.lessons,p=r().groups[e.id].presence,d=e.presence,h=r().groups[e.id].evaluations,m=e.evaluations;if(JSON.stringify(o)!==JSON.stringify(i)&&ee("course","patch",i,t,r),JSON.stringify(l)!==JSON.stringify(s)&&ee("group","patch",s,t,r),JSON.stringify(p)!==JSON.stringify(d)){var b=_()(d,(function(e){return JSON.stringify(e)!==JSON.stringify(p[e.id])}));ee("group/presence","patch",{presence:JSON.stringify(W()(b,(function(e){return e}))),groupId:e.id},t,r)}if(null!=u&&JSON.stringify(c)!==JSON.stringify(u)&&ee("group/lessons","patch",{lessons:JSON.stringify(W()(u,(function(e){return e})))},t,r),JSON.stringify(h)!==JSON.stringify(m)){for(var f=[],g=0;g<m.length;g++){var y=m[g];JSON.stringify(h[g])!==JSON.stringify(y)&&f.push(y)}ee("group/evaluations","patch",{evaluations:JSON.stringify(f),secureLogin:r().secureLogin},t,r)}t({type:"CHANGE_GROUP",group:e})}}(t))},getGroup:function(t){return e(function(e){return function(t,r){ee("group","post",{groupId:e},t,r).then((function(r){t({type:"CHANGE_GROUPS",groups:Object(u.a)({},e,r)})})).catch((function(){}))}}(t))},getGroupEnrollments:function(t){return e(function(e){return function(t,r){ee("group/enrollments","post",{groupId:e},t,r).then((function(r){t({type:"CHANGE_GROUP",group:{id:e,enrollmentIds:Object.keys(r).map((function(e){return parseInt(e,10)}))}}),t({type:"CHANGE_USERS",users:r})})).catch((function(){}))}}(t))},getGroupLessons:function(t){return e(function(e){return function(t,r){ee("group/lessons","post",{groupId:e},t,r).then((function(r){t({type:"CHANGE_GROUP",group:{id:e,lessons:r}})}))}}(t))},getGroupParticipants:function(t){return e(function(e){return function(t,r){ee("group/participants","post",{groupId:e},t,r).then((function(r){t({type:"CHANGE_GROUP",group:{id:e,participantIds:Object.keys(r).map((function(e){return parseInt(e,10)}))}}),t({type:"CHANGE_USERS",users:r})}))}}(t))},getGroupEvaluations:function(t){return e(function(e){return function(t,r){ee("group/evaluations","post",{groupId:e},t,r,!0).then((function(r){t({type:"CHANGE_GROUP",group:{id:e,evaluations:r}})}))}}(t))},getGroupPresence:function(t){return e(function(e){return function(t,r){ee("group/presence","post",{groupId:e},t,r).then((function(r){t({type:"CHANGE_GROUP",group:{id:e,presence:r}})}))}}(t))},getSubjects:function(){return e(re())},addParticipant:function(t,r,n){return e(function(e,t,r){return function(n,a){return ee("group/participants","patch",{userId:e,groupId:t,participatingRole:r},n,a).then((function(){var r=a().groups[t].enrollmentIds.indexOf(e);n({type:"CHANGE_GROUP",group:{id:t,enrollmentIds:[].concat(Object(c.a)(a().groups[t].enrollmentIds.slice(0,r)),Object(c.a)(a().groups[t].enrollmentIds.slice(r+1)))}}),n({type:"ADD_NOTIFICATION",notification:{id:Math.random(),priority:"low",type:"bar",message:"Deelnemer toegevoegd, refresh om te zien",scope:"*"}})}))}}(t,r,n))},addNotification:function(t){return e(se(t))}}}))(Ft)),Ut=r(767),Wt=r(713),Vt=r(711),Yt=r(766);function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var $t=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).handleSortChange=function(e){r.props.history.push({search:"vak=".concat(e,"&blok=").concat(r.state.period,"&leerjaar=").concat(r.state.schoolYear)})},r.handlePeriodChange=function(e){r.props.history.push({search:"vak=".concat(r.state.subject,"&blok=").concat(e,"&leerjaar=").concat(r.state.schoolYear)})},r.handleYearChange=function(e){r.props.history.push({search:"vak=".concat(r.state.subject,"&blok=").concat(r.state.period,"&leerjaar=").concat(e)})},r.state={period:e.currentPeriod,leerjaar:"2019/2020",subject:null},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.props.getSubjects(),this.props.getGroups()}},{key:"getGroupsPerSubject",value:function(e){return _()(this.props.groups,(function(t){return e===t.subjectName}))}},{key:"getMenuItem",value:function(e,t){var r=this,n=this.state.subject===t?"primary":"initial";return a.a.createElement(Vt.a,{button:!0,onClick:function(){return r.handleSortChange(t)},key:e},a.a.createElement(Yt.a,null,a.a.createElement(ye.a,{variant:"button",color:n,style:{minWidth:"150px"}},e)))}},{key:"getMenuItems",value:function(){var e=this,t=W()(this.props.subjects,(function(t){return e.getMenuItem(t.name,t.name)}));return"student"===this.props.role&&t.unshift(this.getMenuItem("Ingeschreven","enrolled")),t}},{key:"render",value:function(){var e,t=this;return"enrolled"===this.state.subject?null==this.props.enrolledGroupsIds?(e=a.a.createElement(ke,null),this.props.getEnrolLments()):(e=this.props.enrolledGroupsIds.map((function(e){return a.a.createElement(Bt,{key:e,groupId:e,display:"card"})})),0===this.props.enrolledGroupsIds.length&&(e=a.a.createElement("div",{style:{margin:"15px"}},"Je hebt je nog niet ingeschreven."))):(null!=this.props.subjects&&null!=this.props.groups&&this.props.enrolledGroups!==[]||(e=a.a.createElement(ke,null)),e=this.getGroupsPerSubject(this.state.subject).filter((function(e){return null!=e})).filter((function(e){return"all"===t.state.period||e.period+""===t.state.period})).filter((function(e){return"all"===t.state.schoolYear||e.schoolYear+""===t.state.schoolYear})).sort((function(e,t){return e.period-t.period})).map((function(e){return a.a.createElement(Bt,{key:e.id,groupId:e.id,display:"card"})}))),a.a.createElement(je,null,a.a.createElement(ge.a,{style:{position:"relative"}},a.a.createElement(Ut.a,{style:{display:"flex"}},a.a.createElement(ye.a,{variant:"subtitle1",color:"textSecondary",style:{flex:"2 1 auto"}},"Schrijf je in voor modules"),a.a.createElement(q,{label:"blok",value:this.state.period,editable:!0,style:{flex:"none"},options:[{label:"Alle",value:"all"},{label:"Blok 1",value:"1"},{label:"Blok 2",value:"2"},{label:"Blok 3",value:"3"},{label:"Blok 4",value:"4"}],onChange:this.handlePeriodChange}),a.a.createElement(q,{label:"leerjaar",style:{flex:"none"},value:this.state.schoolYear,editable:!0,options:[{label:"Alle",value:"all"},{label:"2016/2017",value:"2016/2017"},{label:"2017/2018",value:"2017/2018"},{label:"2018/2019",value:"2018/2019"},{label:"2019/2020",value:"2019/2020"},{label:"2020/2021",value:"2020/2021"},{label:"2021/2022",value:"2021/2022"}],onChange:this.handleYearChange}))),a.a.createElement("div",{style:{display:"flex"},className:"ColumnFlexDirectionOnMobile"},a.a.createElement(ge.a,null,a.a.createElement(Wt.a,{component:"nav",style:{flex:1}},this.getMenuItems())),a.a.createElement("div",{style:{padding:"12px"}},e)),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=pt.a.parse(e.location.search),n=r.blok,a=r.vak,o=r.leerjaar;return a||null==e.subjects||(a=e.subjects[Object.keys(e.subjects)[0]].name),n||(n=e.enrollmentPeriod+""),o||(o="2019/2020"),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{period:n,subject:a,schoolYear:o})}}]),t}(n.Component);var Zt=Object(D.b)((function(e){return{role:e.role,enrollmentPeriod:e.enrollmentPeriod,enrollableGroups:e.enrollableGroups,groups:e.groups,subjects:e.subjects,enrolledGroupsIds:e.users[e.userId].enrollmentIds}}),(function(e){return{getSubjects:function(){return e(re())},getGroups:function(){return e(ne())},getEnrolLments:function(){return e(le())}}}))($t),qt=r(768),Kt=r(769),Xt=r(770),Qt=r(771),er=r(772),tr=r(773),rr=r(780),nr=r(330),ar=r.n(nr);function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lr={users:"role",evaluations:"groupId",enrollments:"enrollmentPeriod"},sr=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).handleShowData=function(){r.setState({hasFetched:!0}),r.fetchData(r.state.data).then((function(e){return r.setState({tables:r.splitTable(e,lr[r.state.data]),tableSortColumns:Array(e.length)})}))},r.handleFilterChange=function(e){r.props.history.push({search:"data="+e})},r.sort=function(e){var t=r.state.tables[e],n=r.state.tableSortColumns[e],a=r.state.tableSortDirections[e];t=[t[0]].concat(t.slice(1,t.length).sort((function(e,t){e=e[n];var r=(null==(t=t[n]))-(null==e)||+(e>t)||-(e<t);return"asc"===a?r:-r}))),r.setState((function(r){return{tables:[].concat(Object(c.a)(r.tables.slice(0,e)),[t],Object(c.a)(r.tables.slice(e+1)))}}))},r.handleSortChange=function(e,t){r.setState((function(r){return{tableSortColumns:ir({},r.tableSortColumns,Object(u.a)({},e,t)),tableSortDirections:ir({},r.tableSortDirections,Object(u.a)({},e,"desc"===r.tableSortDirections[e]&&r.tableSortColumns[e]===t?"asc":"desc"))}}),(function(){return r.sort(e)}))},r.splitTable=function(e,t){var r=e[0].findIndex((function(e){return e===t}));if(r<0)return[e];for(var n=[[e[0],e[1]]],a=function(t){var a=n.findIndex((function(n){return n[1][r]===e[t][r]}));a<0&&(n.push([e[0]]),a=n.length-1),n[a].push(e[t])},o=2;o<e.length;o++)a(o);return n},r.fetchData=function(e){return z.a.ajax({url:"api/function/data",type:"post",data:{table:e,secureLogin:r.props.secureLogin},dataType:"json"})},r.downloadTables=function(){for(var e=r.state.tables,t=new ar.a.Workbook,n=e[0][0].findIndex((function(e){return e===lr[r.state.data]})),a=0;a<e.length;a++){var o=e[a][1][n]+"",i=t.addWorksheet(o);i.addRows(e[a]);for(var l=1;l<=e[a][0].length;l++)i.getColumn(l).width=e[a][0][l-1].length<10?10:e[a][0][l-1].length+2}var s={users:"Gebruikers ",enrollments:"Inschrijvingen ",evaluations:"Beoordelingen ",courseIds:"Modulecodes "}[r.state.data]+(new Date).toLocaleDateString()+".xlsx";r.downloadWorkbook(t,s)},r.downloadWorkbook=function(e,t){e.xlsx.writeBuffer({base64:!0}).then((function(e){var r=document.createElement("a"),n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=URL.createObjectURL(n);r.href=a,r.download=t,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(a)}),0)})).catch((function(e){console.log("Something went wrong with downloading the excel file: "+e.message)}))},r.forceCellWidth=function(e){switch(e){case"subject":case"displayName":return"200px";case"courseName":return"300px";case"explanation":return"200px";default:return"auto"}},r.state={tables:null,tableSortColumns:{},tableSortDirections:{},data:"enrollments",hasFetched:!1},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e,t=this;return e=null==this.state.tables?this.state.hasFetched?a.a.createElement(ke,{style:{marginTop:"100px"}}):a.a.createElement(ye.a,{variant:"body1"},'Klik op "Laat gegevens" om de gegevens te tonen'):this.state.tables.map((function(e,r){return a.a.createElement(qt.a,{key:r,style:{marginTop:"100px"}},a.a.createElement(Kt.a,null,a.a.createElement(Xt.a,{key:0,style:{height:"auto"}},e[0].map((function(e,n){return a.a.createElement(Qt.a,{key:n,style:{color:"black",backgroundColor:"#e0e0e0",fontSize:13,top:0}},a.a.createElement(_e.a,{title:"Sorteer",enterDelay:300,placement:"bottom-start"},a.a.createElement(He.a,{active:t.state.tableSortColumns[r]===n,direction:t.state.tableSortDirections[r],onClick:function(e){return t.handleSortChange(r,n)},style:{zIndex:0}},a.a.createElement("span",{style:{width:t.forceCellWidth(e)}},e))))})))),a.a.createElement(er.a,null,e.filter((function(e,t){return t>0})).map((function(e,t){return a.a.createElement(Xt.a,{key:t+1,style:{height:"auto"}},e.map((function(e,t){return a.a.createElement(Qt.a,{key:t},e)})))}))))})),a.a.createElement(je,null,a.a.createElement(Re,null,a.a.createElement(ge.a,{elevation:2,style:{zIndex:1,position:"absolute",width:"85%"}},a.a.createElement(Ut.a,{style:{display:"flex"}},a.a.createElement(ye.a,{variant:"subtitle1",color:"textSecondary",style:{flex:"1 1 auto"}},"Gegevens"),a.a.createElement(q,{label:"Gegevens van",value:this.state.data,editable:!0,options:[{label:"Beoordelingen",value:"evaluations"},{label:"Gebruikers",value:"users"},{label:"Inschrijvingen",value:"enrollments"},{label:"Module codes",value:"courseIds"}],style:{flex:"0.3"},onChange:this.handleFilterChange}),a.a.createElement(fe.a,{variant:"outlined",onClick:this.handleShowData,style:{flex:"0.1 0.1 auto"}},"Laad gegevens"),a.a.createElement(tr.a,{onClick:this.downloadTables},a.a.createElement(rr.a,null)))),e))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=pt.a.parse(e.location.search);return ir({},t,{},{data:r.data?r.data:"enrollments"})}}]),t}(n.Component);var cr=Object(A.h)(Object(D.b)((function(e){return{secureLogin:e.secureLogin}}),null)(sr));function ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var pr=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).handleFilterChange=function(e){r.props.history.push({search:"week="+e}),r.fetchSchedules(e)},r.state={schedules:null},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.fetchSchedules(this.state.week)}},{key:"fetchSchedules",value:function(e){var t=this;return z.a.ajax({url:"api/function/taxi",type:"post",data:{week:e},dataType:"json"}).then((function(e){return t.setState({schedules:e})}))}},{key:"render",value:function(){var e;return e=null==this.state.schedules?a.a.createElement(ke,null):this.state.schedules.map((function(e,t){return a.a.createElement("div",{style:{width:"80%",margin:"auto"},className:"taxiScheduleHolder",key:t,dangerouslySetInnerHTML:{__html:e}})})),a.a.createElement(je,null,a.a.createElement(ge.a,{elevation:2,style:{position:"relative"}},a.a.createElement(Ut.a,{style:{display:"flex"}},a.a.createElement(ye.a,{variant:"subtitle1",color:"textSecondary",style:{flex:"2 1 auto"}},"Taxischema"),a.a.createElement(q,{label:"week",value:this.state.week,editable:!0,options:[0,1,2,3,4,5,6,7,8].map((function(e){return{label:0===e?"Basisrooster":"Week "+e,value:e+""}})),onChange:this.handleFilterChange}))),e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=pt.a.parse(e.location.search);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ur(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ur(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{},{week:r.week?r.week:"0"})}}]),t}(n.Component),dr=r(331),hr=r.n(dr),mr=r(151),br=r.n(mr),fr=function(e){function t(){var e,r;Object(x.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(C.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).logoClick=function(){r.props.history.push("/")},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return a.a.createElement(jt.a,{className:"Header"},a.a.createElement(Ut.a,null,a.a.createElement(tr.a,{color:"inherit","aria-label":"Menu",onClick:this.props.toggleMenu,style:{position:"absolute"}},a.a.createElement(hr.a,null)),a.a.createElement("img",{src:"/images/logo_qhighschool_white.svg",alt:"QHighschool Logo",style:{height:"60%",margin:"auto",maxHeight:"40px",cursor:"pointer"},onClick:this.logoClick}),a.a.createElement(Wt.a,{color:"inherit",style:{right:20,position:"absolute"},onClick:this.handleClick},a.a.createElement(br.a,{style:{transform:"scale(1.5)",marginRight:"10px",float:"left"}}),a.a.createElement("span",{className:"HiddenOnMobile"},this.props.displayName))))}}]),t}(n.Component);var gr=Object(A.h)(Object(D.b)((function(e){return null!=e.userId?{displayName:e.users[e.userId].displayName,userId:e.userId}:{displayName:"",userId:e.userId}}),(function(e){return{toggleMenu:function(){return e(ue())}}}))(fr)),yr=r(774),vr=r(716),Or=r(332),Er=r.n(Or),jr=function(e){function t(){var e,r;Object(x.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(C.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).removeNotification=function(e){r.props.removeNotification(r.props.notifications[e])},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.props.notifications.map((function(t,r){var n;switch(t.priority){case"high":n=G.palette.error.main;break;case"medium":n="#ff8c00";break;case"low":default:n=G.palette.primary.main}return a.a.createElement(yr.a,{key:r,anchorOrigin:{vertical:"bottom",horizontal:"right"},open:!0,style:{position:"relative"},TransitionProps:{direction:"left"}},a.a.createElement(vr.a,{style:{background:n,marginBottom:"4px"},message:a.a.createElement("span",{id:"message-id"},t.message),action:t.sticky?[]:[a.a.createElement(tr.a,{key:"close",onClick:function(){e.removeNotification(r)}},a.a.createElement(Er.a,null))]}))}));return a.a.createElement("div",{style:{position:"fixed",bottom:0,right:0,width:"auto",zIndex:10}},t)}}]),t}(n.Component);var xr=Object(A.h)(Object(D.b)((function(e,t){return{notifications:e.notifications.filter((function(e){try{return"bar"===e.type&&new RegExp(e.scope).test(t.location.pathname)}catch(r){return!0}}))}}),(function(e){return{removeNotification:function(t){return e(ce(t))}}}))(jr)),kr=r(775),Cr=r(335),wr=r.n(Cr),Ir=r(333),Pr=r.n(Ir),Sr=r(334),Dr=r.n(Sr),Nr=r(337),Gr=r.n(Nr),Ar=r(338),Lr=r.n(Ar),Tr=r(339),Mr=r.n(Tr),Rr=r(336),_r=r.n(Rr),Hr=function(e){function t(e){var r;switch(Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).state={},r.props.role){case"student":r.state.pages=["aanbod","portfolio","profiel","loguit"];break;case"teacher":r.state.pages=["aanbod","groepen","profiel","loguit"];break;case"admin":r.state.pages=["groepen","aanbod","profiel","gegevens","taxi","beheer","loguit"];break;case"grade_admin":r.state.pages=["aanbod","groepen","gegevens","taxi","profiel","loguit"];break;default:r.state.pages=["aanbod","profiel","loguit"]}return r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"logout",value:function(){return z.a.ajax({url:"/auth/logout",type:"get",dataType:"json"}).then((function(){document.location.reload()}))}},{key:"onClick",value:function(e){"loguit"===e?this.logout():this.props.history.push("/"+e)}},{key:"getIcon",value:function(e,t){var r="black";switch(G.palette[t]&&(r=G.palette[t].main),e){case"Assignment":return a.a.createElement(Pr.a,{style:{color:r}});case"Group":return a.a.createElement(Dr.a,{style:{color:r}});case"Assessment":return a.a.createElement(wr.a,{style:{color:r}});case"Person":return a.a.createElement(br.a,{style:{color:r}});case"ViewColumn":return a.a.createElement(_r.a,{style:{color:r}});case"Exit":return a.a.createElement(Gr.a,{color:"secondary"});case"Taxi":return a.a.createElement(Lr.a,{style:{color:r}});case"Beheer":return a.a.createElement(Mr.a,{style:{color:r}});default:return null}}},{key:"getItem",value:function(e,t){var r=this,n="/"+e.id===this.props.location.pathname,o={};e.bottom&&(o.position="absolute",o.bottom="0px");var i=n?"primary":"inherit",l=a.a.createElement(kr.a,null,a.a.createElement(Nt,{scope:e.id},this.getIcon(e.icon,i)));return a.a.createElement(Vt.a,{key:t,button:!0,onClick:function(){return r.onClick(e.id)},style:o},l,a.a.createElement(ye.a,{variant:"button",color:i,className:"HiddenOnMobile"},e.title))}},{key:"render",value:function(){var e=this,t=[{id:"aanbod",title:"Aanbod",icon:"Assignment"},{id:"groepen",title:"Mijn groepen",icon:"Group"},{id:"portfolio",title:"Portfolio",icon:"Assessment"},{id:"gegevens",title:"Gegevens",icon:"ViewColumn"},{id:"taxi",title:"Taxi",icon:"Taxi"},{id:"beheer",title:"Beheer",icon:"Beheer"}].filter((function(t){return-1!==e.state.pages.indexOf(t.id)})).map(this.getItem.bind(this)),r=[{id:"profiel",title:"Profiel",icon:"Person"},{id:"loguit",title:"Log uit",icon:"Exit"}].filter((function(t){return-1!==e.state.pages.indexOf(t.id)})).map(this.getItem.bind(this));return a.a.createElement(ge.a,{elevation:8,className:"Menu"},a.a.createElement(Wt.a,{component:"nav",style:{height:"100%"}},t,a.a.createElement("div",{style:{position:"absolute",bottom:"20px",width:"100%"}},r)))}}]),t}(n.Component);var zr=Object(A.h)(Object(D.b)((function(e){return null!=e.userId?{displayName:e.users[e.userId].displayName,userId:e.userId,role:e.role}:{displayName:"",userId:e.userId,role:e.role}}),null)(Hr)),Fr=r(340),Br=r.n(Fr);function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Wr=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).handlePeriodChange=function(e){r.props.history.push({search:"blok=".concat(e,"&leerjaar=").concat(r.state.leerjaar)})},r.handleYearChange=function(e){r.props.history.push({search:"blok=".concat(r.state.period,"&leerjaar=").concat(e)})},r.openCertificate=function(){var e=r.props.userId;window.open("/api/certificate/portfolio/"+e,"_blank")},r.state={period:e.currentPeriod+"",leerjaar:"student"===e.role?"all":e.schoolYear},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"orderGroups",value:function(e,t){var r={};return Br()(e,(function(e){r[t(e)]||(r[t(e)]=[]),r[t(e)].push(e)})),W()(r,this.getOrder)}},{key:"getOrder",value:function(e,t){return e=W()(e,(function(e){return a.a.createElement(Bt,{key:e.id,groupId:e.id,display:"card"})})),a.a.createElement("div",{key:t,style:{padding:"10px"}},a.a.createElement(q,{value:t,style:{type:"headline",color:"secondary"},layout:{area:!0}}),e,a.a.createElement(Xe.a,{style:{marginTop:"20px"}}))}},{key:"render",value:function(){var e=this;"student"===this.props.role&&[{label:"Alle",value:"all"},{label:"Blok 1",value:"period1"},{label:"Blok 2",value:"period2"},{label:"Blok 3",value:"period3"},{label:"Blok 4",value:"period4"}].splice(1,0,{label:"Ingeschreven",value:"enrolled"}),this.props.groups||this.props.getParticipatingGroups(),this.props.enrollmentIds||this.props.getEnrolLments();var t,r=this.props.enrollmentIds||[];if("enrolled"!==this.state.filter&&(r=this.props.participatingGroupIds.filter((function(e){return-1===r.indexOf(e)})).concat(r)),null==this.props.groups||0===Object.keys(this.props.groups).length)t=a.a.createElement(ke,null);else{var n=r.map((function(t){return e.props.groups[t]})).filter((function(e){return null!=e})).filter((function(t){return"all"===e.state.period||t.period+""===e.state.period})).filter((function(t){return"all"===e.state.schoolYear||t.schoolYear+""===e.state.schoolYear}));t=this.orderGroups(n,(function(e){return e.subjectName}))}return a.a.createElement(je,null,a.a.createElement(ge.a,{elevation:2,style:{position:"relative"}},a.a.createElement(Ut.a,{style:{display:"flex"}},a.a.createElement(ye.a,{variant:"subtitle1",color:"textSecondary",style:{flex:"2 1 auto"}},"student"===this.props.role?"Portfolio":"Mijn groepen"),"student"===this.props.role&&a.a.createElement(fe.a,{color:"primary",variant:"contained",style:{margin:"20px"},onClick:this.openCertificate},"Certificaat"),a.a.createElement(q,{label:"blok",value:this.state.period,editable:!0,style:{flex:"none"},options:[{label:"Alle",value:"all"},{label:"Blok 1",value:"1"},{label:"Blok 2",value:"2"},{label:"Blok 3",value:"3"},{label:"Blok 4",value:"4"}],onChange:this.handlePeriodChange}),a.a.createElement(q,{label:"leerjaar",style:{flex:"none"},value:this.state.schoolYear,editable:!0,options:[{label:"Alle",value:"all"},{label:"2016/2017",value:"2016/2017"},{label:"2017/2018",value:"2017/2018"},{label:"2018/2019",value:"2018/2019"},{label:"2019/2020",value:"2019/2020"},{label:"2020/2021",value:"2020/2021"},{label:"2021/2022",value:"2021/2022"}],onChange:this.handleYearChange}))),t)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=pt.a.parse(e.location.search),n=r.blok,a=r.leerjaar;return n||(n="student"===e.role?"all":e.currentPeriod+""),a||(a="student"===e.role?"all":e.schoolYear),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{period:n,schoolYear:a})}}]),t}(n.Component);var Vr=Object(D.b)((function(e){return{groups:e.groups,participatingGroupIds:e.users[e.userId].participatingGroupIds,enrollmentIds:e.users[e.userId].enrollmentIds,role:e.role,schoolYear:e.schoolYear,currentPeriod:e.currentPeriod,userId:e.userId}}),(function(e){return{getSubjects:function(){return e(re())},getGroups:function(){return e(ne())},getEnrolLments:function(){return e(le())},getParticipatingGroups:function(){return e((function(e,t){ee("user/groups","get",null,e,t).then((function(t){e({type:"CHANGE_GROUPS",groups:t})})).catch((function(){}))}))}}}))(Wr);function Yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Jr=["alias","vak","module","groep"],$r=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).mapPageToListItem=function(e){return a.a.createElement(Vt.a,{button:!0,onClick:function(){return r.handlePageChange(e)},key:e},a.a.createElement(Yt.a,null,a.a.createElement(ye.a,{variant:"button",color:e===r.state.page?"primary":"initial",style:{minWidth:"150px"}},e.charAt(0).toUpperCase()+e.slice(1))))},r.handlePageChange=function(e){r.props.history.push({search:"page="+e})},r.getContent=function(){switch(r.state.page){case"alias":return a.a.createElement(Zr,{dispatch:r.props.dispatch});case"vak":return a.a.createElement(qr,{addSubject:r.props.addSubject});case"module":return a.a.createElement(Kr,{addCourse:r.props.addCourse,subjects:r.props.subjects});case"groep":return a.a.createElement(Xr,{addGroup:r.props.addGroup,courses:r.state.courses})}},r.state={courses:[]},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;z.a.ajax({url:"api/course/list",type:"get",data:{},dataType:"json"}).then((function(t){e.setState({courses:t})})),this.props.getSubjects()}},{key:"render",value:function(){return a.a.createElement(je,null,a.a.createElement(Re,null,a.a.createElement(ge.a,{elevation:2,style:{position:"relative"}},a.a.createElement(Ut.a,{style:{display:"flex"}},a.a.createElement(ye.a,{variant:"subtitle1",color:"textSecondary",style:{flex:"2 1 auto"}},"Beheer"))),a.a.createElement("div",{style:{display:"flex"},className:"ColumnFlexDirectionOnMobile"},a.a.createElement(ge.a,{elevation:2},a.a.createElement(Wt.a,{component:"nav",style:{flex:1}},Jr.map(this.mapPageToListItem))),a.a.createElement("div",{style:{padding:"12px"}},this.getContent()))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=pt.a.parse(e.location.search);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yr(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{},{page:r.page?r.page:Jr[0]})}}]),t}(n.Component),Zr=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).state={aliasId:null},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{margin:"10px 0"}},a.a.createElement(Mt,{onChange:function(t){return e.setState({aliasId:t})}}),a.a.createElement("br",null),a.a.createElement(fe.a,{variant:"contained",color:"primary",disabled:null==this.state.aliasId,onClick:function(){return e.props.dispatch((t=e.state.aliasId,function(e,r){ee("function/alias","post",{userId:t,secureLogin:r().secureLogin},e,r).then((function(){document.location.reload()}))}));var t}},"Login in met alias"))}}]),t}(n.Component),qr=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).state={name:"",description:""},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state;return a.a.createElement("div",null,a.a.createElement(q,{label:"Naam",value:t.name,onChange:function(t){return e.setState({name:t})},editable:!0,validate:{maxLength:50}}),a.a.createElement("br",null),a.a.createElement(q,{label:"Omschrijving",value:t.description,onChange:function(t){return e.setState({description:t})},editable:!0,validate:{maxLength:440},layout:{area:!0}}),a.a.createElement(fe.a,{variant:"contained",color:"primary",style:{height:"37px",margin:"12px"},onClick:function(){e.props.addSubject(t.name,t.description).then(be)}},"Voeg toe"))}}]),t}(n.Component),Kr=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).state={name:"",subjectId:""},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state;return a.a.createElement("div",null,a.a.createElement(q,{label:"Naam",value:t.name,onChange:function(t){return e.setState({name:t})},editable:!0,validate:{maxLength:50},style:{flex:"1"}}),a.a.createElement("br",null),a.a.createElement(q,{value:t.subjectId,subjectId:!0,label:"Vak",onChange:function(t){return e.setState({subjectId:t})},editable:!0,options:W()(this.props.subjects,(function(e){return{value:e.id,label:e.name}})),style:{minWidth:"200px"}}),a.a.createElement("br",null),a.a.createElement(fe.a,{variant:"contained",color:"primary",style:{height:"37px",margin:"12px"},onClick:function(){e.props.addCourse(t.name,t.subjectId).then(be)}},"Voeg toe"))}}]),t}(n.Component),Xr=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e))).state={courseId:null,teacherId:null},r}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state;return a.a.createElement("div",null,a.a.createElement(q,{value:t.courseId,label:"Module",onChange:function(t){return e.setState({courseId:t})},editable:!0,options:this.props.courses.map((function(e){return{label:e.name,value:e.id}})),style:{minWidth:"200px"}}),a.a.createElement("br",null),a.a.createElement(Mt,{value:t.teacherId,onChange:function(t){return e.setState({teacherId:t})}}),a.a.createElement("br",null),a.a.createElement(fe.a,{variant:"contained",color:"primary",style:{height:"37px",margin:"12px"},onClick:function(){e.props.addGroup(t.courseId,t.teacherId).then(be)}},"Voeg toe"))}}]),t}(n.Component);var Qr=Object(D.b)((function(e){return{subjects:e.subjects,groups:e.groups}}),(function(e){return{addSubject:function(){var t=Object(M.a)(T.a.mark((function t(r,n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(pe(r,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),addCourse:function(){var t=Object(M.a)(T.a.mark((function t(r,n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(de(r,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),addGroup:function(){var t=Object(M.a)(T.a.mark((function t(r,n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(he(r,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),addNotification:function(t){return e(se(t))},getSubjects:function(){return e(re())},dispatch:e}}))($r),en=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.props.getSelf()}},{key:"componentDidUpdate",value:function(){ae(this.props.user)&&"/profiel"!==this.props.location.pathname&&this.props.history.push("/profiel")}},{key:"handleShowMenu",value:function(){var e=this.state.showMenu;this.setState({showMenu:!e})}},{key:"getStartPage",value:function(e){switch(e){case"student":return"/aanbod";case"grade_admin":return"/gegevens";default:return"/groepen"}}},{key:"render",value:function(){if(!this.props.role&&"/login"!==this.props.location.pathname)return a.a.createElement("div",null);var e=this.getStartPage(this.props.role);return a.a.createElement("div",{className:"App"},a.a.createElement(xr,null),this.props.showMenu&&a.a.createElement(zr,null),a.a.createElement(gr,null),a.a.createElement(A.e,null,a.a.createElement(A.c,{path:"/login",component:Oe}),a.a.createElement(A.c,{path:"/aanbod",component:Zt}),a.a.createElement(A.c,{path:"/groep/:groupId",component:Bt}),a.a.createElement(A.c,{path:"/gebruiker/:userId",component:ht}),a.a.createElement(A.c,{path:"/profiel/",component:ht}),a.a.createElement(A.c,{path:"/portfolio/",component:Vr}),a.a.createElement(A.c,{path:"/groepen/",component:Vr}),a.a.createElement(A.c,{path:"/gegevens/",component:cr}),a.a.createElement(A.c,{path:"/taxi/",component:pr}),a.a.createElement(A.c,{path:"/beheer/",component:Qr}),a.a.createElement(A.b,{push:!0,to:e})))}}]),t}(n.Component);var tn=Object(A.h)(Object(D.b)((function(e){return{showMenu:e.showMenu,userId:e.userId,role:e.role,user:e.userId?e.users[e.userId]:null}}),(function(e){return{getSelf:function(){return e(ie())},addNotification:function(t){return e(se(t))}}}))(en)),rn=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return a.a.createElement(D.a,{store:this.props.store},a.a.createElement(P.a,{theme:G},a.a.createElement(S.a,null,a.a.createElement(tn,null))))}}]),t}(n.Component);r(708);r(709);var nn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,an=Object(l.d)(j,nn(Object(l.a)(s.a)));i.a.render(a.a.createElement(rn,{store:an}),document.getElementById("root"))}},[[353,1,2]]]);
//# sourceMappingURL=main.160520a8.chunk.js.map