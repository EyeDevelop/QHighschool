<!DOCTYPE html>
<head>
    <title>Portfolio</title>
    <link rel="stylesheet" type="text/css" href="/portfolioCertificateStyle.css">
</head>
<body >
    <%  let pages =  Math.ceil(groups.length / 6);
        for ( let i = 0; i < pages ; i ++ ) {%>
    <div class="page center-horizontal" style="top: <%=i * 297%>mm">
        <img src="/images/logo_qhighschool_q.svg" id="bg-q-logo" class="center-horizontal" allign="middle">
    
        <div id="top-bar" >
            <svg width="100%">
                <line x1="0" y1="42%" x2="100%" y2="42%" id="left-top-line-1" class="line-color-1 line-width-4"/>
                <line x1="0" y1="55%" x2="100%" y2="55%" id="left-top-line-2" class="line-color-2 line-width-4"/>
            </svg>
            <img src="/images/logo_qhighschool.svg" id="top-logo">
            <svg width="100%">
                <line x1="0" y1="42%" x2="100%" y2="42%" id="left-top-line-1" class="line-color-1 line-width-4"/>
                <line x1="0" y1="55%" x2="100%" y2="55%" id="left-top-line-2" class="line-color-2 line-width-4"/>
            </svg>
        </div>
    
        <div id="middle-text">
            <p class="title"> Portfolio </p>
            <p class="sub-text"> Hierbij verklaart Quadraam dat </p>
            <p class="main-text"> <%= user.firstName + " " + user.lastName %> </p>
            <p class="sub-text"> de volgende Q-Highschool modules heeft afgerond </p>
        </div>

        <div id="table">
            <svg width="100%" height="4pt">
                <line x1="0" y1="50%" x2="100%" y2="50%" class="line-color-1 line-width-2"/>
            </svg>
            <table>
                <tr>
                    <th>Naam module</th>
                    <th>Beoordeling</th>
                    <th>Studietijd</th>
                    <th>Datum</th>
                </tr>
                <% for ( let j = 0; j < groups.length - ( i * 6) && j < 6 ; j++ ) { 
                    let group = groups[(i*6) + j];%> 
                    <tr>
                        <td><%= group.courseName%></td>
                        <% switch (group.evaluation.type) {
                                case "stepwise":
                                    switch (group.evaluation.assesment) {
                                        case "G":%>
                                           <td>Goed</td> 
                                           <%break;
                                        case "V":%>
                                            <td>Voldoende</td>
                                           <%break;
                                        case "O":
                                        default: %>
                                            <td>Onvoldoende</td>
                                    <%};
                                break;
                                case "check": %>
                                    <td><%=group.evaluation.assesment === "passed"? "Gehaald": "Niet gehaald"%></td>
                                    <% break;
                                case "decimal":
                                default: %>
                                    <td><%=group.evaluation.assesment%></td>
                        <%}%>
                        <td><%= group.studyTime + ' uur'%></td>
                        <td><%= group.evaluation.updatedAt.getDate() + "-" + (group.evaluation.updatedAt.getMonth() + 1) + "-" + group.evaluation.updatedAt.getFullYear() %></td>
                    </tr>
                <%}%>
            </table>
            <svg width="100%" height="4pt">
                <line x1="0" y1="50%" x2="100%" y2="50%" class="line-color-2 line-width-2"/>
            </svg>
        </div>
    
        <div id="signature" >
            <p class="sub-text" id="signature-text">Quadraam:</p>
            <svg width="100%" height="100%">
                <line x1="0" y1=90% x2="100%" y2="90%" id="signature-line" />
            </svg>
        </div>

        <p id="page-counter"><%=(i+1)+"/"+pages%></p>
    
        <div id="bottom-bar" >
            <svg width="100%" height="100%">
                <line x1="0" y1="20%" x2="100%" y2="20%" id="left-top-line-1" class="line-color-2 line-width-4"/>
                <line x1="0" y1="60%" x2="100%" y2="60%" id="left-top-line-2" class="line-color-1 line-width-4"/>
            </svg>
        </div>
    </div>
    <% } %>
</body>