{"version":3,"sources":["store/usersReducer.js","store/groupsReducer.js","store/mainReducer.js","lib/MuiTheme.js","components/Field.js","store/actions.js","pages/Login.js","pages/Page.js","components/Progress.js","pages/group/EnrollmentPopup.js","pages/group/ChooseButton.js","components/EnsureSecureLogin.js","pages/group/Evaluation.js","pages/group/GroupCard.js","pages/user/UserRow.js","pages/user/UserPage.js","pages/user/UserCard.js","pages/user/User.js","pages/group/PresenceTable.js","pages/group/Lesson.js","pages/user/UserList.js","components/PageLeaveWarning.js","pages/group/GroupData.js","components/NotificationBadge.js","pages/group/GroupPage.js","pages/group/Group.js","pages/CourseSelect.js","pages/DataPage.js","pages/Taxi.js","components/Header.js","components/NotificationBar.js","components/Menu.js","pages/Portfolio.js","components/SelectUser.js","pages/ControlPanel.js","App.js","lib/GlobalProvider.js","index.js"],"names":["DEFAULT_USERS","usersReducer","users","arguments","length","undefined","action","type","newUsers","x","Object","objectSpread","defineProperty","user","id","userId","enrollmentIds","concat","groupId","index","indexOf","toConsumableArray","slice","DEFAULT_GROUPS","groups","group","DEFAULT_STATE","enrollableGroups","currentPeriod","enrollmentPeriod","subjects","showMenu","notifications","hasFetched","mainReducer","state","role","secureLogin","notification","menuState","call","method","data","lessons","lessonId","userStatus","groupsReducer","theme","createMuiTheme","breakpoints","keys","values","xs","sm","md","lg","xl","direction","mixins","toolbar","minHeight","@media (min-width:0px) and (orientation: landscape)","@media (min-width:600px)","overrides","palette","common","black","white","primary","main","contrastText","light","dark","secondary","error","grey","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","contrastThreshold","tonalOffset","text","disabled","hint","divider","background","paper","default","active","hover","hoverOpacity","selected","disabledBackground","props","shadows","typography","fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","display4","fontWeight","letterSpacing","lineHeight","marginLeft","color","display3","display2","display1","headline","title","subheading","body2","body1","caption","button","textTransform","transitions","easing","easeInOut","easeOut","easeIn","sharp","duration","shortest","shorter","short","standard","complex","enteringScreen","leavingScreen","spacing","unit","zIndex","mobileStepper","appBar","drawer","modal","snackbar","tooltip","Field","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","onChange","event","target","value","menuItems","endAdornment","style","layout","label","multiline","fullWidth","options","disableUnderline","underline","margin","marginPx","classNames","alignment","float","textAlign","push","area","editable","labelVisible","a","filter","opt","map","option","react_default","createElement","MenuItem","key","InputAdornment","position","td","width","field","TextField","className","join","select","flex","InputProps","inputProps","nextProps","prevState","validate","rules","test","isNaN","replace","min","parseFloat","max","notEmpty","maxLength","React","Component","apiErrorHandler","dispatch","e2","responseJSON","Math","random","priority","message","scope","fetchData","_x","_x2","_x3","_x4","_x5","_x6","_fetchData","apply","_callee","endpoint","getState","forceArray","f","i","o","regenerator_default","wrap","_context","prev","next","abrupt","Promise","reject","Error","$","ajax","url","dataType","then","list","Array","isArray","keyBy","catch","stop","getSubjects","getGroups","getSelf","addNotification","not","year","level","profile","preferedEmail","phoneNumber","addMissingInfoNotifications","removeNotification","window","location","pathname","setCookie","search","document","href","toggleMenu","getEnrolLments","enrollments","addSubject","name","description","addCourse","subjectId","addGroup","courseId","mainTeacherId","cname","cvalue","exhours","d","Date","setTime","getTime","expires","toUTCString","cookie","Login","generateEmail","bind","interval","setInterval","school","schoolShort","studentNumber","floor","setState","clearInterval","Typography","variant","overflow","history","Paper","elevation","padding","gutterBottom","generateColoredEmail","Button","size","onClick","login","withRouter","connect","email","password","Page","children","Progress","isShowing","_this2","timeout","setTimeout","clearTimeout","CircularProgress","EnrollmentPopup","Dialog","open","keepMounted","DialogContent","DialogContentText","day","display","chosenDayGroupName","DialogActions","DialogTitle","courseName","handlePopup","Clear_default","_this3","_this4","remarks","preventPopupClose","page","getRemarkPage","getCancelPage","getDuplicatePage","getConfirmPage","hasChosen","hasChosenDay","ChooseButton","getEnrollableGroups","dialogOpen","preventClose","doEnroll","toggleEnrollment","dialog","group_EnrollmentPopup","loading","components_Progress","canChoose","period","ownProps","forEach","e","EnsureSecureLogin","marginTop","components_Field","EVALUATION_FORMATS","Evaluation","evaluation","student","assesment","EvaluationTab","onSortChange","sortValue","sortDirection","handleSingleChange","newEv","newEvaluations","evaluations","handleChange","sortEvaluations","sort","b","cmp","displayName","newValue","alignItems","paddingRight","paddingLeft","evComps","ev","component","Evaluation_Evaluation","explanation","components_EnsureSecureLogin","backgroundColor","Tooltip","enterDelay","placement","TableSortLabel","handleEvaluationTypeChange","CARD_STYLE","height","verticalAlign","marginRight","marginBottom","GroupCard","bottom","borderBottomLeftRadius","borderBottomRightRadius","justifyContent","getEvaluationColor","expand","group_ChooseButton","onMouseEnter","onMouseLeave","maxHeight","cursor","subjectName","enrollableFor","courseDescription","getBottomSection","number","numberWithoutCharacters","substr","match","exec","firstName","lastName","formatPhoneNumber","profiles","levels","UserPage","JSON","stringify","shouldFillIn","ownProfile","pages_Page","Divider","hasChanged","save","setUser","User","notExists","user_UserPage","UserRow","UserCard","s","queryString","parse","setSecureLogin","from","beforeLoginPath","ca","decodeURIComponent","split","c","charAt","substring","getCookie","params","PresenceTable","createRow","participantId","content","lesson","p","presence","createPresenceComponent","user_User","createLessonHeader","numberInBlock","status","rows","participantIds","partId","unshift","Lesson","mini","setPresenceUserStatus","courseGroupId","flexDirection","kind","subject","activities","getWeekdayString","date","getDay","getDate","getMonth","getFullYear","userIsMemberOfGroup","getOptOutButton","UserList","getHeader","headerTitle","sortIds","userIds","toLowerCase","toString","header","PageLeaveWarning","giveWarning","onbeforeunload","returnValue","react_router","when","GroupData","handleClickAway","anchorEl","showTeacherCard","currentTarget","top","right","teacherName","schoolYear","studyTime","Popover","onClose","anchorOrigin","horizontal","vertical","teacherId","colorPrimary","colorSecondary","colorError","NotificationBadge","classes","tooltipMessage","j","Badge","badgeContent","withStyles","RegExp","err","GroupPage","handleLessonChange","handleEvaluationChange","handlePresenceChange","presenceObj","setEditable","cancel","setGroup","handleTab","newTab","tabs","currentTab","user_UserList","0","group_Lesson","group_PresenceTable","Evaluation_EvaluationTab","getData","getGroupEnrollments","getGroupLessons","getGroupParticipants","getGroupPresence","getGroupEvaluations","group_GroupData","assign","AppBar","Tabs","indicatorColor","textColor","centered","tab","Tab","components_NotificationBadge","getCurrentTab","components_PageLeaveWarning","Group","getGroup","group_GroupPage","group_GroupCard","participatingGroupIds","getCourse","getCourseGroup","oldCourse","newCourse","oldCourseGroup","newCourseGroup","oldLessons","newLessons","oldPresence","newPresence","oldEvaluations","changedPresenceObjs","changedEvaluations","parseInt","participants","CourseSelect","handleSortChange","filterMethod","handleFilterChange","sortMethod","ListItem","ListItemText","minWidth","subjectsComponents","getMenuItem","enrolledGroupsIds","group_Group","enrolledGroups","getGroupsPerSubject","Toolbar","List","getMenuItems","splitValues","DataPage","componentDidMount","tables","splitTable","tableSortColumns","tableIndex","table","column","order","tableSortDirections","columnIndex","splitValue","splitIndex","findIndex","_loop","halfSplitTable","downloadTables","workbook","Excel","Workbook","sheet","addWorksheet","addRows","getColumn","filename","toLocaleDateString","downloadWorkbook","fileName","xlsx","writeBuffer","base64","xls64","Blob","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","console","log","forceCellWidth","cellName","Table","TableHead","TableRow","TableCell","TableBody","_","row","rowIndex","cell","Taxi","fetchSchedules","schedules","week","dangerouslySetInnerHTML","__html","n","Header","logoClick","IconButton","aria-label","Menu_default","src","alt","handleClick","Person_default","transform","NotificationBar","Snackbar","TransitionProps","SnackbarContent","Close_default","Menu","pages","reload","logout","iconName","Assignment_default","Group_default","Assessment_default","ViewColumn_default","ExitToApp_default","LocalTaxi_default","Build_default","isCurrentPage","icon","ListItemIcon","getIcon","visiblePages","getItem","visibleProfile","Portfolio","compareFunction","orders","getOrder","splice","getParticipatingGroups","groupIds","orderGroups","selectUser","input","getFittingUsers","regExp","count","v","handleInput","getAllUsers","ClickAwayListener","onClickAway","Popper","aliasId","disablePortal","MenuList","initialValues","course","ControlPanel","loginUsingAlias","handleAliasChange","typeObjectAdded","success","handleTypeChange","courses","addFunction","typeValues","_ref2","asyncToGenerator","mark","_ref3","_callee2","_context2","_ref4","_callee3","_context3","addView","addType","val","SelectUser","maxWidth","add","_addSubject2","_callee4","_context4","_addCourse2","_callee5","_context5","_addGroup2","_callee6","_context6","App","components_Header","components_NotificationBar","startPage","components_Menu","path","to","GlobalProvider","react_redux_es","store","MuiThemeProvider","react_router_dom","src_App","require","compose","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","reduxCompose","createStore","reducer","applyMiddleware","thunk","ReactDOM","render","lib_GlobalProvider","getElementById"],"mappings":"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","file":"static/js/main.fb5d48b7.chunk.js","sourcesContent":["const DEFAULT_USERS = {\n}\n\nfunction usersReducer(users = DEFAULT_USERS, action) {\n\tswitch (action.type) {\n\t\tcase \"CHANGE_USERS\":\n\t\t\tconst newUsers = users;\n\t\t\tfor (const x in action.users) {\n\t\t\t\tnewUsers[x] = { ...newUsers[x], ...action.users[x] }\n\t\t\t}\n\t\t\treturn newUsers;\n\t\tcase \"CHANGE_USER\":\n\t\t\treturn {\n\t\t\t\t...users,\n\t\t\t\t[action.user.id]: {\n\t\t\t\t\t...users[action.user.id],\n\t\t\t\t\t...action.user\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"CHANGE_ENROLLMENTS\":\n\t\t\tif (action.action === \"ADD\") {\n\t\t\t\treturn {\n\t\t\t\t\t...users,\n\t\t\t\t\t[action.userId]: {\n\t\t\t\t\t\t...users[action.userId],\n\t\t\t\t\t\tenrollmentIds: (users[action.userId].enrollmentIds || []).concat(action.groupId)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (action.action === \"REMOVE\") {\n\t\t\t\tconst index = users[action.userId].enrollmentIds.indexOf(action.groupId);\n\t\t\t\treturn {\n\t\t\t\t\t...users,\n\t\t\t\t\t[action.userId]: {\n\t\t\t\t\t\t...users[action.userId],\n\t\t\t\t\t\tenrollmentIds: [\n\t\t\t\t\t\t\t...users[action.userId].enrollmentIds.slice(0, index),\n\t\t\t\t\t\t\t...users[action.userId].enrollmentIds.slice(index + 1),\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...users,\n\t\t\t\t[action.userId]: {\n\t\t\t\t\t...users[action.userId],\n\t\t\t\t\tenrollmentIds: action.enrollmentIds,\n\t\t\t\t}\n\t\t\t}\n\t\tdefault:\n\t\t\treturn users;\n\t}\n}\n\n\nexport default usersReducer;","const DEFAULT_GROUPS = {\n}\n\nfunction usersReducer(groups = DEFAULT_GROUPS, action) {\n\tswitch (action.type) {\n\t\tcase \"CHANGE_GROUPS\":\n\t\t\treturn { ...action.groups,...groups, };\n\t\tcase \"CHANGE_GROUP\":\n\t\t\treturn {\n\t\t\t\t\t...groups,\n\t\t\t\t\t[action.group.id]: {\n\t\t\t\t\t\t...groups[action.group.id], \n\t\t\t\t\t\t...action.group\n\t\t\t\t\t}\n\t\t\t};\n\t\tdefault:\n\t\t\treturn groups;\n\t}\n}\n\n\nexport default usersReducer;","import usersReducer from \"./usersReducer\";\nimport groupsReducer from \"./groupsReducer\";\n\nconst DEFAULT_STATE = {\n\tuserId: null,\n\tenrollableGroups: null,\n\tcurrentPeriod: 4,\n\tenrollmentPeriod: 1,\n\tsubjects: null,\n\tgroups: null,\n\tusers: null,\n\tshowMenu: true,\n\tnotifications: [],\n\thasFetched: [],\n}\n\nfunction mainReducer(state = DEFAULT_STATE, action) {\n\tswitch (action.type) {\n\t\tcase \"SET_SELF\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserId: action.user.id,\n\t\t\t\trole: action.user.role,\n\t\t\t\tnotifications: [...state.notifications, ...action.user.notifications],\n\t\t\t\tusers: {\n\t\t\t\t\t[action.user.id]: action.user,\n\t\t\t\t\t...state.users,\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"SET_SECURE_LOGIN\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsecureLogin: action.secureLogin,\n\t\t\t}\n\t\tcase \"ADD_NOTIFICATION\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnotifications: [...state.notifications, action.notification],\n\t\t\t};\n\t\tcase \"REMOVE_NOTIFICATION\":\n\t\t\tconst index = state.notifications.indexOf(action.notification);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnotifications: [\n\t\t\t\t\t...state.notifications.slice(0, index),\n\t\t\t\t\t...state.notifications.slice(index + 1)\n\t\t\t\t],\n\t\t\t};\n\t\tcase \"TOGGLE_MENU\":\n\t\t\tif (action.menuState != null) {\n\t\t\t\treturn { ...state, showMenu: action.menuState };\n\t\t\t} else {\n\t\t\t\treturn { ...state, showMenu: !state.showMenu };\n\t\t\t}\n\t\tcase \"HAS_FETCHED\":\n\t\t\treturn { ...state, hasFetched: [...state.hasFetched, { call: action.call, method: action.method, data: action.data }] };\n\t\tcase \"CHANGE_ENROLLABLE_GROUPS\":\n\t\t\treturn { ...state, enrollableGroups: action.enrollableGroups };\n\t\tcase \"CHANGE_SUBJECTS\":\n\t\t\treturn { ...state, subjects: { ...state.subjects, ...action.subjects } };\n\t\tcase \"CHANGE_PRESENCE_USER_STATUS\":\n\t\t\tlet lessons = state.groups[action.groupId].lessons;\n\t\t\tlessons[action.lessonId].userStatus = action.userStatus;\n\t\t\treturn { ...state, lessons }\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: usersReducer(state.users, action),\n\t\t\t\tgroups: groupsReducer(state.groups, action),\n\t\t\t}\n\t}\n}\n\n\nexport default mainReducer;","import { createMuiTheme } from '@material-ui/core/styles';\n\n// const theme = createMuiTheme({\n// \tpalette: {\n// \t\tprimary: {\n// \t\t\t// light: '#5472d3',\n// \t\t\tmain: '#0d47a1',\n// \t\t\t// dark: '#002171',\n// \t\t\tcontrastText: '#fff',\n// \t\t},\n// \t\tsecondary: {\n// \t\t\t// light: '#60ad5e',\n// \t\t\tmain: '#2e7d32',\n// \t\t\t// dark: '#005005',\n// \t\t\tcontrastText: '#ffffff',\n// \t\t},\n// \t},\n// });\n\nconst theme = createMuiTheme({\n\t\"breakpoints\": {\n\t\t\"keys\": [\n\t\t\t\"xs\",\n\t\t\t\"sm\",\n\t\t\t\"md\",\n\t\t\t\"lg\",\n\t\t\t\"xl\"\n\t\t],\n\t\t\"values\": {\n\t\t\t\"xs\": 0,\n\t\t\t\"sm\": 600,\n\t\t\t\"md\": 960,\n\t\t\t\"lg\": 1280,\n\t\t\t\"xl\": 1920\n\t\t}\n\t},\n\t\"direction\": \"ltr\",\n\t\"mixins\": {\n\t\t\"toolbar\": {\n\t\t\t\"minHeight\": 56,\n\t\t\t\"@media (min-width:0px) and (orientation: landscape)\": {\n\t\t\t\t\"minHeight\": 48\n\t\t\t},\n\t\t\t\"@media (min-width:600px)\": {\n\t\t\t\t\"minHeight\": 64\n\t\t\t}\n\t\t}\n\t},\n\t\"overrides\": {},\n\t\"palette\": {\n\t\t\"common\": {\n\t\t\t\"black\": \"#000\",\n\t\t\t\"white\": \"#fff\"\n\t\t},\n\t\t\"type\": \"light\",\n\t\t\"primary\": {\n\t\t\t\"main\": \"#08C8F9\",\n\t\t\t\"contrastText\": \"#fff\",\n\t\t\t\"light\": \"rgb(57, 211, 250)\",\n\t\t\t\"dark\": \"rgb(5, 140, 174)\"\n\t\t},\n\t\t\"secondary\": {\n\t\t\t\"main\": \"#C3386B\",\n\t\t\t\"contrastText\": \"#ffffff\",\n\t\t\t\"light\": \"rgb(207, 95, 136)\",\n\t\t\t\"dark\": \"rgb(136, 39, 74)\"\n\t\t},\n\t\t\"error\": {\n\t\t\t\"light\": \"#e57373\",\n\t\t\t\"main\": \"#f44336\",\n\t\t\t\"dark\": \"#d32f2f\",\n\t\t\t\"contrastText\": \"#fff\"\n\t\t},\n\t\t\"grey\": {\n\t\t\t\"50\": \"#fafafa\",\n\t\t\t\"100\": \"#f5f5f5\",\n\t\t\t\"200\": \"#eeeeee\",\n\t\t\t\"300\": \"#e0e0e0\",\n\t\t\t\"400\": \"#bdbdbd\",\n\t\t\t\"500\": \"#9e9e9e\",\n\t\t\t\"600\": \"#757575\",\n\t\t\t\"700\": \"#616161\",\n\t\t\t\"800\": \"#424242\",\n\t\t\t\"900\": \"#212121\",\n\t\t\t\"A100\": \"#d5d5d5\",\n\t\t\t\"A200\": \"#aaaaaa\",\n\t\t\t\"A400\": \"#303030\",\n\t\t\t\"A700\": \"#616161\"\n\t\t},\n\t\t\"contrastThreshold\": 3,\n\t\t\"tonalOffset\": 0.2,\n\t\t\"text\": {\n\t\t\t\"primary\": \"rgba(0, 0, 0, 0.87)\",\n\t\t\t\"secondary\": \"rgba(0, 0, 0, 0.54)\",\n\t\t\t\"disabled\": \"rgba(0, 0, 0, 0.38)\",\n\t\t\t\"hint\": \"rgba(0, 0, 0, 0.38)\"\n\t\t},\n\t\t\"divider\": \"rgba(0, 0, 0, 0.12)\",\n\t\t\"background\": {\n\t\t\t\"paper\": \"#fff\",\n\t\t\t\"default\": \"#fafafa\"\n\t\t},\n\t\t\"action\": {\n\t\t\t\"active\": \"rgba(0, 0, 0, 0.54)\",\n\t\t\t\"hover\": \"rgba(0, 0, 0, 0.08)\",\n\t\t\t\"hoverOpacity\": 0.08,\n\t\t\t\"selected\": \"rgba(0, 0, 0, 0.14)\",\n\t\t\t\"disabled\": \"rgba(0, 0, 0, 0.26)\",\n\t\t\t\"disabledBackground\": \"rgba(0, 0, 0, 0.12)\"\n\t\t}\n\t},\n\t\"props\": {},\n\t\"shadows\": [\n\t\t\"none\",\n\t\t\"0px 1px 3px 0px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 2px 1px -1px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 1px 5px 0px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 3px 1px -2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 1px 8px 0px rgba(0, 0, 0, 0.2),0px 3px 4px 0px rgba(0, 0, 0, 0.14),0px 3px 3px -2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 5px 8px 0px rgba(0, 0, 0, 0.14),0px 1px 14px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 5px 6px -3px rgba(0, 0, 0, 0.2),0px 9px 12px 1px rgba(0, 0, 0, 0.14),0px 3px 16px 2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 6px 6px -3px rgba(0, 0, 0, 0.2),0px 10px 14px 1px rgba(0, 0, 0, 0.14),0px 4px 18px 3px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 6px 7px -4px rgba(0, 0, 0, 0.2),0px 11px 15px 1px rgba(0, 0, 0, 0.14),0px 4px 20px 3px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 13px 19px 2px rgba(0, 0, 0, 0.14),0px 5px 24px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 9px -4px rgba(0, 0, 0, 0.2),0px 14px 21px 2px rgba(0, 0, 0, 0.14),0px 5px 26px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 9px -5px rgba(0, 0, 0, 0.2),0px 15px 22px 2px rgba(0, 0, 0, 0.14),0px 6px 28px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 11px -5px rgba(0, 0, 0, 0.2),0px 17px 26px 2px rgba(0, 0, 0, 0.14),0px 6px 32px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 9px 11px -5px rgba(0, 0, 0, 0.2),0px 18px 28px 2px rgba(0, 0, 0, 0.14),0px 7px 34px 6px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 9px 12px -6px rgba(0, 0, 0, 0.2),0px 19px 29px 2px rgba(0, 0, 0, 0.14),0px 7px 36px 6px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 20px 31px 3px rgba(0, 0, 0, 0.14),0px 8px 38px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 21px 33px 3px rgba(0, 0, 0, 0.14),0px 8px 40px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 14px -6px rgba(0, 0, 0, 0.2),0px 22px 35px 3px rgba(0, 0, 0, 0.14),0px 8px 42px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 11px 14px -7px rgba(0, 0, 0, 0.2),0px 23px 36px 3px rgba(0, 0, 0, 0.14),0px 9px 44px 8px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0, 0, 0, 0.12)\"\n\t],\n\t\"typography\": {\n\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\"fontSize\": 14,\n\t\t\"fontWeightLight\": 300,\n\t\t\"fontWeightRegular\": 400,\n\t\t\"fontWeightMedium\": 500,\n\t\t\"display4\": {\n\t\t\t\"fontSize\": \"7rem\",\n\t\t\t\"fontWeight\": 300,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"letterSpacing\": \"-.04em\",\n\t\t\t\"lineHeight\": \"1.14286em\",\n\t\t\t\"marginLeft\": \"-.04em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display3\": {\n\t\t\t\"fontSize\": \"3.5rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"letterSpacing\": \"-.02em\",\n\t\t\t\"lineHeight\": \"1.30357em\",\n\t\t\t\"marginLeft\": \"-.02em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display2\": {\n\t\t\t\"fontSize\": \"2.8125rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.06667em\",\n\t\t\t\"marginLeft\": \"-.02em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display1\": {\n\t\t\t\"fontSize\": \"2.125rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.20588em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"headline\": {\n\t\t\t\"fontSize\": \"1.5rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.35417em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"title\": {\n\t\t\t\"fontSize\": \"1.3125rem\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.16667em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"subheading\": {\n\t\t\t\"fontSize\": \"1rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.5em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"body2\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.71429em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"body1\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.46429em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"caption\": {\n\t\t\t\"fontSize\": \"0.75rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.375em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"button\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"textTransform\": \"uppercase\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t}\n\t},\n\t\"transitions\": {\n\t\t\"easing\": {\n\t\t\t\"easeInOut\": \"cubic-bezier(0.4, 0, 0.2, 1)\",\n\t\t\t\"easeOut\": \"cubic-bezier(0.0, 0, 0.2, 1)\",\n\t\t\t\"easeIn\": \"cubic-bezier(0.4, 0, 1, 1)\",\n\t\t\t\"sharp\": \"cubic-bezier(0.4, 0, 0.6, 1)\"\n\t\t},\n\t\t\"duration\": {\n\t\t\t\"shortest\": 150,\n\t\t\t\"shorter\": 200,\n\t\t\t\"short\": 250,\n\t\t\t\"standard\": 300,\n\t\t\t\"complex\": 375,\n\t\t\t\"enteringScreen\": 225,\n\t\t\t\"leavingScreen\": 195\n\t\t}\n\t},\n\t\"spacing\": {\n\t\t\"unit\": 8\n\t},\n\t\"zIndex\": {\n\t\t\"mobileStepper\": 1000,\n\t\t\"appBar\": 1100,\n\t\t\"drawer\": 1200,\n\t\t\"modal\": 1300,\n\t\t\"snackbar\": 1400,\n\t\t\"tooltip\": 1500\n\t}\n});\n\nexport default theme;","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport theme from '../lib/MuiTheme'\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport PropTypes from 'prop-types';\n\nclass Field extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\terror: false,\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\treturn {\n\t\t\t...prevState,\n\t\t\terror: nextProps.editable ? !Field.validate(nextProps.value, nextProps.validate) : false,\n\t\t}\n\t}\n\n\tstatic validate(value, rules = {}, options = [value]) {\n\t\tswitch (rules.type) {\n\t\t\tcase \"phoneNumber\":\n\t\t\t\tconst re = /(^\\+[0-9]{2}|^\\+[0-9]{2}\\(0\\)|^\\(\\+[0-9]{2}\\)\\(0\\)|^00[0-9]{2}|^0)([0-9]{9}$|[0-9\\-\\s]{10}$)/i;\n\t\t\t\tif (!re.test(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"email\":\n\t\t\t\tconst re2 = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/g;\n\t\t\t\tif (!re2.test(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"integer\":\n\t\t\t\tif (!/^\\+?[1-9][\\d]*$/i.test(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"float\":\n\t\t\t\tif (isNaN(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"decimalGrade\":\n\t\t\t\t//replace dot with comma and vice versa\n\t\t\t\tconst x = value.replace(/\\./g, \"_$comma$_\").replace(/,/g, \".\").replace(/_\\$comma\\$_/g, \",\");\n\t\t\t\tif (x === \"ND\") {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (isNaN(x)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault: break;\n\t\t}\n\t\tif (rules.min) {\n\t\t\tif (parseFloat(value) < rules.min) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (rules.max) {\n\t\t\tif (parseFloat(value) > rules.max) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (rules.notEmpty) {\n\t\t\tif (value == null || value === \"\" || value === \" \" || options.indexOf(value) === -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (rules.maxLength) {\n\t\t\tif (value.length > rules.maxLength) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tonChange = (event) => {\n\t\tthis.props.onChange(event.target.value);\n\t}\n\n\trender() {\n\t\tlet value = this.props.value == null ? \"\" : this.props.value;\n\t\tlet style = this.props.style || {};\n\t\tlet layout = this.props.layout || {};\n\n\t\tlet label = this.props.label;\n\t\tlet disabled = true;\n\t\tlet multiline = false;\n\t\tlet fullWidth = false;\n\n\t\tlet options = this.props.options;\n\t\tlet disableUnderline = style.underline || true;\n\t\tlet margin = style.margin || \"none\";\n\t\tlet marginPx = 0;\n\t\tlet menuItems;\n\t\tlet endAdornment;\n\t\tlet classNames = [];\n\t\tif (this.props.style) {\n\t\t\tswitch (this.props.style.type) {\n\t\t\t\tcase \"headline\":\n\t\t\t\t\tstyle = {\n\t\t\t\t\t\t...style,\n\t\t\t\t\t\t...theme.typography.headline,\n\t\t\t\t\t};\n\t\t\t\t\tstyle.color = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"title\":\n\t\t\t\t\tstyle = {\n\t\t\t\t\t\t...style,\n\t\t\t\t\t\t...theme.typography.title\n\t\t\t\t\t};\n\t\t\t\t\tstyle.color = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"caption\":\n\t\t\t\t\tstyle.color = theme.palette.text.secondary;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tstyle.color = theme.palette.text.primary;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (this.props.style.color) {\n\t\t\t\tcase \"primary\":\n\t\t\t\t\tstyle.color = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"primaryContrast\":\n\t\t\t\t\tstyle.color = theme.palette.primary.contrastText;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"secondary\":\n\t\t\t\t\tstyle.color = theme.palette.secondary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"error\":\n\t\t\t\t\tstyle.color = theme.palette.error.main;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (layout.alignment === \"right\") {\n\t\t\tstyle.float = \"right\";\n\t\t\tstyle.textAlign = \"right\";\n\t\t\tclassNames.push(\"right\");\n\t\t}\n\t\tif (layout.alignment === \"left\") {\n\t\t\tstyle.float = \"left\";\n\t\t}\n\n\t\tif (layout.area) {\n\t\t\tfullWidth = true;\n\t\t\tmultiline = true;\n\t\t}\n\n\t\tif (this.props.default && this.props.editable === false && (value === \"\" || value == null)) {\n\t\t\tvalue = this.props.default;\n\t\t}\n\n\t\tif (this.props.editable) {\n\t\t\tdisabled = false;\n\t\t\tdisableUnderline = style.underline || false;\n\t\t\tmargin = style.margin || \"normal\";\n\t\t} else {\n\t\t\tif (!(style.labelVisible === true)) {\n\t\t\t\tlabel = null;\n\t\t\t}\n\t\t\tif (options != null && options[0] != null && typeof options[0] !== \"string\") {\n\t\t\t\tconst a = options.filter((opt) => {\n\t\t\t\t\treturn opt.value === value;\n\t\t\t\t})[0];\n\t\t\t\tif (a != null) {\n\t\t\t\t\tvalue = a.label;\n\t\t\t\t}\n\t\t\t}\n\t\t\toptions = null;\n\t\t}\n\n\t\tif (options) {\n\t\t\tmenuItems = options.map(option => {\n\t\t\t\tif (typeof option !== \"string\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<MenuItem key={option.value} value={option.value}>\n\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<MenuItem key={option} value={option}>\n\t\t\t\t\t\t{option}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)\n\t\t\t});\n\t\t}\n\t\tif (style.unit) {\n\t\t\tendAdornment = <InputAdornment position=\"end\">{style.unit}</InputAdornment>;\n\t\t}\n\t\tif (layout.td) {\n\t\t\tstyle.width = \"100%\";\n\t\t}\n\t\tswitch (margin) {\n\t\t\tcase \"dense\":\n\t\t\t\tmarginPx = 5;\n\t\t\t\tbreak;\n\t\t\tcase \"normal\":\n\t\t\t\tmarginPx = 12;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\n\t\tconst field = (\n\t\t\t<TextField\n\t\t\t\tvalue={value}\n\t\t\t\tmargin=\"none\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\tfullWidth={fullWidth}\n\t\t\t\tmultiline={multiline}\n\t\t\t\tclassName={classNames.join(\" \")}\n\t\t\t\tlabel={label}\n\t\t\t\tselect={options ? true : false}\n\t\t\t\tstyle={{ flex: 1, ...style, margin: marginPx }}\n\t\t\t\tonChange={this.onChange}\n\t\t\t\terror={this.state.error}\n\t\t\t\tInputProps={{\n\t\t\t\t\tdisableUnderline,\n\t\t\t\t\tstyle,\n\t\t\t\t\tendAdornment: endAdornment ? endAdornment : null,\n\t\t\t\t\tinputProps: {\n\t\t\t\t\t\tstyle\n\t\t\t\t\t}\n\t\t\t\t}}\n\n\t\t\t>\n\t\t\t\t{menuItems}\n\t\t\t</TextField>\n\t\t);\n\t\tif (layout.td) {\n\t\t\tstyle.width = undefined;\n\t\t\treturn (\n\t\t\t\t<td style={style}>\n\t\t\t\t\t{field}\n\t\t\t\t</td>\n\t\t\t);\n\t\t} else {\n\t\t\treturn field;\n\t\t}\n\t}\n\n}\n\n\nField.propTypes = {\n\tvalidate: PropTypes.shape({\n\t\tmin: PropTypes.number,\n\t\tmax: PropTypes.number,\n\t\ttype: PropTypes.oneOf([\"phoneNumber\", \"email\", \"integer\", \"decimalGrade\"]),\n\t\tnotEmpty: PropTypes.bool,\n\t\tmaxLength: PropTypes.number,\n\t}),\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t]),\n\tstyle: PropTypes.shape({\n\t\tlabelVisible: PropTypes.bool,\n\t\ttype: PropTypes.oneOf([\n\t\t\t\"title\",\n\t\t\t\"caption\",\n\t\t\t\"headline\",\n\t\t]),\n\t\tunderline: PropTypes.bool,\n\t\tcolor: PropTypes.oneOf([\"primary\", \"primaryContrast\", \"secondary\", \"error\"]),\n\t\tunit: PropTypes.string,\n\t\tmargin: PropTypes.oneOf([\"none\", \"dense\", \"normal\"]),\n\t}),\n\tlayout: PropTypes.shape({\n\t\tarea: PropTypes.bool,\n\t\talignment: PropTypes.oneOf([\"left\", \"right\"]),\n\t\ttd: PropTypes.bool,\n\t}),\n\tlabel: PropTypes.string,\n\toptions: PropTypes.any,\n\t// PropTypes.arrayOf(\n\t// \tPropTypes.oneOfType([\n\t// \t\tPropTypes.shape({\n\t// \t\t\tvalue: PropTypes.string,\n\t// \t\t\tlabel: PropTypes.string,\n\t// \t\t}),\n\t// \t\tPropTypes.string,\n\t// \t])),\n\teditable: PropTypes.bool,\n\tdefault: PropTypes.string,\n};\n\nexport default Field;","import filter from \"lodash/filter\"\nimport $ from \"jquery\";\nimport keyBy from \"lodash/keyBy\"\nimport map from \"lodash/map\"\nimport Field from \"../components/Field\"\n\nfunction apiErrorHandler(dispatch) {\n\treturn function handleError(error, e2) {\n\t\tconst responseJSON = error.responseJSON;\n\t\tdispatch({\n\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\tnotification: {\n\t\t\t\tid: Math.random(),\n\t\t\t\tpriority: \"high\",\n\t\t\t\ttype: \"bar\",\n\t\t\t\tmessage: responseJSON && responseJSON.error ? responseJSON.error : \"Er is iets mis gegaan\",\n\t\t\t\tscope: \".\",\n\t\t\t}\n\t\t});\n\t\tthrow responseJSON;\n\t}\n}\n\nexport async function fetchData(endpoint, method, data, dispatch, getState, forceArray) {\n\tconst f = {\n\t\tcall: endpoint,\n\t\tmethod: method,\n\t\tdata: data,\n\t}\n\tfor (let i = 0; i < getState().hasFetched.length; i++) {\n\t\tconst o = getState().hasFetched[i];\n\t\tif (o.data === f.data && o.call === f.call && o.method === f.method) {\n\t\t\treturn Promise.reject(new Error(\"Duplicate api call\"));\n\t\t}\n\t};\n\tdispatch({\n\t\t...f,\n\t\ttype: \"HAS_FETCHED\",\n\t});\n\n\treturn $.ajax({\n\t\turl: \"/api/\" + endpoint,\n\t\ttype: method,\n\t\tdata: data,\n\t\tdataType: \"json\",\n\t}).then((list) => {\n\t\tif (method === \"put\" || method === \"patch\" || method === \"delete\") {\n\t\t\tdispatch({\n\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\tnotification: {\n\t\t\t\t\tid: Math.random(),\n\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\tmessage: \"Opgeslagen\",\n\t\t\t\t\tscope: \"\",\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn (Array.isArray(list) && forceArray !== true) ? keyBy(list, \"id\") : list\n\t})\n\t\t.catch(apiErrorHandler(dispatch));\n}\n\n\nexport function getSubjects() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"subject/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((subjects) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_SUBJECTS\",\n\t\t\t\t\tsubjects,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function setAlias(userId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"function/alias\", \"post\", { userId, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdocument.location.reload();\n\t\t\t})\n\t}\n}\n\nexport function getGroups() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((groups) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups,\n\t\t\t\t});\n\t\t\t}).catch(() => {});\n\t}\n}\n\nexport function getParticipatingGroups() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/groups\", \"get\", null, dispatch, getState)\n\t\t\t.then((groups) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups,\n\t\t\t\t});\n\t\t\t}).catch(() => {});\n\t}\n}\n\nexport function getGroup(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((group) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups: { [groupId]: group }\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nfunction addMissingInfoNotifications(user, dispatch) {\n\tfunction not(field) {\n\t\tdispatch({\n\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\tnotification: {\n\t\t\t\tid: Math.random(),\n\t\t\t\tpriority: \"high\",\n\t\t\t\ttype: \"badge\",\n\t\t\t\tmessage: \"Vul een geldige waarde voor \" + field + \" in\",\n\t\t\t\tscope: \"profiel\",\n\t\t\t}\n\t\t});\n\t}\n\tif (!Field.validate(user.year, {\n\t\ttype: \"integer\",\n\t\tmin: 1,\n\t\tmax: 6,\n\t})) { not(\"Leerjaar\") };\n\tif (!Field.validate(user.level, { notEmpty: true })) { not(\"Opleidingsniveau\") }\n\tif (!Field.validate(user.profile, { notEmpty: true })) { not(\"Profiel\") }\n\tif (!Field.validate(user.preferedEmail, { type: \"email\" })) { not(\"Voorkeurs email\") }\n\tif (!Field.validate(user.phoneNumber, { type: \"phoneNumber\" })) { not(\"Telefoonnummer\") }\n}\n\nexport function getSelf() {\n\treturn (dispatch, getState) => {\n\t\tconst notification = {\n\t\t\tid: -96,\n\t\t\tpriority: \"low\",\n\t\t\ttype: \"bar\",\n\t\t\tmessage: \"Bezig met laden\",\n\t\t\tscope: \".\",\n\t\t};\n\t\tdispatch(addNotification(notification));\n\t\tfetchData(\"user/self\", \"get\", null, dispatch, getState)\n\t\t\t.then((user) => {\n\t\t\t\taddMissingInfoNotifications(user, dispatch);\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_SELF\",\n\t\t\t\t\tuser,\n\t\t\t\t});\n\t\t\t\tdispatch(removeNotification(notification));\n\t\t\t}).catch((error) => {\n\t\t\t\tdispatch(removeNotification(notification));\n\t\t\t\tif (error != null && error.error === \"Authentication Error\") {\n\t\t\t\t\tif (window.location.pathname !== \"/login\") {\n\t\t\t\t\t\tsetCookie(\"beforeLoginPath\", window.location.pathname + window.location.search, 24);\n\t\t\t\t\t\tdocument.location.href = \"/login\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(toggleMenu(false));\n\t\t\t\t\tdispatch(addNotification({\n\t\t\t\t\t\tid: -1,\n\t\t\t\t\t\tpriority: \"high\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Kan geen verbinding met de server maken\",\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t}\n}\n\nexport function setUser(user) {\n\treturn (dispatch, getState) => {\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_USER\",\n\t\t\tuser,\n\t\t});\n\t\tfetchData(\"user\", \"patch\", user, dispatch, getState);\n\t}\n}\n\nexport function setPresenceUserStatus(lessonId, userStatus, groupId) {\n\treturn (dispatch, getState) => {\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_PRESENCE_USER_STATUS\",\n\t\t\tlessonId,\n\t\t\tuserStatus,\n\t\t\tgroupId,\n\t\t});\n\t\tfetchData(\"group/userStatus\", \"patch\", { lessonId: lessonId, userStatus: userStatus }, dispatch, getState);\n\t}\n}\n\nexport function setGroup(group) {\n\treturn (dispatch, getState) => {\n\t\tfunction getCourse(group) {\n\t\t\treturn {\n\t\t\t\tcourseId: group.courseId,\n\t\t\t\tsubjectId: group.subjectId,\n\t\t\t\tname: group.courseName,\n\t\t\t\tdescription: group.courseDescription,\n\t\t\t\tstudyTime: group.studyTime,\n\t\t\t\tremarks: group.remarks,\n\t\t\t}\n\t\t}\n\n\t\tfunction getCourseGroup(group) {\n\t\t\treturn {\n\t\t\t\tcourseId: group.courseId,\n\t\t\t\tgroupId: group.id,\n\t\t\t\tday: group.day,\n\t\t\t\tschoolYear: group.schoolYear,\n\t\t\t\tenrollableFor: group.enrollableFor,\n\t\t\t\tperiod: group.period,\n\t\t\t}\n\t\t}\n\n\t\tconst oldCourse = getCourse(getState().groups[group.id]);\n\t\tconst newCourse = getCourse(group);\n\n\t\tconst oldCourseGroup = getCourseGroup(getState().groups[group.id]);\n\t\tconst newCourseGroup = getCourseGroup(group);\n\n\t\tconst oldLessons = getState().groups[group.id].lessons;\n\t\tconst newLessons = group.lessons;\n\n\t\tconst oldPresence = getState().groups[group.id].presence;\n\t\tconst newPresence = group.presence;\n\n\t\tconst oldEvaluations = getState().groups[group.id].evaluations;\n\t\tconst newEvaluations = group.evaluations;\n\n\t\tif (JSON.stringify(oldCourse) !== JSON.stringify(newCourse)) {\n\t\t\tfetchData(\"course/\", \"patch\", newCourse, dispatch, getState);\n\t\t}\n\t\tif (JSON.stringify(oldCourseGroup) !== JSON.stringify(newCourseGroup)) {\n\t\t\tfetchData(\"group/\", \"patch\", newCourseGroup, dispatch, getState);\n\t\t}\n\n\t\tif (JSON.stringify(oldPresence) !== JSON.stringify(newPresence)) {\n\t\t\tconst changedPresenceObjs = filter(newPresence, (presence) => {\n\t\t\t\treturn JSON.stringify(presence) !== JSON.stringify(oldPresence[presence.id]);\n\t\t\t});\n\t\t\tfetchData(\"group/presence\", \"patch\",\n\t\t\t\t{\n\t\t\t\t\tpresence: JSON.stringify(map(changedPresenceObjs, (changedPresenceObjs) => { return changedPresenceObjs })),\n\t\t\t\t\tgroupId: group.id\n\t\t\t\t}, dispatch, getState);\n\t\t}\n\n\t\tif (newLessons != null && JSON.stringify(oldLessons) !== JSON.stringify(newLessons)) {\n\t\t\tfetchData(\"group/lessons\", \"patch\", { lessons: JSON.stringify(map(newLessons, (lesson) => { return lesson })), }, dispatch, getState);\n\t\t}\n\n\t\tif (JSON.stringify(oldEvaluations) !== JSON.stringify(newEvaluations)) {\n\t\t\tlet changedEvaluations = [];\n\t\t\tfor (let i = 0; i < newEvaluations.length; i++) {\n\t\t\t\tconst evaluation = newEvaluations[i];\n\t\t\t\tif (JSON.stringify(oldEvaluations[i]) !== JSON.stringify(evaluation)) {\n\t\t\t\t\tchangedEvaluations.push(evaluation);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData(\"group/evaluations\", \"patch\", {\n\t\t\t\tevaluations: JSON.stringify(changedEvaluations),\n\t\t\t\tsecureLogin: getState().secureLogin\n\t\t\t}, dispatch, getState);\n\t\t}\n\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\tgroup: group,\n\t\t});\n\t}\n}\n\nexport function getEnrollableGroups() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/enrollableGroups\", \"get\", null, dispatch, getState, true)\n\t\t\t.then((enrollableGroups) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_ENROLLABLE_GROUPS\",\n\t\t\t\t\tenrollableGroups,\n\t\t\t\t});\n\t\t\t}).catch(() => {});\n\t}\n}\n\nexport function getEnrolLments() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/enrollments\", \"get\", null, dispatch, getState)\n\t\t\t.then((enrollments) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups: enrollments,\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\tenrollmentIds: Object.keys(enrollments),\n\t\t\t\t});\n\t\t\t}).catch(() => {});\n\t}\n}\n\nexport function getGroupEnrollments(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/enrollments\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((enrollments) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tenrollmentIds: Object.keys(enrollments).map(id => parseInt(id, 10)),\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers: enrollments,\n\t\t\t\t});\n\t\t\t}).catch(() => {});\n\t}\n}\n\nexport function getGroupLessons(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/lessons\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((lessons) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tlessons,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getGroupPresence(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/presence\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((presence) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tpresence,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getGroupParticipants(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/participants\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((participants) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tparticipantIds: Object.keys(participants).map(id => parseInt(id, 10)),\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers: participants,\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getAllUsers() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((users) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers,\n\t\t\t\t});\n\t\t\t}).catch(() => {});\n\t}\n}\n\nexport function addNotification(notification) {\n\treturn {\n\t\ttype: \"ADD_NOTIFICATION\",\n\t\tnotification,\n\t}\n}\n\nexport function removeNotification(notification) {\n\treturn {\n\t\ttype: \"REMOVE_NOTIFICATION\",\n\t\tnotification,\n\t}\n}\n\nexport function toggleMenu(menuState) {\n\treturn {\n\t\ttype: \"TOGGLE_MENU\",\n\t\tmenuState,\n\t}\n}\n\nexport function setSecureLogin(secureLogin) {\n\treturn {\n\t\ttype: \"SET_SECURE_LOGIN\",\n\t\tsecureLogin,\n\t}\n}\n\nexport function toggleEnrollment(group) {\n\treturn (dispatch, getState) => {\n\t\tconst index = getState().users[getState().userId].enrollmentIds.indexOf(group.id);\n\t\tif (index === -1) {\n\t\t\tfetchData(\"user/enrollments\", \"put\", { groupId: group.id }, dispatch, getState)\n\t\t\t\t.then(() => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\t\taction: \"ADD\",\n\t\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\t\tgroupId: group.id,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t} else {\n\t\t\tfetchData(\"user/enrollments\", \"delete\", { groupId: group.id }, dispatch, getState)\n\t\t\t\t.then(() => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\t\taction: \"REMOVE\",\n\t\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\t\tgroupId: group.id,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t}\n}\n\n\nexport function getGroupEvaluations(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/evaluations\", \"post\", { groupId }, dispatch, getState, true).then((evaluations) => {\n\t\t\tdispatch({\n\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\tgroup: {\n\t\t\t\t\tid: groupId,\n\t\t\t\t\tevaluations: evaluations,\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport function addSubject(name, description) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"subject\", \"put\", { name, description, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Vak aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function addCourse(name, subjectId) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"course\", \"put\", { name, subjectId, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Module aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function addGroup(courseId, userId) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"group\", \"put\", { courseId, mainTeacherId: userId, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Groep aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\n\nexport function setCookie(cname, cvalue, exhours) {\n\tvar d = new Date();\n\td.setTime(d.getTime() + (exhours * 60 * 60 * 1000));\n\tvar expires = \"expires=\" + d.toUTCString();\n\tdocument.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nexport function getCookie(cname) {\n\tvar name = cname + \"=\";\n\tvar decodedCookie = decodeURIComponent(document.cookie);\n\tvar ca = decodedCookie.split(';');\n\tfor (var i = 0; i < ca.length; i++) {\n\t\tvar c = ca[i];\n\t\twhile (c.charAt(0) === ' ')\n\t\t\tc = c.substring(1);\n\t\tif (c.indexOf(name) === 0)\n\t\t\treturn c.substring(name.length, c.length);\n\t}\n\treturn \"\";\n}","import React, { Component } from \"react\";\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport theme from '../lib/MuiTheme';\nimport { toggleMenu } from '../store/actions';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nclass Login extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.generateEmail.bind(this)();\n\t\tthis.interval = setInterval(this.generateEmail.bind(this), 1500);\n\t}\n\n\tgenerateEmail() {\n\t\tlet school = this.state.school;\n\t\tlet schoolShort = this.state.schoolShort;\n\t\tlet studentNumber = this.state.studentNumber;\n\t\tswitch (Math.floor(Math.random() * 14)) {\n\t\t\tcase 0:\n\t\t\t\tschool = \"beekdallyceum\";\n\t\t\t\tschoolShort = \"BD\";\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tschool = \"candea\";\n\t\t\t\tschoolShort = \"CC\";\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tschool = \"quadraam\";\n\t\t\t\tschoolShort = \"CB\";\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tschool = \"lyceumelst\";\n\t\t\t\tschoolShort = \"LE\";\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tschool = \"liemerscollege\";\n\t\t\t\tschoolShort = \"LC\";\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tschool = \"lorentzlyceum\";\n\t\t\t\tschoolShort = \"LL\";\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\tschool = \"maartenvanrossem\";\n\t\t\t\tschoolShort = \"MvR\";\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\tschool = \"montessoriarnhem\";\n\t\t\t\tschoolShort = \"MC\";\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tschool = \"olympuscollege\";\n\t\t\t\tschoolShort = \"OC\";\n\t\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\t\tschool = \"produsarnhem\";\n\t\t\t\tschoolShort = \"PD\";\n\t\t\t\tbreak;\n\t\t\tcase 10:\n\t\t\t\tschool = \"gymnasiumarnhem\";\n\t\t\t\tschoolShort = \"SGA\";\n\t\t\t\tbreak;\n\t\t\tcase 11:\n\t\t\t\tschool = \"symbion\";\n\t\t\t\tschoolShort = \"SY\";\n\t\t\t\tbreak;\n\t\t\tcase 12:\n\t\t\t\tschool = \"vmbo-venster\";\n\t\t\t\tschoolShort = \"VE\";\n\t\t\t\tbreak;\n\t\t\tcase 13:\n\t\t\tdefault:\n\t\t\t\tschool = \"hetwesteraam\";\n\t\t\t\tschoolShort = \"HW\";\n\t\t\t\tbreak;\n\t\t}\n\t\tstudentNumber = Math.floor(Math.random() * 999999) + \"\";\n\t\tfor (let i = studentNumber.length; i < 6; i++) {\n\t\t\tstudentNumber = \"0\" + studentNumber;\n\t\t}\n\t\tthis.setState({\n\t\t\tschool,\n\t\t\tschoolShort,\n\t\t\tstudentNumber,\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.interval);\n\t}\n\n\tlogin() {\n\t\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\t\tdocument.location.href = \"http://localhost:26194/auth/login\"\n\t\t} else {\n\t\t\tdocument.location.href = \"/auth/login\"\n\t\t}\n\t}\n\n\tgenerateColoredEmail(schoolShort, studentNumber, school) {\n\t\treturn (\n\t\t\t<Typography variant=\"subheading\" style={{ fontFamily: \"'Courier New', Courier, monospace\", overflow:\"hidden\"}}>\n\t\t\t\t<span style={{ color: theme.palette.secondary.light, fontWeight: \"bold\" }}>\n\t\t\t\t\t{schoolShort}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ color: theme.palette.secondary.dark, fontWeight: \"bolder\" }}>\n\t\t\t\t\t{studentNumber}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ fontWeight: \"bold\" }}>\n\t\t\t\t\t@ll.\n\t\t\t\t</span>\n\t\t\t\t<span style={{ color: theme.palette.secondary.light, fontWeight: \"bold\" }}>\n\t\t\t\t\t{school}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ fontWeight: \"bold\" }}>\n\t\t\t\t\t.nl\n\t\t\t\t</span>\n\t\t\t</Typography>\n\t\t)\n\t}\n\n\trender() {\n\t\tif (this.props.userId != null) {\n\t\t\tthis.props.history.push(\"/\");\n\t\t\tthis.props.toggleMenu(true);\n\t\t} else {\n\t\t\tthis.props.toggleMenu(false);\n\t\t}\n\n\t\treturn (\n\t\t\t<Paper elevation={8} className=\"Login\" style={{minHeight: \"330px\"}}>\n\t\t\t\t<div style={{ padding: \"20px\" }}>\n\t\t\t\t\t<Typography gutterBottom variant=\"headline\" color=\"primary\">\n\t\t\t\t\t\tLog in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"subheading\">\n\t\t\t\t\t\tGebruik je school-email om in te loggen:\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<center>\n\t\t\t\t\t\t{this.generateColoredEmail(\"schoolafkorting\", \"leerlingnummer\", \"school\")}\n\t\t\t\t\t\t{this.generateColoredEmail(this.state.schoolShort, this.state.studentNumber, this.state.school)}\n\t\t\t\t\t</center>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<Button type=\"submit\" variant=\"contained\" size=\"large\" color=\"primary\" fullWidth onClick={this.login}>\n\t\t\t\t\t\tLogin met je Microsoft school account\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Paper >\n\t\t);\n\t}\n}\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tuserId: state.userId,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tlogin: (email, password) => {\n\t\t\tdispatch(toggleMenu(true));\n\t\t},\n\t\ttoggleMenu: (state) => {\n\t\t\tdispatch(toggleMenu(state));\n\t\t},\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Login));\n\n\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass Page extends Component {\n\n\trender() {\n\t\tlet className = \"\";\n\t\tif (this.props.showMenu) {\n\t\t\tclassName += \"menuShown\"\n\t\t} else {\n\t\t\tclassName += \"menuHidden\"\n\t\t}\n\t\treturn (\n\t\t\t<div className={\"Page \" + className}>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tshowMenu: state.showMenu,\n\t};\n}\n\nexport default connect(mapStateToProps)(Page);\n","import React, { Component } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass Progress extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisShowing: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.timeout = setTimeout(() => this.setState({ isShowing: true }), 200);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.timeout);\n\t}\n\n\trender() {\n\t\tif (this.state.isShowing) {\n\t\t\treturn (\n\t\t\t\t<CircularProgress {...this.props}/>\n\t\t\t);\n\t\t}else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n}\n\nexport default Progress;","import React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Clear from '@material-ui/icons/Clear';\n\nclass EnrollmentPopup extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tif (nextProps.hasChosen) {\n\t\t\treturn { page: \"cancel\", ...prevState };\n\t\t}\n\t\tif (nextProps.hasChosenDay) {\n\t\t\treturn { page: \"hasChosenDay\", ...prevState };\n\t\t}\n\t\tif (nextProps.group.remarks != null && nextProps.group.remarks.length > 1) {\n\t\t\treturn { page: \"remarks\", ...prevState };\n\t\t}\n\t\treturn { page: \"confirm\", ...prevState };\n\t}\n\n\tgetDuplicatePage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t<Typography color=\"error\" style={{ fontSize: \"16px\" }}>\n\t\t\t\t\t\t\t{\"Je hebt al een module gekozen voor \" + this.props.group.day + \"!\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\tSchrijf je eerst uit voor de module\n\t\t\t\t\t\t<Typography color=\"primary\" variant=\"title\" style={{ fontSize: \"16px\", display: \"inline-block\", margin: \"5px\" }}>\n\t\t\t\t\t\t\t{this.props.chosenDayGroupName}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\tom je in te kunnen schrijven\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\">\n\t\t\t\t\t\tSluiten\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\tgetCancelPage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogTitle>\n\t\t\t\t\tUitschrijven\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\tWeet je zeker dat je wilt uitschrijven voor de module\n\t\t\t\t\t\t<Typography color=\"primary\" variant=\"title\" style={{ fontSize: \"16px\", display: \"inline\", margin: \"5px\" }}>\n\t\t\t\t\t\t\t{this.props.group.courseName}\n\t\t\t\t\t\t</Typography> ?\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"default\">\n\t\t\t\t\t\tAnnuleren\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button name=\"test\" onClick={() => this.props.handlePopup(true)} color=\"primary\">\n\t\t\t\t\t\tUitschrijven\n\t\t\t\t\t\t<Clear />\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\tgetConfirmPage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogTitle>\n\t\t\t\t\tInschrijven\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\tWeet je zeker dat je wilt inschrijven voor de module\n\t\t\t\t\t\t<Typography color=\"primary\" variant=\"title\" style={{ fontSize: \"16px\", display: \"inline\", margin: \"5px\" }}>\n\t\t\t\t\t\t\t{this.props.group.courseName}\n\t\t\t\t\t\t</Typography> ?\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"default\">\n\t\t\t\t\t\tAnnuleren\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button name=\"test\" onClick={() => this.props.handlePopup(true)} variant=\"contained\" color=\"primary\">\n\t\t\t\t\t\tInschrijven\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\tgetRemarkPage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogTitle>\n\t\t\t\t\tOpmerkingen\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t{this.props.group.remarks}\n\t\t\t\t\t</Typography>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"default\">\n\t\t\t\t\t\tAnnuleren\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\tthis.props.preventPopupClose(true);\n\t\t\t\t\t\tthis.setState({ page: \"confirm\" })\n\t\t\t\t\t}} color=\"primary\">\n\t\t\t\t\t\tVerder\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\trender() {\n\t\tthis.props.preventPopupClose(false);\n\t\tswitch (this.state.page) {\n\t\t\tcase \"remarks\":\n\t\t\t\treturn this.getRemarkPage();\n\t\t\tcase \"cancel\":\n\t\t\t\treturn this.getCancelPage();\n\t\t\tcase \"hasChosenDay\":\n\t\t\t\treturn this.getDuplicatePage();\n\t\t\tcase \"confirm\":\n\t\t\tdefault:\n\t\t\t\treturn this.getConfirmPage();\n\t\t}\n\t}\n}\n\n\nexport default EnrollmentPopup;\n\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Clear from '@material-ui/icons/Clear';\nimport { connect } from 'react-redux';\nimport { toggleEnrollment, getEnrollableGroups, getEnrolLments } from '../../store/actions';\nimport Progress from '../../components/Progress';\nimport EnrollmentPopup from './EnrollmentPopup';\n\nclass ChooseButton extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.props.getEnrollableGroups();\n\t\tthis.props.getEnrolLments();\n\t\tthis.state = {\n\t\t\tdialogOpen: false,\n\t\t}\n\t}\n\n\tpreventPopupClose(preventClose) {\n\t\tthis.preventClose = preventClose;\n\t}\n\n\thandlePopup(doEnroll) {\n\t\tif (doEnroll) {\n\t\t\tthis.props.toggleEnrollment(this.props.group);\n\t\t}\n\t\tif (!this.preventClose) {\n\t\t\tthis.setState({\n\t\t\t\tdialogOpen: !this.state.dialogOpen,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst props = this.props;\n\t\tlet dialog = this.state.dialogOpen ?\n\t\t\t<EnrollmentPopup\n\t\t\t\tgroup={props.group}\n\t\t\t\thasChosen={props.hasChosen}\n\t\t\t\thandlePopup={this.handlePopup.bind(this)}\n\t\t\t\thasChosenDay={props.hasChosenDay}\n\t\t\t\tchosenDayGroupName={props.chosenDayGroupName}\n\t\t\t\tpreventPopupClose={this.preventPopupClose.bind(this)}\n\t\t\t/> : null;\n\n\t\tif (props.loading) {\n\t\t\treturn (\n\t\t\t\t<Progress size={30} />\n\t\t\t)\n\t\t}\n\n\t\tif (props.hasChosen) {\n\t\t\treturn (\n\t\t\t\t<Button color=\"primary\" onClick={() => this.handlePopup(false)} style={props.style}>\n\t\t\t\t\t{\"Ingeschreven\"}\n\t\t\t\t\t<Clear />\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t}\n\n\t\tif (this.props.canChoose) {\n\t\t\treturn (\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={() => this.handlePopup(false)} style={this.props.style}>\n\t\t\t\t\t{\"Inschrijven\" + (this.props.hasChosenDay ? \"*\" : \"\")}\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t} else if (props.group.period < this.props.enrollmentPeriod) {\n\t\t\treturn (\n\t\t\t\t<Button disabled color=\"primary\" style={props.style}>\n\t\t\t\t\tInschrijfperiode verlopen\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Button disabled color=\"primary\" style={props.style}>\n\t\t\t\t\tComing Soon\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t}\n\n\t}\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tif (state.users[state.userId].enrollmentIds == null || state.enrollableGroups == null) {\n\t\treturn {\n\t\t\tloading: true,\n\t\t}\n\t}\n\n\tlet chosenDayGroupName = -1;\n\tstate.users[state.userId].enrollmentIds.forEach(groupId => {\n\t\tconst group = state.groups[groupId];\n\t\tif (group.day === ownProps.group.day && group.period === ownProps.group.period) {\n\t\t\tchosenDayGroupName = group.courseName;\n\t\t}\n\t});\n\n\treturn {\n\t\tcanChoose: state.enrollableGroups.map(e => e.id).indexOf(ownProps.group.id) !== -1,\n\t\thasChosen: state.users[state.userId].enrollmentIds.indexOf(ownProps.group.id) !== -1,\n\t\thasChosenDay: chosenDayGroupName !== -1,\n\t\tchosenDayGroupName,\n\t\tenrollmentPeriod: state.enrollmentPeriod,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\ttoggleEnrollment: (group) => dispatch(toggleEnrollment(group)),\n\t\tgetEnrollableGroups: () => dispatch(getEnrollableGroups()),\n\t\tgetEnrolLments: () => dispatch(getEnrolLments()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChooseButton);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { setCookie } from \"../store/actions\"\nimport Field from \"../components/Field\"\n\nclass EnsureSecureLogin extends Component {\n\n\trender() {\n\t\tif (!(this.props.active === false) && this.props.secureLogin == null) {\n\t\t\treturn <Paper style={{ padding: \"20px\", marginTop: \"25px\" }}>\n\t\t\t\t<Field value=\"Log opnieuw in om toegang te krijgen\" layout={{ area: true }} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={() => {\n\t\t\t\t\tsetCookie(\"beforeLoginPath\", window.location.pathname + window.location.search, 24);\n\t\t\t\t\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\t\t\t\t\tdocument.location.href = \"http://localhost:26194/auth/login?secure=true\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument.location.href = \"/auth/login?secure=true\";\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t\tInloggen\n\t\t\t\t</Button>\n\t\t\t</Paper>\n\t\t} else {\n\t\t\treturn this.props.children;\n\t\t}\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsecureLogin: state.secureLogin,\n\t};\n}\n\nexport default connect(mapStateToProps, null)(EnsureSecureLogin);\n\n\n\n","import React, { Component } from 'react';\n\nimport Field from '../../components/Field';\nimport EnsureSecureLogin from '../../components/EnsureSecureLogin';\nimport { Tooltip, TableSortLabel, Typography, Paper } from '@material-ui/core';\n\nconst EVALUATION_FORMATS = [{\n\tlabel: \"vink\",\n\tvalue: \"check\",\n\toptions: [{\n\t\tlabel: \"Gehaald\",\n\t\tvalue: \"passed\",\n\t},\n\t{\n\t\tlabel: \"Niet gehaald\",\n\t\tvalue: \"failed\",\n\t},\n\t{\n\t\tlabel: \"Niet deelgenomen\",\n\t\tvalue: \"ND\",\n\t}],\n},\n{\n\tlabel: \"trapsgewijs\",\n\tvalue: \"stepwise\",\n\toptions: [{\n\t\tlabel: \"Onvoldoende\",\n\t\tvalue: \"O\",\n\t},\n\t{\n\t\tlabel: \"Voldoende\",\n\t\tvalue: \"V\",\n\t},\n\t{\n\t\tlabel: \"Goed\",\n\t\tvalue: \"G\",\n\t},\n\t{\n\t\tlabel: \"Niet deelgenomen\",\n\t\tvalue: \"ND\",\n\t}],\n}, {\n\tlabel: \"cijfer\",\n\tvalue: \"decimal\",\n\toptions: \"decimal\",\n}];\n\nfunction getEvaluationColor(ev) {\n\tif (ev.assesment === \"ND\" || ev.assesment == null) {\n\t\treturn \"#673ab7\";\n\t}\n\tswitch (ev.type) {\n\t\tcase \"stepwise\":\n\t\t\treturn \"#3f51b5\";\n\t\tcase \"check\":\n\t\t\treturn \"#009688\";\n\t\tcase \"decimal\":\n\t\t\treturn \"#00bcd4\"\n\t\tdefault:\n\t\t\treturn \"#673ab7\";\n\t}\n}\n\nclass Evaluation extends Component {\n\n\trender() {\n\t\tconst e = this.props.evaluation;\n\t\tlet style = {\n\t\t\tunderline: false,\n\t\t\tflex: 1,\n\t\t};\n\t\tlet layout = { td: true };\n\t\tif (this.props.student) {\n\t\t\tstyle.type = \"headline\";\n\t\t\tstyle.color = \"primaryContrast\"\n\t\t\tlayout.td = false;\n\t\t\tlayout.alignment = \"right\";\n\t\t}\n\t\tif (e.type === \"decimal\") {\n\t\t\treturn <Field\n\t\t\t\tstyle={style}\n\t\t\t\tvalidate={{ min: 1, max: 10, type: \"decimalGrade\", notEmpty: true }}\n\t\t\t\tlayout={layout}\n\t\t\t\tlabel=\"Beoordeling\"\n\t\t\t\tname={e.userId}\n\t\t\t\tvalue={e.assesment ? e.assesment : \"\"}\n\t\t\t\teditable={this.props.editable}\n\t\t\t\tonChange={this.props.onChange}\n\t\t\t/>\n\t\t} else {\n\t\t\treturn <Field\n\t\t\t\tstyle={style}\n\t\t\t\tname={e.userId}\n\t\t\t\tlabel=\"Beoordeling\"\n\t\t\t\tlayout={layout}\n\t\t\t\tvalue={e.assesment ? e.assesment : \"\"}\n\t\t\t\toptions={EVALUATION_FORMATS.filter(f => f.value === e.type)[0].options}\n\t\t\t\teditable={this.props.editable}\n\t\t\t\tonChange={this.props.onChange}\n\t\t\t/>\n\t\t}\n\t}\n\n}\n\n\nclass EvaluationTab extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsortValue: \"\",\n\t\t\tsortDirection: \"\",\n\t\t}\n\t}\n\n\tonSortChange = (value) => {\n\t\tthis.setState({\n\t\t\tsortValue: value,\n\t\t\tsortDirection: this.state.sortDirection === \"desc\" && this.state.sortValue === value ? \"asc\" : \"desc\"\n\t\t});\n\t}\n\n\thandleSingleChange = (newEv) => {\n\t\tlet newEvaluations = this.props.evaluations.map((e) => {\n\t\t\tif (e.userId === newEv.userId) {\n\t\t\t\treturn newEv;\n\t\t\t} else {\n\t\t\t\treturn { ...e }\n\t\t\t}\n\t\t});\n\t\tthis.props.handleChange(newEvaluations);\n\t}\n\n\thandleEvaluationTypeChange(newValue) {\n\t\tfor (let i in this.props.evaluations) {\n\t\t\tthis.handleSingleChange({ ...this.props.evaluations[i], type: newValue });\n\t\t}\n\t}\n\n\tsortEvaluations = () => {\n\t\tlet evaluations = this.props.evaluations;\n\t\tconst sortValue = this.state.sortValue;\n\t\tlet sortDirection = this.state.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n\n\t\tif (sortValue === \"name\") {\n\t\t\tevaluations.sort((a, b) => {\n\t\t\t\tlet cmp = b.displayName - a.displayName;\n\t\t\t\treturn sortDirection === \"asc\" ? cmp : -cmp;\n\t\t\t})\n\t\t} else if (sortValue === \"evaluations\") {\n\t\t\tevaluations.sort((a, b) => {\n\t\t\t\ta = a[\"assesment\"];\n\t\t\t\tb = b[\"assesment\"];\n\t\t\t\tlet cmp = (b === null) - (a == null) || +(a > b) || -(a < b);\n\t\t\t\treturn sortDirection === \"asc\" ? cmp : -cmp;\n\t\t\t})\n\t\t}\n\t\treturn evaluations;\n\t}\n\n\trender() {\n\t\tlet sortValue = this.props.sortValue;\n\t\tlet sortDirection = this.props.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n\t\tconst style = {\n\t\t\tmarginTop: \"10px\",\n\t\t\talignItems: \"center\",\n\t\t\tpaddingRight: \"15px\",\n\t\t\tpaddingLeft: \"15px\",\n\t\t\tdisplay: \"flex\",\n\t\t};\n\t\tconst evaluations = this.props.evaluations;\n\t\tif (evaluations.length === 0) {\n\t\t\treturn \"Er zijn nog geen beoordelingen beschikbaar\";\n\t\t}\n\t\tconst evComps = this.sortEvaluations()\n\t\t\t.map(ev => {\n\t\t\t\treturn (\n\t\t\t\t\t<Paper style={style} key={ev.userId} component=\"tr\">\n\t\t\t\t\t\t<Field style={{ type: \"title\", color: \"primary\", flex: 2 }} value={ev.displayName} layout={{}} />\n\t\t\t\t\t\t<Evaluation\n\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\tevaluation={ev}\n\t\t\t\t\t\t\tonChange={(assesment) => this.handleSingleChange({ ...ev, assesment })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tstyle={{ underline: false, flex: 5 }}\n\t\t\t\t\t\t\tlayout={{ area: true, td: true }}\n\t\t\t\t\t\t\tlabel={\"Uitleg\"}\n\t\t\t\t\t\t\tname={ev.userId}\n\t\t\t\t\t\t\tvalue={ev.explanation}\n\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\tonChange={(explanation) => this.handleSingleChange({ ...ev, explanation })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Paper >\n\t\t\t\t);\n\t\t\t});\n\n\t\treturn (\n\t\t\t<EnsureSecureLogin active={this.props.editable}>\n\t\t\t\t<table style={{ width: \"100%\" }}>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<Paper style={{ ...style, backgroundColor: \"#e0e0e0\" }} component=\"tr\">\n\t\t\t\t\t\t\t<td style={{ paddingLeft: \"15px\" }}>\n\t\t\t\t\t\t\t\t<Typography type=\"title\" color=\"primary\" style={{ padding: \"5px 0\" }} >\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\t\t\t\tactive={sortValue === \"evaluations\"}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onSortChange(\"evaluations\")}\n\t\t\t\t\t\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"inherit\", fontSize: \"1.5rem\", }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tBeoordelingen\n\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\t\t\t\tactive={sortValue === \"name\"}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onSortChange(\"name\")}\n\t\t\t\t\t\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tNaam\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td style={{ flex: \"5\" }} />\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tlabel=\"Beoordelingsformaat\"\n\t\t\t\t\t\t\t\t\tstyle={{ type: \"caption\", underline: false, margin: \"normal\", labelVisible: true }}\n\t\t\t\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\t\t\t\tvalue={evaluations[0].type}\n\t\t\t\t\t\t\t\t\toptions={EVALUATION_FORMATS}\n\t\t\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\t\t\tonChange={this.handleEvaluationTypeChange.bind(this)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</Paper >\n\t\t\t\t\t\t{evComps}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table >\n\t\t\t</EnsureSecureLogin>\n\t\t);\n\t}\n\n}\n\nexport { Evaluation, EvaluationTab, getEvaluationColor };","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport ChooseButton from './ChooseButton';\nimport Field from '../../components/Field';\nimport { Evaluation, getEvaluationColor } from './Evaluation';\n\nconst CARD_STYLE = {\n\twidth: \"400px\",\n\theight: \"338px\",\n\tpadding: \"15px\",\n\tverticalAlign: \"top\",\n\tmargin: \"12px\",\n\tmarginRight: \"0px\",\n\tmarginBottom: \"0px\",\n\tdisplay: \"inline-block\",\n\tposition: \"relative\",\n}\n\nclass GroupCard extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: CARD_STYLE,\n\t\t}\n\t}\n\n\texpand() {\n\t\tthis.props.history.push(\"/groep/\" + this.props.group.id)\n\t}\n\n\tgetBottomSection() {\n\t\tconst style = {\n\t\t\tposition: \"absolute\",\n\t\t\tbottom: \"0px\",\n\t\t\twidth: \"400px\",\n\t\t\theight: \"55px\",\n\t\t\tmarginLeft: \"-15px\",\n\t\t\tborderBottomLeftRadius: \"4px\",\n\t\t\tborderBottomRightRadius: \"4px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tpadding: \"5px\",\n\t\t\tpaddingLeft: \"20px\",\n\t\t\tpaddingRight: \"20px\",\n\t\t\tjustifyContent: \"space-between\"\n\t\t};\n\t\tif (this.props.group.evaluation &&\n\t\t\tthis.props.group.evaluation.assesment !== \"\" &&\n\t\t\tthis.props.group.evaluation.assesment !== null) {\n\t\t\tstyle.backgroundColor = getEvaluationColor(this.props.group.evaluation);\n\t\t\treturn (\n\t\t\t\t<div style={style} >\n\t\t\t\t\t<Field value=\"Beoordeling\" style={{ type: \"headline\", color: \"primaryContrast\", flex: 0.8 }} />\n\t\t\t\t\t<Evaluation evaluation={this.props.group.evaluation} student />\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div style={style} >\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={this.expand.bind(this)}\n\t\t\t\t\t>\n\t\t\t\t\t\tBekijken\n\t\t\t\t\t</Button>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.role === \"student\" &&\n\t\t\t\t\t\t<ChooseButton\n\t\t\t\t\t\t\tgroup={this.props.group}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t</div >\n\t\t\t);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst group = this.props.group;\n\t\treturn (\n\t\t\t<Paper\n\t\t\t\televation={this.state.hover ? 4 : 2}\n\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\tstyle={this.state.style}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tstyle={{ overflow: \"hidden\", maxHeight: \"65px\", cursor: \"pointer\" }}\n\t\t\t\t\tonClick={() => { this.props.history.push(\"/groep/\" + group.id) }}\n\t\t\t\t>\n\t\t\t\t\t{group.subjectName}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"headline\"\n\t\t\t\t\tstyle={{ overflow: \"hidden\", height: \"64px\", cursor: \"pointer\", textTransform: \"uppercase\", fontSize: \"24px\" }}\n\t\t\t\t\tonClick={() => { this.props.history.push(\"/groep/\" + group.id) }}\n\t\t\t\t>\n\t\t\t\t\t{group.courseName}\n\t\t\t\t</Typography>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography style={{ display: \"inline-block\", fontWeight: \"bold\", float: \"right\" }}>\n\t\t\t\t\t\t{\"Blok \" + group.period + \" - \" + group.day}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography style={{ display: \"inline-block\", fontWeight: \"bold\" }}>\n\t\t\t\t\t\t{group.enrollableFor || \"Iedereen\"}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tgroup.evaluation ?\n\t\t\t\t\t\t<Typography style={{ maxHeight: \"164px\", overflow: \"hidden\" }} gutterBottom>\n\t\t\t\t\t\t\t<b>Uitleg beoordeling: </b>\n\t\t\t\t\t\t\t{group.evaluation.explanation}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Typography style={{ maxHeight: \"164px\", overflow: \"hidden\" }} gutterBottom>\n\t\t\t\t\t\t\t{group.courseDescription}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tthis.getBottomSection()\n\t\t\t\t}\n\t\t\t</Paper >\n\t\t);\n\t}\n\n\n}\n\n\nexport default withRouter(GroupCard);\n\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport Paper from '@material-ui/core/Paper';\nimport {Typography} from '@material-ui/core';\n\nclass GroupCard extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"auto\",\n\t\t\t\tmargin: \"0px\",\n\t\t\t\tpadding: \"10px\",\n\t\t\t},\n\t\t}\n\t}\n\n\tformatPhoneNumber(number) {\n\t\tif (number == null) {\n\t\t\tnumber = \"\";\n\t\t}\n\t\tlet numberWithoutCharacters = number.replace(/\\D/g, '');\n\t\tif (numberWithoutCharacters.length === 10) { // Either 06... or regional i.e. 024 ...\n\t\t\tif (numberWithoutCharacters[1] === \"6\") { // 06...\n\t\t\t\treturn (numberWithoutCharacters.substr(0, 2) + \" \" + numberWithoutCharacters.substr(2, 8));\n\t\t\t} else { // 024 ...\n\t\t\t\treturn (numberWithoutCharacters.substr(0, 3) + \" \" + numberWithoutCharacters.substr(3, 7));\n\t\t\t}\n\t\t}\n\t\tconst mobileTest = /(0031|31)0?(6)?([0-9]+)$/gm;\n\t\tconst match = mobileTest.exec(numberWithoutCharacters);\n\t\tif (match) {\n\t\t\tif (match[2]) { // +31 06 \n\t\t\t\treturn \"+31 06 \" + match[3];\n\t\t\t} else { // +31 ...\n\t\t\t\treturn \"+31 \" + match[3];\n\t\t\t}\n\t\t} else {\n\t\t\treturn number; // return input if unrecognizable \n\t\t}\n\t}\n\n\texpand() {\n\t\tthis.props.history.push(\"/user/\" + this.props.user.id)\n\t}\n\n\trender() {\n\t\tlet user = { ...this.props.user };\n\t\tlet style = { ...this.state.style };\n\t\treturn (\n\t\t\t<tr>\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t\tcomponent=\"td\"\n\t\t\t\t\tstyle={style}\n\t\t\t\t>\n\t\t\t\t\t<div style={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Typography variant=\"title\" color={user.role === \"teacher\" ? \"secondary\" : \"primary\"} style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.firstName + \" \" + user.lastName}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"subheading\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.school}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.level + \" - \" + user.year}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.role === \"teacher\" ? \"docent\" : \"leerling\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.profile}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.props.role === \"admin\" &&\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.email}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.preferedEmail}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<div style={{ flex: 1 }} />\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{this.formatPhoneNumber(user.phoneNumber)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.id}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</Paper >\n\t\t\t</tr>\n\t\t);\n\t}\n}\n\n\nexport default withRouter(GroupCard);\n\n","import React, { Component } from 'react';\nimport Page from '../Page';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport { setUser } from '../../store/actions';\nimport Field from '../../components/Field';\nimport Typography from '@material-ui/core/Typography';\n\nconst profiles = [\"NT\", \"NG\", \"CM\", \"EM\", \"NT&NG\", \"EM&CM\"];\nconst levels = [\"VWO\", \"HAVO\"];\n\nclass UserPage extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tuser: this.props.user,\n\t\t};\n\t}\n\n\thandleChange = (name, value) => {\n\t\tthis.setState({\n\t\t\tuser: {\n\t\t\t\t...this.state.user,\n\t\t\t\t[name]: value,\n\t\t\t}\n\t\t});\n\t}\n\n\thasChanged() {\n\t\treturn JSON.stringify(this.props.user) !== JSON.stringify(this.state.user)\n\t}\n\n\trender() {\n\t\tlet user = null;\n\t\tif (this.props.user.id !== this.state.user.id) {\n\t\t\tthis.setState({\n\t\t\t\tuser: this.props.user,\n\t\t\t});\n\t\t\tuser = this.props.user;\n\t\t} else {\n\t\t\tuser = this.state.user;\n\t\t}\n\t\tlet shouldFillIn = this.props.ownProfile && (\n\t\t\tthis.props.user.profile == null ||\n\t\t\tthis.props.user.profile === \"\" ||\n\t\t\tthis.props.user.year === null ||\n\t\t\tthis.props.user.year === \"\" ||\n\t\t\tthis.props.user.level === null ||\n\t\t\tthis.props.user.level === \"\" ||\n\t\t\tthis.props.user.phoneNumber === null ||\n\t\t\tthis.props.user.phoneNumber === \"\" ||\n\t\t\tthis.props.user.preferedEmail == null ||\n\t\t\tthis.props.user.preferedEmail === \"\") ? true : null;\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Naam\"\n\t\t\t\t\tvalue={user.displayName}\n\t\t\t\t\tstyle={{ type: \"headline\" }}\n\t\t\t\t/>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Rol\"\n\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\tvalue={user.role}\n\t\t\t\t/>\n\t\t\t\t<Divider />\n\t\t\t\t<br />\n\t\t\t\t<div style={{ display: \"flex\" }} >\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Leerjaar\"\n\t\t\t\t\t\tvalue={user.year}\n\t\t\t\t\t\tstyle={{ margin: \"normal\" }}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"year\", value)}\n\t\t\t\t\t\tvalidate={{\n\t\t\t\t\t\t\ttype: \"integer\",\n\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\tmax: 6,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Opleidingsniveau\"\n\t\t\t\t\t\tvalue={user.level}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"level\", value)}\n\t\t\t\t\t\toptions={levels}\n\t\t\t\t\t\tvalidate={{ notEmpty: true, }}\n\t\t\t\t\t/>\n\t\t\t\t\t{this.props.ownProfile &&\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"Profiel\"\n\t\t\t\t\t\t\tvalue={user.profile}\n\t\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\t\toptions={profiles}\n\t\t\t\t\t\t\tonChange={(value) => this.handleChange(\"profile\", value)}\n\t\t\t\t\t\t\tvalidate={{ notEmpty: true }}\n\t\t\t\t\t\t/>}\n\t\t\t\t</div>\n\t\t\t\t<div style={{ display: \"flex\" }} >\n\t\t\t\t\t{this.props.ownProfile && <Field\n\t\t\t\t\t\tlabel=\"Voorkeurs email\"\n\t\t\t\t\t\tvalue={user.preferedEmail}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"preferedEmail\", value)}\n\t\t\t\t\t\tvalidate={{ type: \"email\" }}\n\t\t\t\t\t/>}\n\t\t\t\t\t{this.props.ownProfile && <Field\n\t\t\t\t\t\tlabel=\"Telefoonnummer\"\n\t\t\t\t\t\tvalue={user.phoneNumber}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"phoneNumber\", value)}\n\t\t\t\t\t\tvalidate={{ type: \"phoneNumber\" }}\n\t\t\t\t\t/>}\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t\t{\n\t\t\t\t\tshouldFillIn &&\n\t\t\t\t\t<Typography gutterBottom variant=\"title\" color=\"primary\" >\n\t\t\t\t\t\tControleer de bovenstaande gegevens en vul de ontbrekende gegevens aan.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tthis.hasChanged() ?\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={() => this.props.save(this.state.user)}>\n\t\t\t\t\t\t\tOpslaan\n\t\t\t\t\t\t</Button> : null\n\t\t\t\t}\n\t\t\t</Page >\n\t\t);\n\t}\n}\n\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsave: (user) => dispatch(setUser(user)),\n\t};\n}\n\n\nexport default connect(null, mapDispatchToProps)(UserPage);\n\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nconst CARD_STYLE = {\n\twidth: \"300px\",\n\theight: \"80px\",\n\tpadding: \"20px\",\n\tverticalAlign: \"top\",\n\tmargin: \"20px\",\n\tdisplay: \"inline-block\",\n\tcursor: \"pointer\",\n}\n\nclass GroupCard extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\t...CARD_STYLE,\n\t\t\t\t...this.props.style,\n\t\t\t}\n\t\t}\n\t}\n\n\texpand() {\n\t\tthis.props.history.push(\"/gebruiker/\" + this.props.user.id)\n\t}\n\n\trender() {\n\t\tconst user = this.props.user;\n\t\treturn (\n\t\t\t<Paper\n\t\t\t\televation={this.state.hover ? 4 : 2}\n\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\tstyle={this.state.style}\n\t\t\t>\n\t\t\t\t<Typography variant=\"title\" color={user.role === \"teacher\"?\"secondary\":\"primary\"} >\n\t\t\t\t\t{user.firstName + \" \" + user.lastName}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"subheading\">\n\t\t\t\t\t{(user.role===\"teacher\"?\"docent\":\"leerling\") + \"\\t\" + user.school}\n\t\t\t\t</Typography>\n\t\t\t</Paper >\n\t\t);\n\t}\n\n\n}\n\n\nexport default withRouter(GroupCard);\n\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport UserRow from \"./UserRow\";\nimport UserPage from \"./UserPage\";\nimport UserCard from \"./UserCard\";\nimport { setSecureLogin, getCookie } from \"../../store/actions\"\n\nimport { withRouter } from 'react-router-dom';\nimport Progress from '../../components/Progress'\nimport Field from \"../../components/Field\"\nimport queryString from \"query-string\";\n\nclass User extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet s = queryString.parse(nextProps.location.search);\n\t\tif (s.secureLogin != null) {\n\t\t\tnextProps.setSecureLogin(s.secureLogin);\n\t\t}\n\t\tif (s.from === \"login\" && nextProps.user != null && nextProps.role !== \"student\") {\n\t\t\tconst beforeLoginPath = getCookie(\"beforeLoginPath\");\n\t\t\tnextProps.history.push(beforeLoginPath);\n\t\t}\n\t\treturn prevState;\n\t}\n\n\trender() {\n\t\tif (this.props.user == null) {\n\t\t\tif (this.props.display === \"page\") {\n\t\t\t\tif (this.props.notExists) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"page\">\n\t\t\t\t\t\t\tDe opgevraagde gebruiker bestaat niet\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"page\">\n\t\t\t\t\t\t\t<Progress />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.props.notExists) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tswitch (this.props.display) {\n\t\t\tcase \"name\":\n\t\t\t\treturn <Field value={this.props.user.displayName} style={{ type: \"title\" }} layout={{ td: true }} />;\n\t\t\tcase \"page\":\n\t\t\t\treturn (\n\t\t\t\t\t<UserPage {...this.props} />\n\t\t\t\t);\n\t\t\tcase \"row\":\n\t\t\t\treturn (\n\t\t\t\t\t<UserRow {...this.props} />\n\t\t\t\t);\n\t\t\tcase \"card\":\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<UserCard {...this.props} />\n\t\t\t\t);\n\t\t}\n\t}\n}\n\n\nfunction mapStateToProps(state, ownProps) {\n\tlet id = ownProps.match.params.userId || ownProps.userId;\n\tlet display = ownProps.display || \"page\";\n\n\tlet notExists = false;\n\tlet user = null;\n\n\tif (id == null) {\n\t\tid = state.userId;\n\t}\n\n\tif (state.users == null || state.users[id] == null) {\n\t\tif (id == null || state.hasFetched.indexOf(\"User.get(\" + id + \")\") !== -1) {\n\t\t\tnotExists = true;\n\t\t}\n\t} else {\n\t\tuser = state.users[id];\n\t}\n\n\treturn {\n\t\trole: state.role,\n\t\tuser,\n\t\tnotExists,\n\t\tdisplay,\n\t\tuserId: id,\n\t\townProfile: (\"\" + id) === (\"\" + state.userId),\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetSecureLogin: (secureLogin) => dispatch(setSecureLogin(secureLogin)),\n\t};\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(User));\n","import React, { Component } from 'react';\nimport map from \"lodash/map\"\nimport filter from \"lodash/filter\"\nimport User from \"../user/User\"\nimport Field from \"../../components/Field\"\nimport { Paper } from '@material-ui/core';\n\nclass PresenceTable extends Component {\n\n\tcreatePresenceComponent(presence, i) {\n\t\tlet options = [{ label: \"Actief\", value: \"present\" },\n\t\t{ label: \"Niet actief\", value: \"absent\" }];\n\t\tif (!this.props.editable && presence.userStatus === \"absent\") {\n\t\t\toptions[0].label = \"Afgemeld\";\n\t\t\toptions[1].label = \"Afgemeld\";\n\t\t}\n\t\treturn <Field\n\t\t\tkey={i}\n\t\t\tvalue={presence.status}\n\t\t\toptions={options}\n\t\t\tlabel={presence.userStatus === \"absent\" ? \"afgemeld\" : undefined}\n\t\t\tlayout={{ td: true, area: true }}\n\t\t\teditable={this.props.editable}\n\t\t\tonChange={(status) => {\n\t\t\t\tthis.props.handleChange({\n\t\t\t\t\t...presence,\n\t\t\t\t\tstatus,\n\t\t\t\t});\n\t\t\t}}\n\t\t/>;\n\t}\n\n\tcreateRow = (participantId) => {\n\t\tconst content = map(this.props.lessons, ((lesson, i) => {\n\t\t\tconst p = filter(this.props.presence, presence => {\n\t\t\t\treturn presence.lessonId === lesson.id && presence.userId === participantId;\n\t\t\t});\n\t\t\tif (p.length === 1) {\n\t\t\t\treturn this.createPresenceComponent(p[0], i);\n\t\t\t} else {\n\t\t\t\treturn \"err\";\n\t\t\t}\n\t\t}));\n\n\t\treturn (\n\t\t\t<Paper component=\"tr\" elevation={1} key={\"p\" + participantId}>\n\t\t\t\t<User key={participantId} userId={participantId} display=\"name\" />\n\t\t\t\t{content}\n\t\t\t</Paper>\n\t\t);\n\t}\n\n\tcreateLessonHeader = (lesson) => {\n\t\tconst content = map(this.props.lessons, lesson => {\n\t\t\treturn <Field value={\"Les \" + lesson.numberInBlock} key={lesson.id} style={{ type: \"title\" }} layout={{ td: true, area: true }} />;\n\t\t});\n\t\treturn (\n\t\t\t<Paper component=\"tr\" elevation={2} key={\"l\" + lesson} style={{ backgroundColor: \"#e0e0e0\" }} >\n\t\t\t\t<Field value=\"\" layout={{ td: true, area: true }} />\n\t\t\t\t{content}\n\t\t\t</Paper>\n\t\t);\n\t}\n\n\trender() {\n\t\tlet rows = this.props.participantIds.filter((partId) => {\n\t\t\treturn map(this.props.presence, (p) => p.userId).indexOf(partId) !== -1;\n\t\t}).map(this.createRow);\n\t\trows.unshift(this.createLessonHeader());\n\t\treturn <table>\n\t\t\t<tbody>\n\t\t\t\t{rows}\n\t\t\t</tbody>\n\t\t</table>;\n\t}\n\n}\n\nexport default PresenceTable;\n","import React, { Component } from 'react';\n\nimport Paper from '@material-ui/core/Paper';\nimport Field from '../../components/Field';\nimport { Button } from '@material-ui/core';\nimport { setPresenceUserStatus } from \"../../store/actions\";\nimport { connect } from \"react-redux\";\n\nclass Lesson extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"auto\",\n\t\t\t\tmarginTop: \"10px\",\n\t\t\t\tmarginBottom: \"10px\",\n\t\t\t\tpadding: \"2px\",\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\talignItems: \"start\",\n\t\t\t\tposition: \"relative\",\n\t\t\t},\n\t\t}\n\t}\n\n\tgetWeekdayString(number) {\n\t\treturn [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"][number];\n\t}\n\n\tgetOptOutButton() {\n\t\tif (this.props.lesson.userStatus === \"absent\") {\n\t\t\treturn < div style={{ flex: 1 }}>\n\t\t\t\t<Button\n\t\t\t\t\tstyle={{ width: \"70px\", float: \"right\" }}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tmini\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={() => this.props.setPresenceUserStatus(this.props.lesson.id, \"present\", this.props.lesson.courseGroupId)}\n\t\t\t\t>\n\t\t\t\t\tAanmelden\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t}\n\t\treturn < div style={{ flex: 1 }}>\n\t\t\t<Button\n\t\t\t\tstyle={{ width: \"70px\", float: \"right\" }}\n\t\t\t\tsize=\"small\"\n\t\t\t\tmini\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tonClick={() => this.props.setPresenceUserStatus(this.props.lesson.id, \"absent\", this.props.lesson.courseGroupId)}\n\t\t\t>\n\t\t\t\tAfmelden\n\t\t\t</Button>\n\t\t</div>\n\t}\n\n\n\thandleChange = (name, value) => {\n\t\tthis.props.handleChange({\n\t\t\t...this.props.lesson,\n\t\t\t[name]: value,\n\t\t});\n\t}\n\n\n\trender() {\n\t\tconst lesson = this.props.lesson;\n\t\tif (lesson.id === -1) {\n\t\t\treturn (\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t\tcomponent=\"tr\"\n\t\t\t\t\tstyle={{ backgroundColor: \"#e0e0e0\" }}\n\t\t\t\t>\n\t\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Lesnummer\" />\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Soort les\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<Field style={{ flex: 4, fontWeight: \"bold\" }} value=\"Onderwerp\" layout={{ td: true }} />\n\t\t\t\t\t<Field style={{ flex: 8, fontWeight: \"bold\" }} value=\"Activiteiten\" layout={{ td: true }} />\n\t\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Datum\" layout={{ alignment: \"right\" }} />\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Aanwezigheid\" layout={{ alignment: \"right\" }} />\n\t\t\t\t\t</td>\n\t\t\t\t</Paper>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Paper\n\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\tcomponent=\"tr\"\n\t\t\t>\n\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tlayout={{ area: true }}\n\t\t\t\t\t\tstyle={{ fontWeight: \"bold\" }}\n\t\t\t\t\t\tvalue={\"Les \" + lesson.numberInBlock}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Soort les\"\n\t\t\t\t\t\tlayout={{ area: true }}\n\t\t\t\t\t\tvalue={lesson.kind}\n\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"kind\", value)}\n\t\t\t\t\t/>\n\t\t\t\t</td>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Onderwerp\"\n\t\t\t\t\tstyle={{ flex: 4 }}\n\t\t\t\t\tvalue={lesson.subject}\n\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\tonChange={(value) => this.handleChange(\"subject\", value)}\n\t\t\t\t\tlayout={{ td: true, area: true }}\n\t\t\t\t/>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Activiteiten\"\n\t\t\t\t\tstyle={{ flex: 8 }}\n\t\t\t\t\tvalue={lesson.activities}\n\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\tonChange={(value) => this.handleChange(\"activities\", value)}\n\t\t\t\t\tlayout={{ td: true, area: true }}\n\t\t\t\t/>\n\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\tvalue={this.getWeekdayString(new Date(lesson.date).getDay()) + \" \" + new Date(lesson.date).getDate() + \"-\" + (new Date(lesson.date).getMonth() + 1) + \"-\" + new Date(lesson.date).getFullYear()}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Aanwezigheid\"\n\t\t\t\t\t\tstyle={{ labelVisible: true }}\n\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\tvalue={lesson.presence}\n\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"presence\", value)}\n\t\t\t\t\t\toptions={[{ label: \"Noodzakelijk\", value: \"required\" }, { label: \"Eigen keuze\", value: \"optional\" }, { label: \"Geen bijeenkomst\", value: \"unrequired\" }]}\n\t\t\t\t\t/>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.userIsMemberOfGroup && this.props.role === \"student\" ? this.getOptOutButton() : null\n\t\t\t\t\t}\n\t\t\t\t</td>\n\t\t\t</Paper >\n\t\t);\n\t}\n\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetPresenceUserStatus: (lessonId, userStatus, groupId) => dispatch(setPresenceUserStatus(lessonId, userStatus, groupId)),\n\t};\n}\n\nexport default connect(null, mapDispatchToProps)(Lesson);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Typography, Tooltip, TableSortLabel, Paper } from '@material-ui/core';\nimport User from \"./User\";\n\nclass UserList extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"auto\",\n\t\t\t\tmargin: \"0px\",\n\t\t\t\tpadding: \"10px\",\n\t\t\t\tbackgroundColor: \"#e0e0e0\",\n\t\t\t},\n\t\t\tsortValue: \"\",\n\t\t\tsortDirection: \"\",\n\t\t}\n\t}\n\n\tonSortChange = (value) => {\n\t\tthis.setState({\n\t\t\tsortValue: value,\n\t\t\tsortDirection: this.state.sortDirection === \"desc\" && this.state.sortValue === value ? \"asc\" : \"desc\"\n\t\t});\n\t}\n\n\theaderTitle(variant, value, title) {\n\t\tlet sortValue = this.state.sortValue;\n\t\tlet sortDirection = this.state.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n\t\treturn (\n\t\t\t<Typography variant={variant} color={variant === \"title\" ? \"primary\" : \"default\"} style={{ flex: 1 }} >\n\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t<TableSortLabel active={sortValue === value}\n\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\tonClick={() => this.onSortChange(value)}\n\t\t\t\t\t\tstyle={{ color: \"inherit\" }} >\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</TableSortLabel>\n\t\t\t\t</Tooltip>\n\t\t\t</Typography>\n\t\t)\n\t}\n\n\tgetHeader = () => {\n\t\tlet style = { ...this.state.style };\n\t\treturn (\n\t\t\t<tr>\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t\tcomponent=\"td\"\n\t\t\t\t\tstyle={style}\n\t\t\t\t>\n\t\t\t\t\t<div style={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t{this.headerTitle(\"title\", \"name\", \"Naam\")}\n\t\t\t\t\t\t{this.headerTitle(\"subheading\", \"school\", \"School\")}\n\t\t\t\t\t\t{this.headerTitle(\"body1\", \"levelAndYear\", \"Niveau - Leerjaar\")}\n\t\t\t\t\t\t{this.headerTitle(\"body1\", \"role\", \"Rol\")}\n\t\t\t\t\t\t{this.headerTitle(\"body1\", \"profile\", \"Profiel\")}\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.props.role === \"admin\" &&\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"email\", \"Office Email\")}\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"preferedEmail\", \"Voorkeurs email\")}\n\t\t\t\t\t\t\t<div style={{ flex: 1 }} />\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"phoneNumber\", \"Telefoonnummer\")}\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"id\", \"Gebruikers ID\")}\n\t\t\t\t\t\t</div>}\n\t\t\t\t</Paper >\n\t\t\t</tr>\n\t\t)\n\t}\n\n\tsortIds = () => {\n\t\tconst value = this.state.sortValue;\n\t\tconst direction = this.state.sortDirection;\n\t\tconst users = this.props.users;\n\t\tconst userIds = this.props.userIds;\n\t\tif (value === \"\") {\n\t\t\treturn userIds;\n\t\t}\n\t\tuserIds.sort((a, b) => {\n\t\t\tswitch (value) {\n\t\t\t\tcase \"name\":\n\t\t\t\t\ta = (users[a][\"firstName\"] + users[a][\"lastName\"]).toLowerCase();\n\t\t\t\t\tb = (users[b][\"firstName\"] + users[b][\"lastName\"]).toLowerCase()\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"levelAndYear\":\n\t\t\t\t\ta = (users[a][\"level\"] + users[a][\"year\"]).toString();// to string because otherwise no level and year would result in a being an integer\n\t\t\t\t\tb = (users[b][\"level\"] + users[b][\"year\"]).toString();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\ta = users[a][value];\n\t\t\t\t\tb = users[b][value];\n\t\t\t}\n\t\t\tlet cmp = (b == null) - (a == null) || +(a > b) || -(a < b);\n\t\t\treturn direction === \"asc\" ? cmp : -cmp;\n\t\t})\n\t\treturn userIds;\n\t}\n\n\trender() {\n\t\tconst header = this.getHeader();\n\t\tconst users = this.sortIds().map(id => {\n\t\t\treturn <User key={id} userId={id} display=\"row\" />\n\t\t});\n\t\treturn (\n\t\t\t<table style={{ width: \"100%\" }}>\n\t\t\t\t<tbody>\n\t\t\t\t\t{header}\n\t\t\t\t\t{users}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps(state, ownProps) {\n\treturn {\n\t\tusers: state.users,\n\t\trole: state.role,\n\t};\n}\n\nexport default connect(mapStateToProps)(UserList);","import React, { Component } from 'react';\nimport { Prompt } from 'react-router-dom';\n\nclass PageLeaveWarning extends Component {\n\n\trender() {\n\t\tconst message = \"Weet je zeker dat u de pagina wilt verlaten? Er zijn nog niet-opgeslagen gegevens!\";\n\t\tif (this.props.giveWarning) {\n\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\te.returnValue = message;\n\t\t\t\treturn message;\n\t\t\t};\n\t\t} else {\n\t\t\twindow.onbeforeunload = null;\n\t\t}\n\t\treturn (\n\t\t\t<Prompt\n\t\t\t\twhen={this.props.giveWarning}\n\t\t\t\tmessage={location => message}\n\t\t\t/>\n\t\t);\n\t}\n\n}\n\nexport default PageLeaveWarning;","import React, { Component } from 'react';\nimport map from 'lodash/map';\n\nimport Field from '../../components/Field';\nimport User from \"../user/User\"\n\nimport Popover from '@material-ui/core/Popover';\nimport Button from '@material-ui/core/Button';\n\nclass GroupData extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\thandleClickAway = () => {\n\t\tthis.setState({ anchorEl: null });\n\t}\n\n\tshowTeacherCard = event => {\n\t\tthis.setState({ anchorEl: event.currentTarget });\n\t}\n\n\trender() {\n\t\tconst editable = this.props.editable;\n\t\tconst role = this.props.role;\n\t\tconst onChange = this.props.onChange;\n\t\tlet group = this.props.group;\n\t\treturn (\n\t\t\t<div style={{ position: \"relative\" }}>\n\t\t\t\t<div style={{ display: \"flex\" }}>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tvalue={group.courseName}\n\t\t\t\t\t\tonChange={(value) => onChange(\"courseName\", value)}\n\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\tstyle={{ flex: \"5\", type: \"headline\" }}\n\t\t\t\t\t\tvalidate={{ maxLength: 50 }}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tvalue={group.subjectId}\n\t\t\t\t\t\tonChange={(value) => onChange(\"subjectId\", value)}\n\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\tstyle={{ type: \"headline\" }}\n\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\toptions={map(this.props.subjects, (subject) => { return { value: subject.id, label: subject.name } })}\n\t\t\t\t\t/>\n\t\t\t\t\t{\n\t\t\t\t\t\t!editable &&\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tstyle={{ position: \"absolute\", display: \"block\", top: \"30px\", right: \"-15px\", zIndex: \"100\" }}\n\t\t\t\t\t\t\tonClick={this.showTeacherCard}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div>{group.teacherName}</div>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div style={{ display: \"flex\" }} className=\"ColumnFlexDirectionOnMobile\">\n\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t\t<div style={{ flex: 1 }}>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.period}\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"period\", value)}\n\t\t\t\t\t\t\t\teditable={editable && role === \"admin\"}\n\t\t\t\t\t\t\t\tstyle={{ width: \"100px\", type: \"caption\" }}\n\t\t\t\t\t\t\t\toptions={[{ label: \"Blok 1\", value: 1 }, { label: \"Blok 2\", value: 2 }, { label: \"Blok 3\", value: 3 }, { label: \"Blok 4\", value: 4 }]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.day}\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"day\", value)}\n\t\t\t\t\t\t\t\teditable={editable && role === \"admin\"}\n\t\t\t\t\t\t\t\tstyle={{ width: \"150px\", type: \"caption\" }}\n\t\t\t\t\t\t\t\toptions={[\"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\", \"zondag\"]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.schoolYear}\n\t\t\t\t\t\t\t\teditable={editable && role === \"admin\"}\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"schoolYear\", value)}\n\t\t\t\t\t\t\t\toptions={[\"2018/2019\", \"2019/2020\", \"2020/2021\", \"2021/2022\"]}\n\t\t\t\t\t\t\t\tstyle={{ width: \"120px\", type: \"caption\" }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.enrollableFor}\n\t\t\t\t\t\t\t\tlabel=\"Doelgroep\"\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"enrollableFor\", value)}\n\t\t\t\t\t\t\t\tstyle={{ width: \"100%\", labelVisible: true }}\n\t\t\t\t\t\t\t\tdefault=\"Iedereen\"\n\t\t\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={{ width: \"100%\" }}>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tvalue={group.courseDescription}\n\t\t\t\t\t\t\tvalidate={{ maxLength: 440 }}\n\t\t\t\t\t\t\tlabel=\"Omschrijving\"\n\t\t\t\t\t\t\tstyle={{ labelVisible: true }}\n\t\t\t\t\t\t\tonChange={(value) => onChange(\"courseDescription\", value)}\n\t\t\t\t\t\t\tlayout={{ area: true }}\n\t\t\t\t\t\t\teditable={editable} />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tvalue={group.remarks}\n\t\t\t\t\t\t\tlabel=\"Opmerkingen\"\n\t\t\t\t\t\t\tonChange={(value) => onChange(\"remarks\", value)}\n\t\t\t\t\t\t\tstyle={{ width: \"80%\", labelVisible: true }}\n\t\t\t\t\t\t\tdefault=\"Geen voorkennis vereist\"\n\t\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tvalue={group.studyTime}\n\t\t\t\t\t\t\tlabel=\"Studietijd\"\n\t\t\t\t\t\t\tonChange={(value) => onChange(\"studyTime\", value)}\n\t\t\t\t\t\t\tdefault=\"onbekend\"\n\t\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\t\tstyle={{ labelVisible: true, unit: \"uur\" }}\n\t\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\t\tvalidate={{ type: \"integer\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\n\t\t\t\t<Popover\n\t\t\t\t\topen={this.state.anchorEl ? true : false}\n\t\t\t\t\tonClose={this.handleClickAway}\n\t\t\t\t\tanchorEl={this.state.anchorEl}\n\t\t\t\t\tanchorOrigin={{ horizontal: \"left\", vertical: \"top\" }}\n\t\t\t\t>\n\t\t\t\t\t<User key={group.teacherId} userId={group.teacherId} display=\"card\" style={{ margin: \"0px\" }} />\n\t\t\t\t</Popover>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default GroupData;\n","import React, { Component } from \"react\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { connect } from 'react-redux';\nimport theme from \"../lib/MuiTheme\";\nimport { withStyles, Tooltip } from \"@material-ui/core\";\n\nconst style = {\n    colorPrimary:{\n        backgroundColor: theme.palette.primary.main\n    },\n    colorSecondary: {\n        backgroundColor: \"#ff8c00\"\n    },\n    colorError: {\n        backgroundColor: theme.palette.error.main\n    }\n}\n\nclass NotificationBadge extends Component {\n\n\n    render() {\n        const notifications = this.props.notifications;\n        const classes = this.props.classes;\n        let color = \"primary\";\n        let tooltipMessage = notifications.length > 0 ? notifications[0].message : \"\";\n        for ( let i = 0; i < notifications.length; i ++ ) { \n            if (notifications[i].priority === \"medium\" || notifications[i].priority === \"high\" ){\n                color=\"secondary\";\n                tooltipMessage=notifications[i].message;\n                for ( let j = i ; j < notifications.length; j++ ) {\n                    if ( notifications[j].priority === \"high\" ) {\n                        color = \"error\"\n                        tooltipMessage = notifications[j].message;\n                        break;\n                    }\n                }\n                break\n            }\n        }// tooltip is first message of highest priority\n        //color is highest priority\n\n        return (\n            <Tooltip title={tooltipMessage} >\n                <Badge badgeContent={notifications.length} classes={classes} color={color} >\n                    {this.props.children}\n                </Badge>\n            </Tooltip>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tlet notifications = state.notifications.filter((not) => {\n\t\ttry {\n            return not.type === \"badge\" && RegExp(not.scope).test(ownProps.scope);\n\t\t} catch (err) {\n\t\t\treturn true;\n\t\t}\n    });\n\treturn {\n\t\tnotifications: notifications,\n\t};\n}\n\nexport default withStyles(style)(connect(mapStateToProps,null)(NotificationBadge));","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport map from 'lodash/map';\n\nimport PresenceTable from './PresenceTable';\nimport Lesson from './Lesson';\nimport { EvaluationTab } from './Evaluation';\nimport Page from '../Page';\nimport UserList from \"../user/UserList\"\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Progress from '../../components/Progress'\nimport PageLeaveWarning from '../../components/PageLeaveWarning'\nimport GroupData from './GroupData';\nimport ChooseButton from './ChooseButton';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport queryString from \"query-string\";\nimport NotificationBadge from '../../components/NotificationBadge';\n\nclass GroupPage extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\teditable: false,\n\t\t\tgroup: this.props.group,\n\t\t}\n\n\t\tswitch (this.props.role) {\n\t\t\tcase \"student\":\n\t\t\t\tif (this.props.userIsMemberOfGroup) {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\", \"Deelnemers\"];\n\t\t\t\t} else {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\"];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"teacher\":\n\t\t\t\tif (this.props.userIsMemberOfGroup) {\n\t\t\t\t\tthis.state.tabs = [\"Inschrijvingen\", \"Lessen\", \"Deelnemers\", \"Actief\", \"Beoordeling\"];\n\t\t\t\t} else {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\"];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"admin\":\n\t\t\t\tthis.state.tabs = [\"Inschrijvingen\", \"Lessen\", \"Deelnemers\", \"Actief\", \"Beoordeling\"];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\tgroup: {\n\t\t\t\t...nextProps.group,\n\t\t\t\t...prevState.group,\n\t\t\t},\n\t\t\tcurrentTab: values.tab ? values.tab : prevState.tabs[0]\n\t\t}\n\t}\n\n\tgetCurrentTab(currentTab) {\n\t\tlet group = this.state.group;\n\t\tconst enrollmentIds = this.state.group.enrollmentIds;\n\t\tconst lessons = this.state.group.lessons;\n\t\tconst participantIds = this.state.group.participantIds;\n\t\tconst evaluations = this.state.group.evaluations;\n\t\tconst presence = this.state.group.presence;\n\n\t\tswitch (currentTab) {\n\t\t\tcase \"Inschrijvingen\":\n\t\t\t\tif (enrollmentIds == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\tif (enrollmentIds.length === 0) {\n\t\t\t\t\treturn \"Er zijn geen inschrijvingen\";\n\t\t\t\t}\n\t\t\t\treturn <UserList userIds={enrollmentIds} />;\n\t\t\tcase \"Lessen\":\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\tif (lessons.length === 0) {\n\t\t\t\t\treturn \"Er zijn nog geen lessen bekend\";\n\t\t\t\t}\n\t\t\t\treturn <table style={{ width: \"100%\" }}>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{map({ 0: { id: -1 }, ...lessons }, lesson => {\n\t\t\t\t\t\t\treturn <Lesson\n\t\t\t\t\t\t\t\tlesson={lesson}\n\t\t\t\t\t\t\t\tkey={lesson.id}\n\t\t\t\t\t\t\t\trole={this.props.role}\n\t\t\t\t\t\t\t\tuserIsMemberOfGroup={this.props.userIsMemberOfGroup}\n\t\t\t\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\t\t\t\thandleChange={this.handleLessonChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\tcase \"Deelnemers\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\tif (participantIds.length === 0) {\n\t\t\t\t\treturn \"Er zijn nog geen deelnemers toegevoegd\";\n\t\t\t\t}\n\t\t\t\treturn <UserList userIds={participantIds} />\n\t\t\tcase \"Actief\":\n\t\t\t\tif (participantIds == null || lessons == null || presence == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\treturn <PresenceTable\n\t\t\t\t\tparticipantIds={participantIds}\n\t\t\t\t\tlessons={lessons}\n\t\t\t\t\tpresence={presence}\n\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\thandleChange={this.handlePresenceChange}\n\t\t\t\t/>\n\t\t\tcase \"Beoordeling\":\n\t\t\t\tif (participantIds == null || evaluations == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\treturn <EvaluationTab\n\t\t\t\t\tevaluations={evaluations}\n\t\t\t\t\tgroupId={group.id}\n\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\thandleChange={this.handleEvaluationChange}\n\t\t\t\t/>\n\t\t\tdefault: return null;\n\t\t}\n\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getData();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.getData();\n\t}\n\n\tgetData() {\n\t\tlet group = this.state.group;\n\t\tconst enrollmentIds = this.state.group.enrollmentIds;\n\t\tconst lessons = this.state.group.lessons;\n\t\tconst participantIds = this.state.group.participantIds;\n\t\tconst evaluations = this.state.group.evaluations;\n\t\tconst presence = this.state.group.presence;\n\n\t\tswitch (this.state.currentTab) {\n\t\t\tcase \"Inschrijvingen\":\n\t\t\t\tif (enrollmentIds == null) {\n\t\t\t\t\tthis.props.getGroupEnrollments(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Lessen\":\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\tthis.props.getGroupLessons(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Deelnemers\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Actief\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\tthis.props.getGroupLessons(group.id);\n\t\t\t\t}\n\t\t\t\tif (presence == null) {\n\t\t\t\t\tthis.props.getGroupPresence(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Beoordeling\":\n\t\t\t\tif (evaluations == null) {\n\t\t\t\t\tthis.props.getGroupEvaluations(group.id);\n\t\t\t\t}\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault: break;\n\t\t}\n\t}\n\n\thandleChange = (name,value) => {\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\t[name]: value,\n\t\t\t}\n\t\t});\n\t}\n\n\thandleLessonChange = (lesson) => {\n\t\tlet lessons = this.state.group.lessons || this.props.group.lessons;\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tlessons: {\n\t\t\t\t\t...lessons,\n\t\t\t\t\t[lesson.id]: lesson,\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\thandleEvaluationChange = (newEvaluations) => {\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tevaluations: newEvaluations,\n\t\t\t}\n\t\t});\n\t}\n\n\thandlePresenceChange = (presenceObj) => {\n\t\tlet presence = this.state.group.presence || this.props.group.presence;\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tpresence: {\n\t\t\t\t\t...presence,\n\t\t\t\t\t[presenceObj.id]: presenceObj,\n\t\t\t\t},\n\t\t\t}\n\t\t});\n\t}\n\n\tsetEditable = () => {\n\t\tthis.setState({\n\t\t\teditable: true,\n\t\t});\n\t}\n\n\tcancel = () => {\n\t\tthis.setState({\n\t\t\teditable: false,\n\t\t\tgroup: this.props.group,\n\t\t});\n\t}\n\n\tsave = () => {\n\t\tthis.props.setGroup(this.state.group);\n\t\tthis.setState({\n\t\t\teditable: false,\n\t\t});\n\t}\n\n\thandleTab = (event, newTab) => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"tab=\" + this.state.tabs[newTab],\n\t\t});\n\t};\n\n\n\trender() {\n\t\tconst editable = this.state.editable;\n\t\tconst role = this.props.role;\n\t\tlet group = this.state.group;\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<GroupData {...this.props} editable={editable} group={group} onChange={this.handleChange} />\n\t\t\t\t<Divider />\n\t\t\t\t{\n\t\t\t\t\trole === \"student\" &&\n\t\t\t\t\t<ChooseButton\n\t\t\t\t\t\tgroup={group}\n\t\t\t\t\t\tstyle={{ margin: \"20px\" }}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\t((role === \"teacher\" || role === \"admin\") && !editable) &&\n\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.setEditable}>\n\t\t\t\t\t\t{\"Bewerken\"}\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\teditable &&\n\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.save}>\n\t\t\t\t\t\t{\"Opslaan\"}\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\teditable &&\n\t\t\t\t\t<Button color=\"default\" style={{ margin: \"20px\" }} onClick={this.cancel}>\n\t\t\t\t\t\t{\"Annuleren\"}\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\t<AppBar position=\"static\" color=\"default\">\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={this.state.tabs.indexOf(this.state.currentTab)}\n\t\t\t\t\t\tonChange={this.handleTab}\n\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tcentered\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.state.tabs.map(tab => \n\t\t\t\t\t\t<Tab key={tab} label={\n\t\t\t\t\t\t\t<NotificationBadge scope={\"groep/\" + ( group.id || \"\" ) + \"?tab=\" + tab} style={{paddingLeft:\"100px\"}}>\n\t\t\t\t\t\t\t\t{tab}\n\t\t\t\t\t\t\t</NotificationBadge>\n\t\t\t\t\t\t\t} />) }\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n\t\t\t\t<br />\n\t\t\t\t<div style={{ width: \"98%\", margin: \"auto\" }}>\n\t\t\t\t\t{this.getCurrentTab(this.state.currentTab)}\n\t\t\t\t</div>\n\t\t\t\t<PageLeaveWarning giveWarning={this.state.editable} />\n\t\t\t</Page>\n\t\t);\n\t}\n\n}\n\n\n\nexport default withRouter(GroupPage);\n\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport GroupCard from \"./GroupCard\";\nimport GroupPage from \"./GroupPage\";\nimport {\n\tsetGroup,\n\tgetGroup,\n\tgetGroupEnrollments,\n\tgetGroupLessons,\n\tgetGroupParticipants,\n\tgetGroupEvaluations,\n\tgetGroupPresence,\n\tgetSubjects,\n} from \"../../store/actions\";\nimport { withRouter } from 'react-router-dom';\nimport Progress from '../../components/Progress'\nimport Page from '../Page';\n\nclass Group extends Component {\n\n\tcomponentWillMount() {\n\t\tconst props = this.props;\n\t\tif (props.subjects == null) {\n\t\t\tprops.getSubjects();\n\t\t}\n\t\tif (props.group == null && !props.notExists) {\n\t\t\tprops.getGroup(props.groupId);\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.props.group == null) {\n\t\t\tif (this.props.display === \"page\" && this.props.notExists) {\n\t\t\t\treturn (\n\t\t\t\t\t<Page>\n\t\t\t\t\t\tDe opgevraagde groep bestaat niet\n\t\t\t\t\t</Page>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn this.props.notExists ? null : <Progress />;\n\t\t\t}\n\t\t}\n\t\tswitch (this.props.display) {\n\t\t\tcase \"page\":\n\t\t\t\treturn (\n\t\t\t\t\t<GroupPage {...this.props} />\n\t\t\t\t);\n\t\t\tcase \"card\":\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<GroupCard {...this.props} />\n\t\t\t\t);\n\t\t}\n\t}\n}\n\n\nfunction mapStateToProps(state, ownProps) {\n\tlet id = (ownProps.match.params.groupId || ownProps.groupId) + \"\";\n\tlet display = ownProps.display || \"page\";\n\n\tlet notExists = false;\n\tlet group = null;\n\n\tlet userIsMemberOfGroup = state.users[state.userId].participatingGroupIds.indexOf(id) !== -1;\n\tif (state.groups == null || state.groups[id] == null) {\n\t\tif (id == null || state.hasFetched.indexOf(\"Group.get(\" + id + \")\") !== -1) {\n\t\t\tnotExists = true;\n\t\t}\n\t} else {\n\t\tgroup = state.groups[id];\n\t}\n\treturn {\n\t\tgroup,\n\t\tnotExists,\n\t\tdisplay,\n\t\trole: state.role,\n\t\tgroupId: id,\n\t\tsubjects: state.subjects,\n\t\tuserIsMemberOfGroup,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetGroup: (group) => dispatch(setGroup(group)),\n\t\tgetGroup: (groupId) => dispatch(getGroup(groupId)),\n\t\tgetGroupEnrollments: (groupId) => dispatch(getGroupEnrollments(groupId)),\n\t\tgetGroupLessons: (groupId) => dispatch(getGroupLessons(groupId)),\n\t\tgetGroupParticipants: (groupId) => dispatch(getGroupParticipants(groupId)),\n\t\tgetGroupEvaluations: (groupId) => dispatch(getGroupEvaluations(groupId)),\n\t\tgetGroupPresence: (groupId) => dispatch(getGroupPresence(groupId)),\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Group));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport filter from 'lodash/filter';\nimport map from 'lodash/map';\n\nimport Page from './Page';\nimport Progress from '../components/Progress';\nimport Field from '../components/Field';\nimport Group from './group/Group';\nimport { getSubjects, getGroups, getEnrolLments } from '../store/actions';\n\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport queryString from \"query-string\";\n\nclass CourseSelect extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsortMethod: null,\n\t\t\tfilterMethod: \"period\" + props.enrollmentPeriod,\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\tif (values.sort) {\n\t\t\treturn {\n\t\t\t\t...prevState,\n\t\t\t\t...{\n\t\t\t\t\tsortMethod: values.sort,\n\t\t\t\t\tfilterMethod: values.filter ? values.filter : \"period\" + nextProps.enrollmentPeriod,\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (nextProps.subjects != null) {\n\t\t\treturn {\n\t\t\t\t...prevState,\n\t\t\t\t...{\n\t\t\t\t\tfilterMethod: values.filter ? values.filter : \"period\" + nextProps.enrollmentPeriod,\n\t\t\t\t\tsortMethod: nextProps.subjects[Object.keys(nextProps.subjects)[0]].name,\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\t...prevState,\n\t\t\t\tsortMethod: null,\n\t\t\t\tfilterMethod: \"none\",\n\t\t\t};\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getSubjects();\n\t\tthis.props.getGroups();\n\t}\n\n\tgetGroupsPerSubject(subject) {\n\t\treturn filter(this.props.groups, (group) => {\n\t\t\treturn subject === group.subjectName;\n\t\t})\n\t}\n\n\thandleSortChange = subject => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"sort=\" + subject + \"&filter=\" + this.state.filterMethod,\n\t\t});\n\t};\n\n\thandleFilterChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"sort=\" + this.state.sortMethod + \"&filter=\" + value,\n\t\t});\n\t};\n\n\tgetMenuItem(title, subject) {\n\t\tlet color = (this.state.sortMethod === subject) ? \"primary\" : \"default\";\n\t\treturn (\n\t\t\t<ListItem button onClick={() => this.handleSortChange(subject)} key={title}>\n\t\t\t\t<ListItemText>\n\t\t\t\t\t<Typography variant=\"title\" color={color} style={{ minWidth: \"150px\" }}>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t</ListItemText>\n\t\t\t</ListItem >\n\t\t)\n\t}\n\n\tgetMenuItems() {\n\t\tconst subjectsComponents = map(this.props.subjects, (subject) => {\n\t\t\treturn this.getMenuItem(subject.name, subject.name);\n\t\t});\n\t\tif (this.props.role === \"student\") {\n\t\t\tsubjectsComponents.unshift(this.getMenuItem(\"Ingeschreven\", \"enrolled\"));\n\t\t}\n\t\treturn subjectsComponents;\n\t}\n\n\trender() {\n\t\tlet data;\n\t\tif (this.state.sortMethod === \"enrolled\") {\n\t\t\tif (this.props.enrolledGroupsIds == null) {\n\t\t\t\tdata = <Progress />;\n\t\t\t\tthis.props.getEnrolLments();\n\t\t\t} else {\n\t\t\t\tdata = this.props.enrolledGroupsIds.map((groupId) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\tkey={groupId}\n\t\t\t\t\t\t\tgroupId={groupId}\n\t\t\t\t\t\t\tdisplay=\"card\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tif (this.props.enrolledGroupsIds.length === 0) {\n\t\t\t\t\tdata = (\n\t\t\t\t\t\t<div style={{ margin: \"15px\" }} >\n\t\t\t\t\t\t\tJe hebt je nog niet ingeschreven.\n\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.props.subjects == null || this.props.groups == null || this.props.enrolledGroups === []) {\n\t\t\t\tdata = <Progress />\n\t\t\t}\n\t\t\tdata = this.getGroupsPerSubject(this.state.sortMethod)\n\t\t\t\t.sort((a, b) => a.period - b.period)\n\t\t\t\t.filter((group) => {\n\t\t\t\t\tswitch (this.state.filterMethod) {\n\t\t\t\t\t\tcase \"period1\":\n\t\t\t\t\t\t\treturn group.period === 1;\n\t\t\t\t\t\tcase \"period2\":\n\t\t\t\t\t\t\treturn group.period === 2;\n\t\t\t\t\t\tcase \"period3\":\n\t\t\t\t\t\t\treturn group.period === 3;\n\t\t\t\t\t\tcase \"period4\":\n\t\t\t\t\t\t\treturn group.period === 4;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.map((group) => {\n\t\t\t\t\treturn <Group\n\t\t\t\t\t\tkey={group.id}\n\t\t\t\t\t\tgroupId={group.id}\n\t\t\t\t\t\tdisplay=\"card\"\n\t\t\t\t\t/>\n\t\t\t\t});\n\t\t}\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Paper\n\t\t\t\t\televation={2}\n\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Typography variant=\"subheading\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\tSchrijf je in voor modules\n          \t</Typography>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"filter\"\n\t\t\t\t\t\t\tvalue={this.state.filterMethod}\n\t\t\t\t\t\t\teditable\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{ label: \"Geen\", value: \"none\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 1\", value: \"period1\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 2\", value: \"period2\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 3\", value: \"period3\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 4\", value: \"period4\" }]}\n\t\t\t\t\t\t\tonChange={this.handleFilterChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</Paper>\n\t\t\t\t<div style={{ display: \"flex\" }} className=\"ColumnFlexDirectionOnMobile\">\n\t\t\t\t\t<Paper elevation={2}>\n\t\t\t\t\t\t<List component=\"nav\" style={{ flex: 1 }}>\n\t\t\t\t\t\t\t{this.getMenuItems()}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<div style={{ padding: \"12px\" }}>\n\t\t\t\t\t\t{data}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t</Page >\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\trole: state.role,\n\t\tenrollmentPeriod: state.enrollmentPeriod,\n\t\tenrollableGroups: state.enrollableGroups,\n\t\tgroups: state.groups,\n\t\tsubjects: state.subjects,\n\t\tenrolledGroupsIds: state.users[state.userId].enrollmentIds,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tgetGroups: () => dispatch(getGroups()),\n\t\tgetEnrolLments: () => dispatch(getEnrolLments()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CourseSelect);\n\n\n","import React, { Component } from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {\n\tPaper, Typography, Table, TableHead, TableCell,\n\tTableBody, TableRow, Tooltip, TableSortLabel, Toolbar, Button\n} from \"@material-ui/core\";\nimport queryString from \"query-string\";\nimport Excel from \"exceljs/dist/es5/exceljs.browser\";\n\nimport Page from \"./Page\";\nimport Progress from '../components/Progress';\nimport Field from '../components/Field';\nimport EnsureSecureLogin from \"../components/EnsureSecureLogin\";\nimport $ from \"jquery\";\n\nconst splitValues = {\n\tusers: \"role\",\n\tevaluations: \"groupId\",\n\tenrollments: \"period\",\n}\n\nclass DataPage extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttables: null,\n\t\t\ttableSortColumns: {},\n\t\t\ttableSortDirections: {},\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\t...{\n\t\t\t\tdata: values.data ? values.data : \"evaluations\",\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.fetchData(this.state.data)\n\t\t\t.then(tables => this.setState({ tables: this.splitTable(tables, splitValues[this.state.data]) }));\n\t}\n\n\thandleFilterChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"data=\" + value,\n\t\t});\n\t\tthis.fetchData(value)\n\t\t\t.then(tables => this.setState({ tables: this.splitTable(tables, splitValues[this.state.data]), tableSortColumns: Array(tables.length) }));\n\t}\n\n\tsort = (tableIndex) => {\n\t\tlet table = this.state.tables[tableIndex];\n\t\tconst column = this.state.tableSortColumns[tableIndex];\n\t\tconst order = this.state.tableSortDirections[tableIndex];\n\n\t\ttable = [table[0]].concat(table.slice(1, table.length).sort((a, b) => {\n\t\t\t//Only sort the slice 1-table.length because the header has to stick\n\t\t\ta = a[column];\n\t\t\tb = b[column];\n\t\t\tconst cmp = (b == null) - (a == null) || +(a > b) || -(a < b);\n\t\t\treturn order === \"asc\" ? cmp : -cmp;\n\t\t}));\n\n\t\tthis.setState(prevState => ({\n\t\t\ttables: [\n\t\t\t\t...prevState.tables.slice(0, tableIndex),\n\t\t\t\ttable,\n\t\t\t\t...prevState.tables.slice(tableIndex + 1),\n\t\t\t]\n\t\t}))\n\t}\n\n\thandleSortChange = (tableIndex, columnIndex) => {\n\t\tthis.setState(prevState => ({ //update the correct elements of the arrays of the state\n\t\t\ttableSortColumns: {\n\t\t\t\t...prevState.tableSortColumns,\n\t\t\t\t[tableIndex]: columnIndex,\n\t\t\t},\n\t\t\ttableSortDirections: {\n\t\t\t\t...prevState.tableSortDirections,\n\t\t\t\t[tableIndex]: prevState.tableSortDirections[tableIndex] === 'desc' && prevState.tableSortColumns[tableIndex] === columnIndex ? \"asc\" : \"desc\",// if this columns was selected and ordering desc, change to asc else desc\n\t\t\t}\n\t\t}), () => this.sort(tableIndex)); // when setting state is done start sorting\n\t}\n\n\tsplitTable = (table, splitValue) => {\n\t\tlet splitIndex = table[0].findIndex(x => x === splitValue);\n\t\tif (splitIndex < 0) {\n\t\t\treturn [table];\n\t\t}\n\t\tlet tables = [[table[0], table[1]]]; // initialize the tables with one table that has a header and a row\n\t\tfor (let i = 2; i < table.length; i++) {\n\t\t\tlet tableIndex = tables.findIndex(halfSplitTable => halfSplitTable[1][splitIndex] === table[i][splitIndex]); // see in what table this row has to go\n\t\t\tif (tableIndex < 0) {\n\t\t\t\ttables.push([table[0]]); // add a new table with a new header if a new value is found\n\t\t\t\ttableIndex = tables.length - 1;\n\t\t\t}\n\t\t\ttables[tableIndex].push(table[i]); // add row to correct table\n\t\t}\n\t\treturn tables;\n\t}\n\n\tfetchData = (table) => {\n\t\treturn $.ajax({\n\t\t\turl: \"api/function/data\",\n\t\t\ttype: \"post\",\n\t\t\tdata: {\n\t\t\t\ttable,\n\t\t\t\tsecureLogin: this.props.secureLogin,\n\t\t\t},\n\t\t\tdataType: \"json\",\n\t\t});\n\t}\n\n\tdownloadTables = () => {\n\t\tconst tables = this.state.tables;\n\t\tlet workbook = new Excel.Workbook();\n\t\tconst splitIndex = tables[0][0].findIndex(x => x === splitValues[this.state.data]);\n\t\tfor (let i = 0; i < tables.length; i++) { // add all the tables to a different sheet\n\t\t\tlet sheet = workbook.addWorksheet(tables[i][1][splitIndex]); // the sheet has the name of the value it's split on. I.e when splitting on courses every page is called what course it contains\n\t\t\tsheet.addRows(tables[i]);\n\t\t\tfor (let j = 1; j <= tables[i][0].length; j++) {\n\t\t\t\tsheet.getColumn(j).width = tables[i][0][j - 1].length < 10 ? 10 : tables[i][0][j - 1].length + 2;//set each column to at least fit the header\n\t\t\t}\n\t\t}\n\n\t\tconst filenamePrefixes = { users: \"Gebruikers \", enrollments: \"Inschrijvingen \", evaluations: \"Beoordelingen \" };\n\t\tlet filename = filenamePrefixes[this.state.data] + (new Date()).toLocaleDateString() + \".xlsx\";\n\t\tthis.downloadWorkbook(workbook, filename);//gives for example: \"Gebruikers 3/3/2019.xlsx\"\n\t}\n\n\tdownloadWorkbook = (workbook, fileName) => { //magic\n\t\tworkbook.xlsx.writeBuffer({\n\t\t\tbase64: true\n\t\t})\n\t\t\t.then(function (xls64) {\n\t\t\t\tvar a = document.createElement(\"a\");\n\t\t\t\tvar data = new Blob([xls64], { type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" });\n\t\t\t\tvar url = URL.createObjectURL(data);\n\t\t\t\ta.href = url;\n\t\t\t\ta.download = fileName;\n\t\t\t\tdocument.body.appendChild(a);\n\t\t\t\ta.click();\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tdocument.body.removeChild(a);\n\t\t\t\t\twindow.URL.revokeObjectURL(url);\n\t\t\t\t}, 0);\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.log(\"Something went wrong with downloading the excel file: \" + error.message);\n\t\t\t});\n\t}\n\n\tforceCellWidth = (cellName) => {\n\t\tswitch (cellName) {\n\t\t\tcase \"subject\":\n\t\t\t\treturn \"200px\";\n\t\t\tcase \"displayName\":\n\t\t\t\treturn \"200px\";\n\t\t\tcase \"courseName\":\n\t\t\t\treturn \"300px\";\n\t\t\tdefault:\n\t\t\t\treturn \"auto\";\n\t\t}\n\t}\n\n\trender() {\n\t\tlet content;\n\t\tif (this.state.tables == null) {\n\t\t\tcontent = <Progress />;\n\t\t} else {\n\t\t\tcontent = (this.state.tables).map((table, tableIndex) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Table key={tableIndex} style={tableIndex === 0 ? { marginTop: \"100px\" } : { marginTop: \"50px\" }}>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow key={0} style={{ height: \"auto\" }}>\n\t\t\t\t\t\t\t\t{table[0].map((title, columnIndex) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={columnIndex} style={{\n\t\t\t\t\t\t\t\t\t\t\tcolor: \"black\",\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"#e0e0e0\",\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\n\t\t\t\t\t\t\t\t\t\t\ttop: 0\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t\t\t\t\t\t\t\t<TableSortLabel active={this.state.tableSortColumns[tableIndex] === columnIndex}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdirection={this.state.tableSortDirections[tableIndex]}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={event => this.handleSortChange(tableIndex, columnIndex)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ zIndex: 0 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ width: this.forceCellWidth(title) }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttable.filter((_, index) => { return (index > 0); }) //take everything but the header\n\t\t\t\t\t\t\t\t\t.map((row, rowIndex) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={rowIndex + 1} style={{ height: \"auto\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{row.map((cell, columnIndex) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell key={columnIndex} >{cell}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</ TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t)\n\t\t\t})\n\t\t}\n\t\treturn (\n\t\t\t<Page >\n\t\t\t\t<EnsureSecureLogin>\n\t\t\t\t\t<Paper elevation={2} style={{ position: \"absolute\", width: \"80%\", zIndex: 1 }}>\n\t\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t\t<Typography variant=\"subheading\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\t\tGegevens\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.downloadTables} style={{ margin: \"0 10px\" }}>\n\t\t\t\t\t\t\t\tDownload\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tlabel=\"Gegevens van\"\n\t\t\t\t\t\t\t\tvalue={this.state.data}\n\t\t\t\t\t\t\t\teditable\n\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t{ label: \"Beoordelingen\", value: \"evaluations\" },\n\t\t\t\t\t\t\t\t\t{ label: \"Gebruikers\", value: \"users\" },\n\t\t\t\t\t\t\t\t\t{ label: \"Inschrijvingen\", value: \"enrollments\" }]}\n\t\t\t\t\t\t\t\tonChange={this.handleFilterChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t{content}\n\t\t\t\t</EnsureSecureLogin>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsecureLogin: state.secureLogin,\n\t}\n}\n\nexport default withRouter(connect(mapStateToProps, null)(DataPage));","import React, { Component } from 'react';\nimport Page from './Page';\nimport Progress from '../components/Progress';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Field from '../components/Field';\nimport Paper from '@material-ui/core/Paper';\nimport $ from \"jquery\";\nimport queryString from \"query-string\";\n\nclass Taxi extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tschedules: null,\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\t...{\n\t\t\t\tweek: values.week ? values.week : \"0\",\n\t\t\t}\n\t\t};\n\t}\n\n\thandleFilterChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"week=\" + value,\n\t\t});\n\t\tthis.fetchSchedules(value);\n\t};\n\n\n\tcomponentDidMount() {\n\t\tthis.fetchSchedules(this.state.week);\n\t}\n\n\tfetchSchedules(week) {\n\t\treturn $.ajax({\n\t\t\turl: \"api/function/taxi\",\n\t\t\ttype: \"post\",\n\t\t\tdata: {\n\t\t\t\tweek,\n\t\t\t},\n\t\t\tdataType: \"json\",\n\t\t}).then(schedules => this.setState({\n\t\t\tschedules,\n\t\t}));\n\t}\n\n\trender() {\n\t\tlet content;\n\t\tif (this.state.schedules == null) {\n\t\t\tcontent = <Progress />\n\t\t} else {\n\t\t\tcontent = this.state.schedules.map((s, i) =>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ width: \"80%\", margin: \"auto\" }}\n\t\t\t\t\tclassName=\"taxiScheduleHolder\"\n\t\t\t\t\tkey={i}\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: s }}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Paper\n\t\t\t\t\televation={2}\n\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Typography variant=\"subheading\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\tTaxischema\n          </Typography>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"week\"\n\t\t\t\t\t\t\tvalue={this.state.week}\n\t\t\t\t\t\t\teditable\n\t\t\t\t\t\t\toptions={[0, 1, 2, 3, 4, 5, 6, 7, 8].map(n => { return { label: n === 0 ? \"Basisrooster\" : \"Week \" + n, value: n + \"\" } })}\n\t\t\t\t\t\t\tonChange={this.handleFilterChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</Paper>\n\t\t\t\t{content}\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nexport default Taxi;\n\n\n","import React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { connect } from 'react-redux';\nimport { toggleMenu } from '../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport PersonIcon from '@material-ui/icons/Person';\nimport List from '@material-ui/core/List';\n\n\nclass Header extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { anchorEl: null };\n\t}\n\n\tlogoClick = () => {\n\t\tthis.props.history.push(\"/\");\n\t}\n\n\t\n\trender() {\n\t\treturn (\n\t\t\t<AppBar className=\"Header\">\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<IconButton color=\"inherit\" aria-label=\"Menu\" onClick={this.props.toggleMenu} style={{position:\"absolute\"}} >\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<img src=\"/images/logo_qhighschool.svg\" alt=\"QHighschool Logo\" style={{height:\"60%\",margin:\"auto\",maxHeight:\"52px\", cursor:\"pointer\" }} onClick={this.logoClick} />\n\t\t\t\t\t<List color=\"inherit\" style={{ top:15,right: 20, position: \"absolute\"}} onClick={this.handleClick}>\n\t\t\t\t\t\t<PersonIcon style={{transform:\"scale(1.5)\",marginRight:\"10px\",float:\"left\"}}/>\n\t\t\t\t\t\t<span className=\"HiddenOnMobile\">\n\t\t\t\t\t\t\t{this.props.displayName}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</List>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\tif (state.userId != null) {\n\t\treturn {\n\t\t\tdisplayName: state.users[state.userId].displayName,\n\t\t\tuserId: state.userId,\n\t\t};\n\t}\n\treturn {\n\t\tdisplayName: \"\",\n\t\tuserId: state.userId,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\ttoggleMenu: () => dispatch(toggleMenu()),\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));\n\n\n\n","import React, { Component } from 'react';\nimport {IconButton, Snackbar, SnackbarContent} from '@material-ui/core/';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router\";\n\nimport theme from '../lib/MuiTheme'\nimport { removeNotification } from '../store/actions';\n\nclass NotificationBar extends Component {\n\n\n\tremoveNotification = (key) => {\n\t\tthis.props.removeNotification(this.props.notifications[key]);\n\t}\n\n\trender() {\n\t\tlet notifications = this.props.notifications.map((not,key) => {\n\t\t\tlet color;\n\t\t\tswitch (not.priority) {\n\t\t\t\tcase \"high\":\n\t\t\t\t\tcolor = theme.palette.error.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"medium\":\n\t\t\t\t\tcolor = \"#ff8c00\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"light\":\n\t\t\t\tdefault:\n\t\t\t\t\tcolor = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<Snackbar\n\t\t\t\tkey={key}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t  vertical: \"bottom\",\n\t\t\t\t  horizontal: \"right\"\n\t\t\t\t}}\n\t\t\t\topen={true}\n\t\t\t\tstyle = {{position:\"relative\"}}\n\t\t\t\tTransitionProps={{direction:\"left\"}}\n\t\t\t  >\n\t\t\t  <SnackbarContent\n\t\t\t  \tstyle={{background:color, marginBottom:\"4px\"}}\n\t\t\t\t\tmessage={<span id=\"message-id\">{not.message}</span>}\n\t\t\t\t\taction={[\n\t\t\t\t  <IconButton key=\"close\"\n\t\t\t\t\t\tonClick={() => {this.removeNotification(key)}} >\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t  </IconButton>\n\t\t\t\t]} />\n\t\t\t  </Snackbar>\t\t\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div style={{position:\"fixed\", bottom:0, right:0, width:\"auto\", zIndex:10}}>\n\t\t\t\t{notifications}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state,ownProps) {\n\tlet notifications = state.notifications.filter((not) => {\n\t\ttry {\n\t\t\treturn not.type === \"bar\" && new RegExp(not.scope).test(ownProps.location.pathname);\n\t\t} catch (err) {\n\t\t\treturn true;\n\t\t}\n\t});\n\treturn {\n\t\tnotifications: notifications,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tremoveNotification: (notification) => dispatch(removeNotification(notification)),\n\t};\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(NotificationBar));","import React, { Component } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport AssessmentIcon from '@material-ui/icons/Assessment';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport GroupIcon from '@material-ui/icons/Group';\nimport PersonIcon from '@material-ui/icons/Person';\nimport ExitIcon from '@material-ui/icons/ExitToApp';\nimport LocalTaxiIcon from '@material-ui/icons/LocalTaxi';\nimport BuildIcon from '@material-ui/icons/Build';\nimport ViewColumnIcon from '@material-ui/icons/ViewColumn';\nimport NotificationBadge from './NotificationBadge';\n\nimport Paper from '@material-ui/core/Paper';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Typography from '@material-ui/core/Typography';\nimport theme from '../lib/MuiTheme';\nimport $ from \"jquery\";\n\nclass Menu extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t\tswitch (this.props.role) {\n\t\t\tcase \"student\":\n\t\t\t\tthis.state.pages = [\"aanbod\", \"portfolio\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tcase \"teacher\":\n\t\t\t\tthis.state.pages = [\"groepen\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tcase \"admin\":\n\t\t\t\tthis.state.pages = [\"groepen\", \"aanbod\", \"profiel\", \"gegevens\", \"taxi\", \"beheer\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tcase \"grade_admin\":\n\t\t\t\tthis.state.pages = [\"aanbod\", \"gegevens\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.state.pages = [\"aanbod\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tlogout() {\n\t\treturn $.ajax({\n\t\t\turl: \"/auth/logout\",\n\t\t\ttype: \"get\",\n\t\t\tdataType: \"json\",\n\t\t}).then(() => {\n\t\t\tdocument.location.reload();\n\t\t});\n\t}\n\n\tonClick(page) {\n\t\tif (page === \"profiel\")\n\t\t\tthis.props.history.push(\"/gebruiker/\" + this.props.userId);\n\t\telse if (page === \"loguit\") {\n\t\t\tthis.logout();\n\t\t}\n\t\telse\n\t\t\tthis.props.history.push(\"/\" + page);\n\t}\n\n\n\tgetIcon(iconName, color) {\n\t\tlet c = \"black\";\n\t\tif (theme.palette[color]) {\n\t\t\tc = theme.palette[color].main;\n\t\t}\n\t\tswitch (iconName) {\n\t\t\tcase \"Assignment\":\n\t\t\t\treturn <AssignmentIcon style={{ color: c }} />;\n\t\t\tcase \"Group\":\n\t\t\t\treturn <GroupIcon style={{ color: c }} />;\n\t\t\tcase \"Assessment\":\n\t\t\t\treturn <AssessmentIcon style={{ color: c }} />;\n\t\t\tcase \"Person\":\n\t\t\t\treturn <PersonIcon style={{ color: c }} />;\n\t\t\tcase \"ViewColumn\":\n\t\t\t\treturn <ViewColumnIcon style={{ color: c }} />;\n\t\t\tcase \"Exit\":\n\t\t\t\treturn <ExitIcon style={{ color: \"red\" }} />;\n\t\t\tcase \"Taxi\":\n\t\t\t\treturn <LocalTaxiIcon style={{ color: c }} />;\n\t\t\tcase \"Beheer\":\n\t\t\t\treturn <BuildIcon style={{ color: c }} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\tgetItem(page, index) {\n\t\tconst isCurrentPage = (((\"/\" + page.id) === this.props.location.pathname));\n\t\tlet style = {};\n\t\tif (page.bottom) {\n\t\t\tstyle.position = \"absolute\";\n\t\t\tstyle.bottom = \"0px\";\n\t\t}\n\n\t\tconst color = isCurrentPage ? \"primary\" : \"inherit\";\n\t\tconst icon = (\n\t\t\t<ListItemIcon >\n\t\t\t\t<NotificationBadge scope={page.id}>\n\t\t\t\t\t{this.getIcon(page.icon, color)}\n\t\t\t\t</NotificationBadge>\n\t\t\t</ListItemIcon>\n\t\t);\n\t\treturn (\n\t\t\t<ListItem key={index} button onClick={() => this.onClick(page.id)} style={style}>\n\t\t\t\t{icon}\n\t\t\t\t<Typography variant=\"title\" color={color} className=\"HiddenOnMobile\">\n\t\t\t\t\t{page.title}\n\t\t\t\t</Typography>\n\t\t\t</ListItem>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst pages = [\n\t\t\t{\n\t\t\t\tid: \"aanbod\",\n\t\t\t\ttitle: \"Aanbod\",\n\t\t\t\ticon: \"Assignment\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"groepen\",\n\t\t\t\ttitle: \"Mijn groepen\",\n\t\t\t\ticon: \"Group\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"portfolio\",\n\t\t\t\ttitle: \"Portfolio\",\n\t\t\t\ticon: \"Assessment\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"gegevens\",\n\t\t\t\ttitle: \"Gegevens\",\n\t\t\t\ticon: \"ViewColumn\", // table_chart is more appropriate\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"taxi\",\n\t\t\t\ttitle: \"Taxi\",\n\t\t\t\ticon: \"Taxi\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"beheer\",\n\t\t\t\ttitle: \"Beheer\",\n\t\t\t\ticon: \"Beheer\",\n\t\t\t},\n\t\t];\n\n\t\tconst profile = [\n\t\t\t{\n\t\t\t\tid: \"profiel\",\n\t\t\t\ttitle: \"Profiel\",\n\t\t\t\ticon: \"Person\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"loguit\",\n\t\t\t\ttitle: \"Log uit\",\n\t\t\t\ticon: \"Exit\",\n\t\t\t},\n\t\t];\n\n\t\tconst visiblePages = pages\n\t\t\t.filter(page => this.state.pages.indexOf(page.id) !== -1)\n\t\t\t.map(this.getItem.bind(this));\n\n\t\tconst visibleProfile = profile\n\t\t\t.filter(page => this.state.pages.indexOf(page.id) !== -1)\n\t\t\t.map(this.getItem.bind(this));\n\n\t\treturn (\n\t\t\t<Paper elevation={8} className=\"Menu\">\n\t\t\t\t<List component=\"nav\" style={{ height: \"100%\" }}>\n\t\t\t\t\t{visiblePages}\n\t\t\t\t\t<div style={{ position: \"absolute\", bottom: \"20px\", width: \"100%\" }}>\n\t\t\t\t\t\t{visibleProfile}\n\t\t\t\t\t</div>\n\t\t\t\t</List>\n\t\t\t</Paper >\n\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\tif (state.userId != null) {\n\t\treturn {\n\t\t\tdisplayName: state.users[state.userId].displayName,\n\t\t\tuserId: state.userId,\n\t\t\trole: state.role\n\t\t};\n\n\t}\n\treturn {\n\t\tdisplayName: \"\",\n\t\tuserId: state.userId,\n\t\trole: state.role\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, null)(Menu));\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport map from 'lodash/map';\nimport forEach from 'lodash/forEach';\n\nimport Page from './Page';\nimport Progress from '../components/Progress';\nimport Field from '../components/Field';\nimport Group from './group/Group';\nimport { getSubjects, getGroups, getEnrolLments, getParticipatingGroups } from '../store/actions';\n\nimport { Typography, Divider, Toolbar, Paper } from '@material-ui/core';\nimport queryString from \"query-string\";\n\nclass Portfolio extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\tif (values.filter) {\n\t\t\treturn {\n\t\t\t\t...prevState,\n\t\t\t\tfilter: values.filter\n\t\t\t}\n\t\t} else {\n\t\t\treturn {\n\t\t\t\t...prevState,\n\t\t\t\tfilter: nextProps.role === \"student\" ? \"all\" : \"period\" + nextProps.currentPeriod,\n\t\t\t};\n\t\t}\n\t}\n\n\thandleFilterChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"filter=\" + value,\n\t\t});\n\t};\n\n\torderGroups(groups, compareFunction) {\n\t\tlet orders = {};\n\t\tforEach(groups, group => {\n\t\t\tif (!orders[compareFunction(group)]) {\n\t\t\t\torders[compareFunction(group)] = [];\n\t\t\t}\n\t\t\torders[compareFunction(group)].push(group);\n\t\t});\n\t\treturn map(orders, this.getOrder);\n\t}\n\n\tgetOrder(groups, name) {\n\t\tgroups = map(groups, group =>\n\t\t\t<Group key={group.id}\n\t\t\t\tgroupId={group.id}\n\t\t\t\tdisplay=\"card\" />\n\t\t);\n\n\t\treturn <div key={name} style={{ padding: \"10px\" }}>\n\t\t\t<Field value={name} style={{ type: \"headline\", color: \"secondary\" }} layout={{ area: true }} />\n\t\t\t{groups}\n\t\t\t<Divider style={{ marginTop: \"20px\" }} />\n\t\t</div>\n\t}\n\n\trender() {\n\t\tlet options = [{ label: \"Alle\", value: \"all\" }, { label: \"Blok 1\", value: \"period1\" }, { label: \"Blok 2\", value: \"period2\" }, { label: \"Blok 3\", value: \"period3\" }, { label: \"Blok 4\", value: \"period4\" }];\n\t\tif (this.props.role === \"student\") {\n\t\t\toptions.splice(1, 0, { label: \"Ingeschreven\", value: \"enrolled\" });\n\t\t}\n\n\t\tif (!this.props.groups) {\n\t\t\tthis.props.getParticipatingGroups();\n\t\t}\n\t\tif (!this.props.enrollmentIds) {\n\t\t\tthis.props.getEnrolLments();\n\t\t}\n\t\tlet groupIds = this.props.enrollmentIds || [];\n\t\tif (this.state.filter !== \"enrolled\") {\n\t\t\t/* If filter is not equal to enrolled, participating ids need to be added. \n\t\t\tFrom participating ids we first remove the ones that are already in enrolled ids. \n\t\t\tFinally, after adding participating ids, we filter on period */\n\t\t\tgroupIds = this.props.participatingGroupIds.filter(id => {\n\t\t\t\treturn (groupIds.indexOf(id) === -1);\n\t\t\t}).concat(groupIds).filter(\n\t\t\t\tid => {\n\t\t\t\t\tif (!this.props.groups || !this.props.groups[id]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tswitch (this.state.filter) {\n\t\t\t\t\t\tcase \"period1\":\n\t\t\t\t\t\t\treturn this.props.groups[id].period === 1;\n\t\t\t\t\t\tcase \"period2\":\n\t\t\t\t\t\t\treturn this.props.groups[id].period === 2;\n\t\t\t\t\t\tcase \"period3\":\n\t\t\t\t\t\t\treturn this.props.groups[id].period === 3;\n\t\t\t\t\t\tcase \"period4\":\n\t\t\t\t\t\t\treturn this.props.groups[id].period === 4;\n\t\t\t\t\t\tdefault: // case all \n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\n\t\tlet content;\n\t\tif (!this.props.groups || groupIds.filter(id => this.props.groups[id] == null).length !== 0) {\n\t\t\tcontent = <Progress />;\n\t\t} else {\n\t\t\tcontent = this.orderGroups(groupIds.map(id => this.props.groups[id]), function (group) {\n\t\t\t\treturn group.subjectName;\n\t\t\t});\n\t\t}\n\n\t\treturn <Page>\n\t\t\t<Paper\n\t\t\t\televation={2}\n\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t>\n\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t<Typography variant=\"subheading\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t{this.props.role === \"student\" ? \"Portfolio\" : \"Mijn groepen\"}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"filter\"\n\t\t\t\t\t\tvalue={this.state.filter}\n\t\t\t\t\t\teditable\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tonChange={this.handleFilterChange}\n\t\t\t\t\t/>\n\t\t\t\t</Toolbar>\n\t\t\t</Paper>\n\t\t\t{content}\n\t\t</Page>;\n\t}\n\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tgroups: state.groups,\n\t\tparticipatingGroupIds: state.users[state.userId].participatingGroupIds,\n\t\tenrollmentIds: state.users[state.userId].enrollmentIds,\n\t\trole: state.role,\n\t\tcurrentPeriod: state.currentPeriod,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tgetGroups: () => dispatch(getGroups()),\n\t\tgetEnrolLments: () => dispatch(getEnrolLments()),\n\t\tgetParticipatingGroups: () => dispatch(getParticipatingGroups()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Portfolio);\n\n\n","import React, { Component } from 'react';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport { connect } from 'react-redux';\nimport filter from \"lodash/filter\";\nimport { ClickAwayListener } from '@material-ui/core';\n\nimport Field from '../components/Field';\nimport { getAllUsers } from '../store/actions';\n\nclass Menu extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: \"\",\n\t\t\tuserId: null,\n\t\t\topen: false,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getAllUsers();\n\t}\n\n\tselectUser = (userId, displayName) => {\n\t\tthis.setState({\n\t\t\tinput: displayName,\n\t\t\topen: false,\n\t\t\tuserId: userId,\n\t\t});\n\t\tthis.props.onChange(userId, displayName);\n\t}\n\n\tgetFittingUsers = () => {\n\t\tconst regExp = new RegExp(this.state.input.toLowerCase());\n\t\tlet count = 0;\n\t\treturn filter(this.props.users, (user) => {\n\t\t\tconst v = regExp.test(user.displayName.toLowerCase())\n\t\t\tif (v) {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\treturn v && count < 6;\n\t\t}).map(user => {\n\t\t\treturn (\n\t\t\t\t<MenuItem key={user.id + user.displayName} onClick={() => this.selectUser(user.id, user.displayName)}>\n\t\t\t\t\t{user.displayName}\n\t\t\t\t</MenuItem>\n\t\t\t);\n\t\t});\n\t}\n\n\thandleInput = (value) => {\n\t\tif (this.state.userId) {\n\t\t\tthis.props.onChange(null, null);\n\t\t}\n\t\tthis.setState({\n\t\t\tinput: value,\n\t\t\topen: true,\n\t\t\tuserId: null,\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<ClickAwayListener onClickAway={() => this.setState({ open: false })}>\n\t\t\t\t<span>\n\t\t\t\t\t<Field label=\"Gebruiker\" value={this.state.input} editable onChange={this.handleInput} style={{ margin: \"normal\" }} />\n\t\t\t\t\t<Popper open={this.state.aliasId == null && this.state.open} anchorEl={this.anchorEl} disablePortal >\n\t\t\t\t\t\t<Paper style={{position:\"relative\", zIndex:\"1\"}}>\n\t\t\t\t\t\t\t<MenuList>\n\t\t\t\t\t\t\t\t{this.getFittingUsers()}\n\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Popper>\n\t\t\t\t</span>\n\t\t\t</ClickAwayListener>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tusers: state.users,\n\t}\n}\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetAllUsers: () => dispatch(getAllUsers()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\n\n","import React, { Component } from 'react';\nimport EnsureSecureLogin from '../components/EnsureSecureLogin';\nimport Page from './Page';\nimport map from 'lodash/map';\nimport $ from \"jquery\";\n\nimport { connect } from 'react-redux';\nimport queryString from \"query-string\";\nimport SelectUser from '../components/SelectUser';\nimport { Divider, Toolbar, Button, Paper, Typography } from '@material-ui/core';\nimport Field from '../components/Field';\nimport { getSubjects, setAlias, addNotification, addSubject, addCourse, addGroup } from '../store/actions';\n\nconst initialValues = {\n\tsubject: {\n\t\tname: \"\",\n\t\tdescription: \"\",\n\t},\n\tcourse: {\n\t\tname: \"\",\n\t\tsubjectId: null,\n\t},\n\tgroup: {\n\t\tcourseId: null,\n\t\tteacherId: null,\n\t}\n}\n\nclass ControlPanel extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcourses: [],\n\t\t\taliasId: null,\n\t\t\tsubject: initialValues.subject,\n\t\t\tcourse: initialValues.course,\n\t\t\tgroup: initialValues.group,\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\t...{\n\t\t\t\taddType: values.addType ? values.addType : \"subject\",\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\t$.ajax({\n\t\t\turl: \"api/course/list\",\n\t\t\ttype: \"get\",\n\t\t\tdata: {},\n\t\t\tdataType: \"json\",\n\t\t}).then((courses) => {\n\t\t\tconsole.log(courses);\n\t\t\tthis.setState({\n\t\t\t\tcourses\n\t\t\t});\n\t\t});\n\t\tthis.props.getSubjects();\n\t}\n\n\tloginUsingAlias = () => {\n\t\tthis.props.dispatch(setAlias(this.state.aliasId));\n\t}\n\n\thandleAliasChange = (userId) => {\n\t\tthis.setState({\n\t\t\taliasId: userId,\n\t\t});\n\t}\n\n\tnotification = (typeObjectAdded, success) => {\n\t\tlet typeNames = { \"subject\": \"Vak\", \"course\": \"Module\", \"group\": \"Groep\" };\n\t\ttypeObjectAdded = typeNames[typeObjectAdded];\n\t\tif (success) {\n\t\t\tconsole.log(typeObjectAdded + \" added!\");\n\t\t} else {\n\t\t\tconsole.log(typeObjectAdded + \" not added :(\");\n\t\t}\n\t\t// if ( success ) {\n\t\t// \tthis.props.addNotification(\n\t\t// \t\t{\n\t\t// \t\t\tpriority:\"low\",\n\t\t// \t\t\ttype:\"bar\",\n\t\t// \t\t\tmessage:typeObjectAdded + \"succesvol toegevoegd!\",\n\t\t// \t\t\tscope: \"beheer\",\n\t\t// \t\t}\n\t\t// \t)\n\t\t// } else {\n\t\t// \tthis.props.addNotification(\n\t\t// \t\t{\n\t\t// \t\t\tpriority:\"medium\",\n\t\t// \t\t\ttype:\"bar\",\n\t\t// \t\t\tmessage:\"Er is iets misgegaan. \" + typeObjectAdded + \" is niet toegevoegd.\",\n\t\t// \t\t\tscope:\"beheer\",\n\t\t// \t\t}\n\t\t// \t)\n\t\t// }\n\t}\n\n\tadd(type) {\n\t\tconst typeValues = this.state[type];\n\t\tlet addFunction;\n\t\tswitch (type) {\n\t\t\tcase \"subject\": addFunction = async () => {\n\t\t\t\treturn this.props.addSubject(typeValues.name, typeValues.description).then(success => { return success.success })\n\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase \"course\": addFunction = async () => {\n\t\t\t\treturn this.props.addCourse(typeValues.name, typeValues.subjectId).then(success => { return success.success })\n\t\t\t};\n\t\t\t\tbreak;\n\t\t\tdefault: addFunction = async () => {\n\t\t\t\treturn this.props.addGroup(typeValues.courseId, typeValues.teacherId).then(success => { return success.success })\n\t\t\t}; // group\n\t\t}\n\t\taddFunction().then(success => {\n\t\t\tif (success) {\n\t\t\t\tthis.setState({\n\t\t\t\t\t[type]: initialValues[type],\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.notification(type, success);\n\t\t})\n\t}\n\n\thandleChange = (name, value, type) => {\n\t\tthis.setState(prevState => ({\n\t\t\t[type]: {\n\t\t\t\t...prevState[type],\n\t\t\t\t[name]: value,\n\t\t\t}\n\t\t}))\n\t}\n\n\thandleTypeChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"addType=\" + value,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst subject = this.state.subject;\n\t\tconst course = this.state.course;\n\t\tconst group = this.state.group;\n\t\tconst addType = this.state.addType;\n\t\tconst subjects = this.props.subjects || {};\n\t\tlet courses = this.state.courses;\n\t\tlet addView;\n\t\tswitch (addType) {\n\t\t\tcase \"subject\":\n\t\t\t\taddView = <div>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Naam\"\n\t\t\t\t\t\tvalue={subject.name}\n\t\t\t\t\t\tonChange={(val) => this.handleChange(\"name\", val, \"subject\")}\n\t\t\t\t\t\teditable={true}\n\t\t\t\t\t\tvalidate={{ maxLength: 50 }}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Omschrijving\"\n\t\t\t\t\t\tvalue={subject.description}\n\t\t\t\t\t\tonChange={(event) => this.handleChange(\"description\", event, \"subject\")}\n\t\t\t\t\t\teditable={true}\n\t\t\t\t\t\tvalidate={{ maxLength: 440 }}\n\t\t\t\t\t\tlayout={{ area: true }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\tbreak;\n\t\t\tcase \"course\":\n\t\t\t\taddView = <div >\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Naam\"\n\t\t\t\t\t\tvalue={course.name}\n\t\t\t\t\t\tonChange={(event) => this.handleChange(\"name\", event, \"course\")}\n\t\t\t\t\t\teditable={true}\n\t\t\t\t\t\tvalidate={{ maxLength: 50 }}\n\t\t\t\t\t\tstyle={{ flex: \"1\" }}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Field\n\t\t\t\t\t\tvalue={course.subjectId}\n\t\t\t\t\t\tsubjectId label=\"Vak\"\n\t\t\t\t\t\tonChange={(event) => { this.handleChange(\"subjectId\", event, \"course\") }}\n\t\t\t\t\t\teditable={true}\n\t\t\t\t\t\toptions={map(subjects, (subject) => { return { value: subject.id, label: subject.name } })}\n\t\t\t\t\t\tstyle={{ minWidth: \"200px\" }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\tbreak;\n\t\t\tdefault: //group\n\t\t\t\taddView = <div>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tvalue={group.courseId}\n\t\t\t\t\t\tlabel=\"Module\"\n\t\t\t\t\t\tonChange={(event) => this.handleChange(\"courseId\", event, \"group\")}\n\t\t\t\t\t\teditable={true}\n\t\t\t\t\t\toptions={courses.map((course) => { return { label: course.name, value: course.id } })}\n\t\t\t\t\t\tstyle={{ minWidth: \"200px\" }}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<SelectUser\n\t\t\t\t\t\tvalue={group.teacherId}\n\t\t\t\t\t\tonChange={(userId) => this.handleChange(\"teacherId\", userId, \"group\")}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t}\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<EnsureSecureLogin>\n\t\t\t\t\t<Paper\n\t\t\t\t\t\televation={2}\n\t\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t\t<Typography variant=\"subheading\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\t\tBeheer\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<div style={{ margin: \"10px 0\" }}>\n\t\t\t\t\t\t<SelectUser onChange={this.handleAliasChange} />\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" disabled={this.state.aliasId == null} onClick={this.loginUsingAlias}>Login in met alias</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<div >\n\t\t\t\t\t\t<Typography variant=\"title\" color=\"primary\" style={{ margin: \"18px 12px\", float: \"left\" }}>\n\t\t\t\t\t\t\tNieuw(e):\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Field value={addType} name=\"addType\" editable={true} onChange={this.handleTypeChange} options={[{ value: \"course\", label: \"Module\" }, { value: \"subject\", label: \"Vak\" }, { value: \"group\", label: \"Groep\" }]} style={{ minWidth: \"200px\", maxWidth: \"400px\", type: \"title\" }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{addView}\n\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" style={{ height: \"37px\", margin: \"12px\" }} onClick={() => { this.add(addType) }}> Voeg toe\t</Button>\n\t\t\t\t</EnsureSecureLogin>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsubjects: state.subjects,\n\t\tgroups: state.groups,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\taddSubject: async (name, description) => dispatch(addSubject(name, description)),\n\t\taddCourse: async (name, subjectId) => dispatch(addCourse(name, subjectId)),\n\t\taddGroup: async (courseId, userId) => dispatch(addGroup(courseId, userId)),\n\t\taddNotification: (notification) => dispatch(addNotification(notification)),\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tdispatch: dispatch,\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlPanel);","import React, { Component } from \"react\";\nimport {\n\tRoute,\n\tSwitch,\n\tRedirect,\n\twithRouter,\n} from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { getSelf, addNotification } from './store/actions';\n\nimport Login from \"./pages/Login\";\nimport CourseSelect from \"./pages/CourseSelect\";\nimport Group from \"./pages/group/Group\";\nimport User from \"./pages/user/User\";\nimport DataPage from \"./pages/DataPage\";\nimport Taxi from \"./pages/Taxi\";\n\nimport Header from \"./components/Header\";\nimport NotificationBar from \"./components/NotificationBar\";\nimport Menu from \"./components/Menu\";\nimport Portfolio from \"./pages/Portfolio\";\nimport ControlPanel from \"./pages/ControlPanel\";\n\n\nclass App extends Component {\n\n\tcomponentWillMount() {\n\t\tthis.props.getSelf();\n\t}\n\n\thandleShowMenu() {\n\t\tlet showMenu = this.state.showMenu;\n\t\tthis.setState({\n\t\t\tshowMenu: !showMenu,\n\t\t});\n\t}\n\n\trender() {\n\t\tif (!this.props.userId && this.props.location.pathname !== \"/login\") {\n\t\t\treturn (\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<Header />\n\t\t\t\t\t<NotificationBar />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tlet startPage = \"/groepen\";\n\t\tif ( this.props.role === \"student\" ) {\n\t\t\tstartPage =  \"/aanbod\";\n\t\t} else if ( this.props.role === \"grade_admin\" ){\n\t\t\tstartPage = \"/gegevens\";\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<NotificationBar />\n\t\t\t\t{this.props.showMenu && <Menu />}\n\t\t\t\t<Header />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/login\" component={Login} />\n\t\t\t\t\t<Route path=\"/aanbod\" component={CourseSelect} />\n\t\t\t\t\t<Route path=\"/groep/:groupId\" component={Group} />\n\t\t\t\t\t<Route path=\"/gebruiker/:userId\" component={User} />\n\t\t\t\t\t<Route path=\"/profiel/\" component={User} />\n\t\t\t\t\t<Route path=\"/portfolio/\" component={Portfolio} />\n\t\t\t\t\t<Route path=\"/groepen/\" component={Portfolio} />\n\t\t\t\t\t<Route path=\"/gegevens/\" component={DataPage} />\n\t\t\t\t\t<Route path=\"/taxi/\" component={Taxi} />\n\t\t\t\t\t<Route path=\"/beheer/\" component={ControlPanel} />\n\t\t\t\t\t<Redirect push to={this.props.role === \"student\" ? \"/aanbod\" : \"/groepen\"} />\n\t\t\t\t\t<Redirect push to={startPage} />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tshowMenu: state.showMenu,\n\t\trole: state.role,\n\t\tuserId: state.userId,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSelf: () => dispatch(getSelf()),\n\t\taddNotification: (notification) => dispatch(addNotification(notification)),\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n","import React, { Component } from \"react\";\n\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport theme from './MuiTheme';\nimport App from '../App';\n\nclass GlobalProvider extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Provider store={this.props.store}>\n\t\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t\t<BrowserRouter>\n\t\t\t\t\t\t<App />\n\t\t\t\t\t</BrowserRouter>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\nexport default GlobalProvider;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose as reduxCompose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport reducer from './store/mainReducer';\nimport GlobalProvider from './lib/GlobalProvider';\nimport \"./layout.css\";\nrequire('typeface-roboto');\n\nconst compose = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || reduxCompose;\nconst store = createStore(\n  reducer,\n  compose(\n    applyMiddleware(thunk),\n  ),\n);\n\nReactDOM.render(\n\t<GlobalProvider store={store} />,\n\tdocument.getElementById('root'));\n"],"sourceRoot":""}