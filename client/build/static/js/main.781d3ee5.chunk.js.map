{"version":3,"sources":["store/usersReducer.js","store/groupsReducer.js","store/mainReducer.js","lib/MuiTheme.js","components/Field.js","store/actions.js","pages/Login.js","pages/Page.js","components/Progress.js","pages/group/EnrollmentPopup.js","pages/group/ChooseButton.js","components/EnsureSecureLogin.js","pages/group/Evaluation.js","pages/group/GroupCard.js","pages/user/UserRow.js","pages/user/UserPage.js","pages/user/UserCard.js","pages/user/User.js","pages/group/PresenceTable.js","pages/group/Lesson.js","pages/user/UserList.js","components/PageLeaveWarning.js","pages/group/GroupData.js","components/NotificationBadge.js","components/SelectUser.js","pages/group/GroupPage.js","pages/group/Group.js","pages/CourseSelect.js","pages/DataPage.js","pages/Taxi.js","components/Header.js","components/NotificationBar.js","components/Menu.js","pages/Portfolio.js","pages/ControlPanel.js","App.js","lib/GlobalProvider.js","index.js"],"names":["DEFAULT_USERS","usersReducer","users","arguments","length","undefined","action","type","newUsers","x","Object","objectSpread","defineProperty","user","id","userId","enrollmentIds","concat","groupId","index","indexOf","toConsumableArray","slice","DEFAULT_GROUPS","groups","group","DEFAULT_STATE","enrollableGroups","currentPeriod","enrollmentPeriod","schoolYear","subjects","showMenu","notifications","hasFetched","mainReducer","state","role","secureLogin","notification","menuState","call","method","data","lessons","lessonId","userStatus","groupsReducer","theme","createMuiTheme","breakpoints","keys","values","xs","sm","md","lg","xl","direction","mixins","toolbar","minHeight","@media (min-width:0px) and (orientation: landscape)","@media (min-width:600px)","overrides","palette","common","black","white","primary","main","contrastText","light","dark","secondary","error","grey","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","contrastThreshold","tonalOffset","text","disabled","hint","divider","background","paper","default","active","hover","hoverOpacity","selected","disabledBackground","props","shadows","typography","fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","display4","fontWeight","letterSpacing","lineHeight","marginLeft","color","display3","display2","display1","headline","title","subheading","body2","body1","caption","button","textTransform","transitions","easing","easeInOut","easeOut","easeIn","sharp","duration","shortest","shorter","short","standard","complex","enteringScreen","leavingScreen","spacing","zIndex","mobileStepper","appBar","drawer","modal","snackbar","tooltip","Field","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","onChange","event","target","value","menuItems","endAdornment","style","layout","label","multiline","fullWidth","options","disableUnderline","underline","margin","marginPx","classNames","alignment","float","textAlign","push","area","editable","labelVisible","a","filter","opt","map","option","react_default","createElement","MenuItem_default","key","unit","InputAdornment_default","position","field","TextField_default","className","join","select","flex","InputProps","inputProps","td","nextProps","prevState","validate","rules","test","isNaN","replace","min","parseFloat","max","notEmpty","maxLength","React","Component","apiErrorHandler","endpoint","dispatch","responseJSON","Math","random","priority","message","scope","fetchData","_x","_x2","_x3","_x4","_x5","_x6","_fetchData","apply","_callee","getState","forceArray","f","i","o","regenerator_default","wrap","_context","prev","next","abrupt","Promise","reject","Error","$","ajax","url","dataType","then","list","Array","isArray","keyBy","catch","stop","getSubjects","getGroups","isUserMissingInfo","year","level","profile","preferedEmail","phoneNumber","getSelf","addNotification","missing","addMissingInfoNotifications","window","navigator","userAgent","sticky","testIE","removeNotification","location","pathname","setCookie","search","document","href","toggleMenu","getEnrolLments","enrollments","addSubject","name","description","addCourse","subjectId","addGroup","courseId","mainTeacherId","cname","cvalue","exhours","d","Date","setTime","getTime","expires","toUTCString","cookie","relogSecure","Login","generateEmail","bind","interval","setInterval","school","schoolShort","studentNumber","floor","setState","clearInterval","Typography_default","variant","overflow","history","Paper_default","elevation","padding","gutterBottom","generateColoredEmail","Button_default","size","onClick","login","withRouter","connect","email","password","Page","children","Progress","isShowing","_this2","timeout","setTimeout","clearTimeout","CircularProgress_default","EnrollmentPopup","Dialog_default","open","keepMounted","DialogContent_default","DialogContentText_default","day","display","chosenDayGroupName","DialogActions_default","DialogTitle_default","courseName","handlePopup","Clear_default","_this3","_this4","remarks","preventPopupClose","page","getRemarkPage","getCancelPage","getDuplicatePage","getConfirmPage","hasChosen","hasChosenDay","ChooseButton","getEnrollableGroups","dialogOpen","preventClose","doEnroll","toggleEnrollment","dialog","group_EnrollmentPopup","loading","components_Progress","canChoose","period","ownProps","forEach","e","EnsureSecureLogin","marginTop","components_Field","EVALUATION_FORMATS","getEvaluationColor","ev","assesment","Evaluation","evaluation","student","EvaluationTab","onSortChange","sortValue","sortDirection","handleSingleChange","newEv","newEvaluations","evaluations","handleChange","sortEvaluations","sort","b","cmp","displayName","newValue","alignItems","paddingRight","paddingLeft","evComps","index_es","component","Evaluation_Evaluation","explanation","components_EnsureSecureLogin","width","backgroundColor","enterDelay","placement","handleEvaluationTypeChange","GroupCard","expand","group_ChooseButton","onMouseEnter","onMouseLeave","invisible","badgeContent","maxHeight","cursor","subjectName","height","enrollableFor","courseDescription","getBottomSection","number","numberWithoutCharacters","substr","match","exec","justifyContent","firstName","lastName","formatPhoneNumber","profiles","levels","UserPage","JSON","stringify","shouldFillIn","ownProfile","pages_Page","Divider_default","hasChanged","save","setUser","CARD_STYLE","verticalAlign","User","notExists","user_UserPage","UserRow","actions","marginRight","UserCard","s","queryString","parse","setSecureLogin","from","beforeLoginPath","ca","decodeURIComponent","split","c","charAt","substring","getCookie","params","PresenceTable","createRow","participantId","content","lesson","p","presence","createPresenceComponent","status","user_User","createLessonHeader","numberInBlock","rows","participantIds","partId","unshift","Lesson","marginBottom","mini","setPresenceUserStatus","courseGroupId","flexDirection","kind","subject","activities","getWeekdayString","date","getDay","getDate","getMonth","getFullYear","userIsMemberOfGroup","getOptOutButton","UserList","getHeader","headerTitle","sortIds","userIds","toLowerCase","toString","header","PageLeaveWarning","giveWarning","onbeforeunload","returnValue","Prompt","when","GroupData","handleClickAway","anchorEl","showTeacherCard","currentTarget","top","right","teacherName","studyTime","Popover_default","onClose","anchorOrigin","horizontal","vertical","teacherId","colorPrimary","colorSecondary","colorError","NotificationBadge","classes","tooltipMessage","j","Badge_default","withStyles","not","RegExp","err","SelectUser","selectUser","input","getFittingUsers","regExp","count","v","handleInput","getAllUsers","onClickAway","Popper_default","aliasId","disablePortal","MenuList_default","GroupPage","acceptEnrollment","addParticipant","addNewParticipant","newParticipant","participatingRole","handleNewParticipantRoleChange","handleNewParticipantIdChange","handleLessonChange","handleEvaluationChange","handlePresenceChange","presenceObj","setEditable","cancel","setGroup","handleTab","newTab","tabs","openCertificate","_ref","currentTab","user_UserList","0","group_Lesson","components_SelectUser","includes","group_PresenceTable","Evaluation_EvaluationTab","getData","getGroupEnrollments","getGroupLessons","getGroupParticipants","getGroupPresence","getGroupEvaluations","group_GroupData","assign","isCertificateWorthy","AppBar_default","Tabs_default","indicatorColor","textColor","centered","tab","Tab_default","components_NotificationBadge","getCurrentTab","components_PageLeaveWarning","Group","getGroup","group_GroupPage","pages_group_GroupCard","participatingGroupIds","getCourse","getCourseGroup","oldCourse","newCourse","oldCourseGroup","newCourseGroup","oldLessons","newLessons","oldPresence","newPresence","oldEvaluations","changedPresenceObjs","changedEvaluations","parseInt","participants","CourseSelect","handleSortChange","handlePeriodChange","handleYearChange","leerjaar","ListItem_default","ListItemText_default","minWidth","subjectsComponents","getMenuItem","enrolledGroupsIds","group_Group","enrolledGroups","getGroupsPerSubject","Toolbar_default","List_default","getMenuItems","_queryString$parse","blok","vak","splitValues","DataPage","componentDidMount","tables","splitTable","handleFilterChange","tableSortColumns","tableIndex","table","column","order","tableSortDirections","columnIndex","splitValue","splitIndex","findIndex","_loop","halfSplitTable","downloadTables","workbook","Excel","Workbook","sheet","addWorksheet","addRows","getColumn","filename","toLocaleDateString","downloadWorkbook","fileName","xlsx","writeBuffer","base64","xls64","Blob","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","console","log","forceCellWidth","cellName","_","row","rowIndex","cell","Taxi","fetchSchedules","schedules","week","dangerouslySetInnerHTML","__html","n","Header","logoClick","IconButton_default","aria-label","Menu_default","src","alt","handleClick","Person_default","transform","NotificationBar","TransitionProps","Close_default","bottom","Menu","pages","reload","logout","iconName","Assignment_default","Group_default","Assessment_default","ViewColumn_default","ExitToApp_default","LocalTaxi_default","Build_default","isCurrentPage","icon","ListItemIcon_default","getIcon","visiblePages","getItem","visibleProfile","Portfolio","compareFunction","orders","getOrder","splice","getParticipatingGroups","groupIds","orderGroups","ControlPanel","mapPageToListItem","pageName","handlePageChange","toUpperCase","getContent","ControlPanel_Alias","ControlPanel_Subject","ControlPanel_Course","ControlPanel_Group","courses","Alias","Subject","_this5","_this6","Course","_this7","_this8","course","_this9","_this10","_addSubject2","asyncToGenerator","mark","_addCourse2","_callee2","_context2","_addGroup2","_callee3","_context3","App","startPage","getStartPage","components_NotificationBar","components_Menu","components_Header","Switch","Route","path","Redirect","to","GlobalProvider","react_redux_es","store","styles","BrowserRouter","src_App","require","compose","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","reduxCompose","createStore","reducer","applyMiddleware","thunk","ReactDOM","render","lib_GlobalProvider","getElementById"],"mappings":"4TAAMA,EAAgB,GAuDPC,MApDf,WAAqD,IAA/BC,EAA+BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAvBH,EAAeM,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpD,OAAQC,EAAOC,MACd,IAAK,eACJ,IAAMC,EAAWN,EACjB,IAAK,IAAMO,KAAKH,EAAOJ,MACtBM,EAASC,GAATC,OAAAC,EAAA,EAAAD,CAAA,GAAmBF,EAASC,GAAOH,EAAOJ,MAAMO,IAEjD,OAAOD,EACR,IAAK,cACJ,OAAOE,OAAAC,EAAA,EAAAD,CAAA,GACHR,EADJQ,OAAAE,EAAA,EAAAF,CAAA,GAEEJ,EAAOO,KAAKC,GAFdJ,OAAAC,EAAA,EAAAD,CAAA,GAGKR,EAAMI,EAAOO,KAAKC,IAClBR,EAAOO,QAGb,IAAK,qBACJ,GAAsB,QAAlBP,EAAOA,OACV,OAAOI,OAAAC,EAAA,EAAAD,CAAA,GACHR,EADJQ,OAAAE,EAAA,EAAAF,CAAA,GAEEJ,EAAOS,OAFTL,OAAAC,EAAA,EAAAD,CAAA,GAGKR,EAAMI,EAAOS,QAHlB,CAIEC,eAAgBd,EAAMI,EAAOS,QAAQC,eAAiB,IAAIC,OAAOX,EAAOY,aAI3E,GAAsB,WAAlBZ,EAAOA,OAAqB,CAC/B,IAAMa,EAAQjB,EAAMI,EAAOS,QAAQC,cAAcI,QAAQd,EAAOY,SAChE,OAAOR,OAAAC,EAAA,EAAAD,CAAA,GACHR,EADJQ,OAAAE,EAAA,EAAAF,CAAA,GAEEJ,EAAOS,OAFTL,OAAAC,EAAA,EAAAD,CAAA,GAGKR,EAAMI,EAAOS,QAHlB,CAIEC,cAAa,GAAAC,OAAAP,OAAAW,EAAA,EAAAX,CACTR,EAAMI,EAAOS,QAAQC,cAAcM,MAAM,EAAGH,IADnCT,OAAAW,EAAA,EAAAX,CAETR,EAAMI,EAAOS,QAAQC,cAAcM,MAAMH,EAAQ,SAKxD,OAAOT,OAAAC,EAAA,EAAAD,CAAA,GACHR,EADJQ,OAAAE,EAAA,EAAAF,CAAA,GAEEJ,EAAOS,OAFTL,OAAAC,EAAA,EAAAD,CAAA,GAGKR,EAAMI,EAAOS,QAHlB,CAIEC,cAAeV,EAAOU,kBAGzB,QACC,OAAOd,IClDJqB,EAAiB,GAqBRtB,MAlBf,WAAuD,IAAjCuB,EAAiCrB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAxBoB,EAAgBjB,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtD,OAAQC,EAAOC,MACd,IAAK,gBACJ,OAAOG,OAAAC,EAAA,EAAAD,CAAA,GAAKJ,EAAOkB,OAAUA,GAC9B,IAAK,eACJ,OAAOd,OAAAC,EAAA,EAAAD,CAAA,GACFc,EADLd,OAAAE,EAAA,EAAAF,CAAA,GAEGJ,EAAOmB,MAAMX,GAFhBJ,OAAAC,EAAA,EAAAD,CAAA,GAGMc,EAAOlB,EAAOmB,MAAMX,IACpBR,EAAOmB,SAGd,QACC,OAAOD,ICbJE,EAAgB,CACrBX,OAAQ,KACRY,iBAAkB,KAClBC,cAAe,EACfC,iBAAkB,EAClBC,WAAY,YACZC,SAAU,KACVP,OAAQ,KACRtB,MAAO,KACP8B,UAAU,EACVC,cAAe,GACfC,WAAY,IA6DEC,MA1Df,WAAoD,IAA/BC,EAA+BjC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAvBuB,EAAepB,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnD,OAAQC,EAAOC,MACd,IAAK,WACJ,OAAOG,OAAAC,EAAA,EAAAD,CAAA,GACH0B,EADJ,CAECrB,OAAQT,EAAOO,KAAKC,GACpBuB,KAAM/B,EAAOO,KAAKwB,KAClBJ,cAAa,GAAAhB,OAAAP,OAAAW,EAAA,EAAAX,CAAM0B,EAAMH,eAAZvB,OAAAW,EAAA,EAAAX,CAA8BJ,EAAOO,KAAKoB,gBACvD/B,MAAMQ,OAAAC,EAAA,EAAAD,QAAAE,EAAA,EAAAF,CAAA,GACJJ,EAAOO,KAAKC,GAAKR,EAAOO,MACtBuB,EAAMlC,SAGZ,IAAK,mBACJ,OAAOQ,OAAAC,EAAA,EAAAD,CAAA,GACH0B,EADJ,CAECE,YAAahC,EAAOgC,cAEtB,IAAK,mBACJ,OAAO5B,OAAAC,EAAA,EAAAD,CAAA,GACH0B,EADJ,CAECH,cAAa,GAAAhB,OAAAP,OAAAW,EAAA,EAAAX,CAAM0B,EAAMH,eAAZ,CAA2B3B,EAAOiC,iBAEjD,IAAK,sBACJ,IAAMpB,EAAQiB,EAAMH,cAAcb,QAAQd,EAAOiC,cACjD,OAAO7B,OAAAC,EAAA,EAAAD,CAAA,GACH0B,EADJ,CAECH,cAAa,GAAAhB,OAAAP,OAAAW,EAAA,EAAAX,CACT0B,EAAMH,cAAcX,MAAM,EAAGH,IADpBT,OAAAW,EAAA,EAAAX,CAET0B,EAAMH,cAAcX,MAAMH,EAAQ,OAGxC,IAAK,cACJ,OAAwB,MAApBb,EAAOkC,UACH9B,OAAAC,EAAA,EAAAD,CAAA,GAAK0B,EAAZ,CAAmBJ,SAAU1B,EAAOkC,YAE7B9B,OAAAC,EAAA,EAAAD,CAAA,GAAK0B,EAAZ,CAAmBJ,UAAWI,EAAMJ,WAEtC,IAAK,cACJ,OAAOtB,OAAAC,EAAA,EAAAD,CAAA,GAAK0B,EAAZ,CAAmBF,WAAU,GAAAjB,OAAAP,OAAAW,EAAA,EAAAX,CAAM0B,EAAMF,YAAZ,CAAwB,CAAEO,KAAMnC,EAAOmC,KAAMC,OAAQpC,EAAOoC,OAAQC,KAAMrC,EAAOqC,UAC/G,IAAK,2BACJ,OAAOjC,OAAAC,EAAA,EAAAD,CAAA,GAAK0B,EAAZ,CAAmBT,iBAAkBrB,EAAOqB,mBAC7C,IAAK,kBACJ,OAAOjB,OAAAC,EAAA,EAAAD,CAAA,GAAK0B,EAAZ,CAAmBL,SAASrB,OAAAC,EAAA,EAAAD,CAAA,GAAM0B,EAAML,SAAazB,EAAOyB,YAC7D,IAAK,8BACJ,IAAIa,EAAUR,EAAMZ,OAAOlB,EAAOY,SAAS0B,QAE3C,OADAA,EAAQtC,EAAOuC,UAAUC,WAAaxC,EAAOwC,WACtCpC,OAAAC,EAAA,EAAAD,CAAA,GAAK0B,EAAZ,CAAmBQ,YACpB,QACC,OAAOlC,OAAAC,EAAA,EAAAD,CAAA,GACH0B,EADJ,CAEClC,MAAOD,EAAamC,EAAMlC,MAAOI,GACjCkB,OAAQuB,EAAcX,EAAMZ,OAAQlB,qECiMzB0C,EAnPDC,yBAAe,CAC5BC,YAAe,CACdC,KAAQ,CACP,KACA,KACA,KACA,KACA,MAEDC,OAAU,CACTC,GAAM,EACNC,GAAM,IACNC,GAAM,IACNC,GAAM,KACNC,GAAM,OAGRC,UAAa,MACbC,OAAU,CACTC,QAAW,CACVC,UAAa,GACbC,sDAAuD,CACtDD,UAAa,IAEdE,2BAA4B,CAC3BF,UAAa,MAIhBG,UAAa,GACbC,QAAW,CACVC,OAAU,CACTC,MAAS,OACTC,MAAS,QAEV7D,KAAQ,QACR8D,QAAW,CACVC,KAAQ,UACRC,aAAgB,OAChBC,MAAS,oBACTC,KAAQ,oBAQTC,UAAa,CACZJ,KAAQ,UACRC,aAAgB,OAChBC,MAAS,UACTC,KAAQ,WAETE,MAAS,CACRH,MAAS,UACTF,KAAQ,UACRG,KAAQ,UACRF,aAAgB,QAEjBK,KAAQ,CACPC,GAAM,UACNC,IAAO,UACPC,IAAO,UACPC,IAAO,UACPC,IAAO,UACPC,IAAO,UACPC,IAAO,UACPC,IAAO,UACPC,IAAO,UACPC,IAAO,UACPC,KAAQ,UACRC,KAAQ,UACRC,KAAQ,UACRC,KAAQ,WAETC,kBAAqB,EACrBC,YAAe,GACfC,KAAQ,CACPxB,QAAW,sBACXK,UAAa,sBACboB,SAAY,sBACZC,KAAQ,uBAETC,QAAW,sBACXC,WAAc,CACbC,MAAS,OACTC,QAAW,WAEZ7F,OAAU,CACT8F,OAAU,sBACVC,MAAS,sBACTC,aAAgB,IAChBC,SAAY,sBACZT,SAAY,sBACZU,mBAAsB,wBAGxBC,MAAS,GACTC,QAAW,CACV,OACA,8GACA,8GACA,8GACA,+GACA,+GACA,gHACA,gHACA,gHACA,gHACA,iHACA,iHACA,iHACA,iHACA,iHACA,iHACA,kHACA,kHACA,kHACA,kHACA,mHACA,mHACA,mHACA,mHACA,oHAEDC,WAAc,CACbC,WAAc,6CACdC,SAAY,GACZC,gBAAmB,IACnBC,kBAAqB,IACrBC,iBAAoB,IACpBC,SAAY,CACXJ,SAAY,OACZK,WAAc,IACdN,WAAc,6CACdO,cAAiB,SACjBC,WAAc,YACdC,WAAc,SACdC,MAAS,uBAEVC,SAAY,CACXV,SAAY,SACZK,WAAc,IACdN,WAAc,6CACdO,cAAiB,SACjBC,WAAc,YACdC,WAAc,SACdC,MAAS,uBAEVE,SAAY,CACXX,SAAY,YACZK,WAAc,IACdN,WAAc,6CACdQ,WAAc,YACdC,WAAc,SACdC,MAAS,uBAEVG,SAAY,CACXZ,SAAY,WACZK,WAAc,IACdN,WAAc,6CACdQ,WAAc,YACdE,MAAS,uBAEVI,SAAY,CACXb,SAAY,SACZK,WAAc,IACdN,WAAc,6CACdQ,WAAc,YACdE,MAAS,uBAEVK,MAAS,CACRd,SAAY,YACZK,WAAc,IACdN,WAAc,6CACdQ,WAAc,YACdE,MAAS,uBAEVM,WAAc,CACbf,SAAY,OACZK,WAAc,IACdN,WAAc,6CACdQ,WAAc,QACdE,MAAS,uBAEVO,MAAS,CACRhB,SAAY,WACZK,WAAc,IACdN,WAAc,6CACdQ,WAAc,YACdE,MAAS,uBAEVQ,MAAS,CACRjB,SAAY,WACZK,WAAc,IACdN,WAAc,6CACdQ,WAAc,YACdE,MAAS,uBAEVS,QAAW,CACVlB,SAAY,UACZK,WAAc,IACdN,WAAc,6CACdQ,WAAc,UACdE,MAAS,uBAEVU,OAAU,CACTnB,SAAY,WACZoB,cAAiB,YACjBf,WAAc,IACdN,WAAc,6CACdU,MAAS,wBAGXY,YAAe,CACdC,OAAU,CACTC,UAAa,+BACbC,QAAW,+BACXC,OAAU,6BACVC,MAAS,gCAEVC,SAAY,CACXC,SAAY,IACZC,QAAW,IACXC,MAAS,IACTC,SAAY,IACZC,QAAW,IACXC,eAAkB,IAClBC,cAAiB,MAGnBC,QAAW,EACXC,OAAU,CACTC,cAAiB,IACjBC,OAAU,KACVC,OAAU,KACVC,MAAS,KACTC,SAAY,KACZC,QAAW,+LCwCEC,cAjSd,SAAAA,EAAY/C,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAH,IAClBC,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAA8I,GAAA/G,KAAAkH,KAAMlD,KAyEPqD,SAAW,SAACC,GACXN,EAAKhD,MAAMqD,SAASC,EAAMC,OAAOC,QAzEjCR,EAAKrH,MAAQ,CACZuC,OAAO,GAHU8E,wEA+ElB,IAaIS,EACAC,EAdAF,EAA4B,MAApBN,KAAKlD,MAAMwD,MAAgB,GAAKN,KAAKlD,MAAMwD,MACnDG,EAAQT,KAAKlD,MAAM2D,OAAS,GAC5BC,EAASV,KAAKlD,MAAM4D,QAAU,GAE9BC,EAAQX,KAAKlD,MAAM6D,MACnBxE,GAAW,EACXyE,GAAY,EACZC,GAAY,EAEZC,EAAUd,KAAKlD,MAAMgE,QACrBC,EAAmBN,EAAMO,YAAa,EACtCC,EAASR,EAAMQ,QAAU,OACzBC,EAAW,EAGXC,EAAa,GACjB,GAAInB,KAAKlD,MAAM2D,MAAO,CACrB,OAAQT,KAAKlD,MAAM2D,MAAM7J,MACxB,IAAK,YACJ6J,EAAK1J,OAAAC,EAAA,EAAAD,CAAA,GACD0J,EACApH,EAAM2D,WAAWe,WAEfJ,MAAQtE,EAAMiB,QAAQI,QAAQC,KACpC,MACD,IAAK,SACJ8F,EAAK1J,OAAAC,EAAA,EAAAD,CAAA,GACD0J,EACApH,EAAM2D,WAAWgB,QAEfL,MAAQtE,EAAMiB,QAAQI,QAAQC,KACpC,MACD,IAAK,UACJ8F,EAAM9C,MAAQtE,EAAMiB,QAAQ4B,KAAKnB,UACjC,MACD,QACC0F,EAAM9C,MAAQtE,EAAMiB,QAAQ4B,KAAKxB,QAGnC,OAAQsF,KAAKlD,MAAM2D,MAAM9C,OACxB,IAAK,UACJ8C,EAAM9C,MAAQtE,EAAMiB,QAAQI,QAAQC,KACpC,MACD,IAAK,kBACJ8F,EAAM9C,MAAQtE,EAAMiB,QAAQI,QAAQE,aACpC,MACD,IAAK,YACJ6F,EAAM9C,MAAQtE,EAAMiB,QAAQS,UAAUJ,KACtC,MACD,IAAK,oBACJ8F,EAAM9C,MAAQtE,EAAMiB,QAAQS,UAAUH,aACtC,MACD,IAAK,QACJ6F,EAAM9C,MAAQtE,EAAMiB,QAAQU,MAAML,MAyBrC,GAlByB,UAArB+F,EAAOU,YACVX,EAAMY,MAAQ,QACdZ,EAAMa,UAAY,QAClBH,EAAWI,KAAK,UAEQ,SAArBb,EAAOU,YACVX,EAAMY,MAAQ,QAGXX,EAAOc,OACVX,GAAY,EACZD,GAAY,IAGTZ,KAAKlD,MAAMN,UAAmC,IAAxBwD,KAAKlD,MAAM2E,UAAiC,KAAVnB,GAAyB,MAATA,IAC3EA,EAAQN,KAAKlD,MAAMN,SAGhBwD,KAAKlD,MAAM2E,SACdtF,GAAW,EACX4E,EAAmBN,EAAMO,YAAa,EACtCC,EAASR,EAAMQ,QAAU,aACnB,CAIN,IAH6B,IAAvBR,EAAMiB,eACXf,EAAQ,MAEM,MAAXG,GAAiC,MAAdA,EAAQ,IAAoC,kBAAfA,EAAQ,GAAiB,CAC5E,IAAMa,EAAIb,EAAQc,OAAO,SAACC,GACzB,OAAOA,EAAIvB,QAAUA,IACnB,GACM,MAALqB,IACHrB,EAAQqB,EAAEhB,OAGZG,EAAU,KAsBX,OAnBIA,IACHP,EAAYO,EAAQgB,IAAI,SAAAC,GACvB,MAAsB,kBAAXA,EAETC,EAAAL,EAAAM,cAACC,EAAAP,EAAD,CAAUQ,IAAKJ,EAAOzB,MAAOA,MAAOyB,EAAOzB,OACzCyB,EAAOpB,OAKVqB,EAAAL,EAAAM,cAACC,EAAAP,EAAD,CAAUQ,IAAKJ,EAAQzB,MAAOyB,GAC5BA,MAKDtB,EAAM2B,OACT5B,EAAewB,EAAAL,EAAAM,cAACI,EAAAV,EAAD,CAAgBW,SAAS,OAAO7B,EAAM2B,OAE9CnB,GACP,IAAK,QACJC,EAAW,EACX,MACD,IAAK,SACJA,EAAW,GAKb,IAAMqB,EACLP,EAAAL,EAAAM,cAACO,EAAAb,EAAD,CACCrB,MAAOA,EACPW,OAAO,OACP9E,SAAUA,EACV0E,UAAWA,EACXD,UAAWA,EACX6B,UAAWtB,EAAWuB,KAAK,KAAO,SAClC/B,MAAOA,EACPgC,SAAQ7B,EACRL,MAAK1J,OAAAC,EAAA,EAAAD,CAAA,CAAI6L,KAAM,GAAMnC,EAAhB,CAAuBQ,OAAQC,IACpCf,SAAUH,KAAKG,SACfnF,MAAOgF,KAAKvH,MAAMuC,MAClB6H,WAAY,CACX9B,mBACAN,QACAD,aAAcA,GAA8B,KAC5CsC,WAAY,CACXrC,WAKDF,GAGH,OAAIG,EAAOqC,GAGTf,EAAAL,EAAAM,cAAA,MAAIxB,MAAOA,GACT8B,GAIIA,qDAxOuBS,EAAWC,GAC1C,OAAOlM,OAAAC,EAAA,EAAAD,CAAA,GACHkM,EADJ,CAECjI,QAAOgI,EAAUvB,WAAY5B,EAAMqD,SAASF,EAAU1C,MAAO0C,EAAUE,6CAIzD5C,GAAsC,IAA/B6C,EAA+B3M,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAvB,GAAIsK,EAAmBtK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAT,CAAC8J,GAC7C,OAAQ6C,EAAMvM,MACb,IAAK,cAEJ,IADW,gGACHwM,KAAK9C,GACZ,OAAO,EAER,MACD,IAAK,QAEJ,IADY,yIACH8C,KAAK9C,GACb,OAAO,EAER,MACD,IAAK,UACJ,IAAK,mBAAmB8C,KAAK9C,GAC5B,OAAO,EAER,MACD,IAAK,QACJ,GAAI+C,MAAM/C,GACT,OAAO,EAER,MACD,IAAK,eAEJ,IAAMxJ,EAAIwJ,EAAMgD,QAAQ,MAAO,aAAaA,QAAQ,KAAM,KAAKA,QAAQ,eAAgB,KACvF,GAAU,OAANxM,EACH,OAAO,EAER,GAAIuM,MAAMvM,GACT,OAAO,EAKV,QAAIqM,EAAMI,KACLC,WAAWlD,GAAS6C,EAAMI,SAI3BJ,EAAMM,KACLD,WAAWlD,GAAS6C,EAAMM,SAI3BN,EAAMO,UACI,MAATpD,GAA2B,KAAVA,GAA0B,MAAVA,IAA6C,IAA5BQ,EAAQrJ,QAAQ6I,OAInE6C,EAAMQ,WAAsB,MAATrD,GAClBA,EAAM7J,OAAS0M,EAAMQ,oBApERC,IAAMC,WCD1B,SAASC,EAAgBC,EAAUC,GAClC,OAAO,SAAqBhJ,GAC3B,IAAMiJ,EAAejJ,EAAMiJ,aAa3B,KAZiB,cAAbF,GACHC,EAAS,CACRpN,KAAM,mBACNgC,aAAc,CACbzB,GAAI+M,KAAKC,SACTC,SAAU,OACVxN,KAAM,MACNyN,QAASJ,GAAgBA,EAAajJ,MAAQiJ,EAAajJ,MAAQ,wBACnEsJ,MAAO,OAIJL,GAID,SAAeM,EAAtBC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,OAAAC,EAAAC,MAAA/E,KAAAxJ,sDAAO,SAAAwO,EAAyBjB,EAAUhL,EAAQC,EAAMgL,EAAUiB,EAAUC,GAArE,IAAAC,EAAAC,EAAAC,EAAA,OAAAC,EAAA3D,EAAA4D,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACAP,EAAI,CACTrM,KAAMiL,EACNhL,OAAQA,EACRC,KAAMA,GAEEoM,EAAI,EANP,YAMUA,EAAIH,IAAW1M,WAAW9B,QANpC,CAAA+O,EAAAE,KAAA,YAOCL,EAAIJ,IAAW1M,WAAW6M,IAC1BpM,OAASmM,EAAEnM,MAAQqM,EAAEvM,OAASqM,EAAErM,MAAQuM,EAAEtM,SAAWoM,EAAEpM,OARxD,CAAAyM,EAAAE,KAAA,eAAAF,EAAAG,OAAA,SASGC,QAAQC,OAAO,IAAIC,MAAM,wBAT5B,OAM4CV,IAN5CI,EAAAE,KAAA,sBAYN1B,EAASjN,OAAAC,EAAA,EAAAD,CAAA,GACLoO,EADI,CAEPvO,KAAM,iBAdD4O,EAAAG,OAAA,SAiBCI,IAAEC,KAAK,CACbC,IAAK,QAAUlC,EACfnN,KAAMmC,EACNC,KAAMA,EACNkN,SAAU,SACRC,KAAK,SAACC,GAaR,MAZe,QAAXrN,GAA+B,UAAXA,GAAiC,WAAXA,GAC7CiL,EAAS,CACRpN,KAAM,mBACNgC,aAAc,CACbzB,GAAI+M,KAAKC,SACTC,SAAU,MACVxN,KAAM,MACNyN,QAAS,aACTC,MAAO,MAIF+B,MAAMC,QAAQF,KAAwB,IAAflB,EAAuBqB,IAAMH,EAAM,MAAQA,IACxEI,MAAM1C,EAAgBC,EAAUC,KApC7B,yBAAAwB,EAAAiB,SAAAzB,6BAwCA,SAAS0B,IACf,OAAO,SAAC1C,EAAUiB,GACjBV,EAAU,eAAgB,MAAO,KAAMP,EAAUiB,GAC/CkB,KAAK,SAAC/N,GACN4L,EAAS,CACRpN,KAAM,kBACNwB,eAECoO,MAAM,eAaL,SAASG,IACf,OAAO,SAAC3C,EAAUiB,GACjBV,EAAU,aAAc,MAAO,KAAMP,EAAUiB,GAC7CkB,KAAK,SAACtO,GACNmM,EAAS,CACRpN,KAAM,gBACNiB,aAEC2O,MAAM,eA4BL,SAASI,GAAkB1P,GACjC,GAAIA,GAAsB,YAAdA,EAAKwB,KAAoB,CACpC,IAAKmH,EAAMqD,SAAShM,EAAK2P,KAAM,CAAEjQ,KAAM,UAAW2M,IAAK,EAAGE,IAAK,IAAM,MAAO,WAC5E,IAAK5D,EAAMqD,SAAShM,EAAK4P,MAAO,CAAEpD,UAAU,IAAS,MAAO,mBAC5D,IAAK7D,EAAMqD,SAAShM,EAAK6P,QAAS,CAAErD,UAAU,IAAS,MAAO,UAC9D,IAAK7D,EAAMqD,SAAShM,EAAK8P,cAAe,CAAEpQ,KAAM,UAAY,MAAO,kBACnE,IAAKiJ,EAAMqD,SAAShM,EAAK+P,YAAa,CAAErQ,KAAM,gBAAkB,MAAO,iBAExE,OAAO,EAmCD,SAASsQ,KACf,OAAO,SAAClD,EAAUiB,GACjB,IAAMrM,EAAe,CACpBzB,IAAK,GACLiN,SAAU,MACVxN,KAAM,MACNyN,QAAS,kBACTC,MAAO,KAERN,EAASmD,GAAgBvO,IACzB2L,EAAU,YAAa,MAAO,KAAMP,EAAUiB,GAC5CkB,KAAK,SAACjP,IA3CV,SAAqCA,EAAM8M,GAC1C,IAAMoD,EAAUR,GAAkB1P,GAC9BkQ,GACHpD,EAAS,CACRpN,KAAM,mBACNgC,aAAc,CACbzB,GAAI+M,KAAKC,SACTC,SAAU,OACVxN,KAAM,QACNyN,QAAO,+BAAA/M,OAAiC8P,EAAjC,OACP9C,MAAO,aAkCP+C,CAA4BnQ,EAAM8M,GA5BtC,SAAgBA,GACX,eAAeZ,KAAKkE,OAAOC,UAAUC,YACxCxD,EAAS,CACRpN,KAAM,mBACNgC,aAAc,CACbzB,GAAI+M,KAAKC,SACTC,SAAU,OACVxN,KAAM,MACNyN,QAAS,+HACToD,QAAQ,EACRnD,MAAO,MAmBPoD,CAAO1D,GACPA,EAAS,CACRpN,KAAM,WACNM,SAED8M,EAAS2D,GAAmB/O,MAC1B4N,MAAM,SAACxL,GACTgJ,EAAS2D,GAAmB/O,IACf,MAAToC,GAAiC,yBAAhBA,EAAMA,MACO,WAA7BsM,OAAOM,SAASC,WACnBC,GAAU,kBAAmBR,OAAOM,SAASC,SAAWP,OAAOM,SAASG,OAAQ,IAChFC,SAASJ,SAASK,KAAO,WAG1BjE,EAASkE,IAAW,IACpBlE,EAASmD,GAAgB,CACxBhQ,IAAK,EACLiN,SAAU,OACVxN,KAAM,MACNyN,QAAS,iDA4HR,SAAS8D,KACf,OAAO,SAACnE,EAAUiB,GACjBV,EAAU,mBAAoB,MAAO,KAAMP,EAAUiB,GACnDkB,KAAK,SAACiC,GACNpE,EAAS,CACRpN,KAAM,gBACNiB,OAAQuQ,IAETpE,EAAS,CACRpN,KAAM,qBACNQ,OAAQ6N,IAAW7N,OACnBC,cAAeN,OAAOyC,KAAK4O,OAE1B5B,MAAM,eAoFL,SAASW,GAAgBvO,GAC/B,MAAO,CACNhC,KAAM,mBACNgC,gBAIK,SAAS+O,GAAmB/O,GAClC,MAAO,CACNhC,KAAM,sBACNgC,gBAIK,SAASsP,GAAWrP,GAC1B,MAAO,CACNjC,KAAM,cACNiC,aAqDK,SAASwP,GAAWC,EAAMC,GAChC,OAAO,SAACvE,EAAUiB,GACjB,OAAOV,EAAU,UAAW,MAAO,CAAE+D,OAAMC,cAAa5P,YAAasM,IAAWtM,aAAeqL,EAAUiB,GACvGkB,KAAK,WACLnC,EAAS,CACRpN,KAAM,mBACNgC,aAAc,CACbzB,GAAI+M,KAAKC,SACTC,SAAU,MACVxN,KAAM,MACNyN,QAAS,qCACTC,MAAO,eAON,SAASkE,GAAUF,EAAMG,GAC/B,OAAO,SAACzE,EAAUiB,GACjB,OAAOV,EAAU,SAAU,MAAO,CAAE+D,OAAMG,YAAW9P,YAAasM,IAAWtM,aAAeqL,EAAUiB,GACpGkB,KAAK,WACLnC,EAAS,CACRpN,KAAM,mBACNgC,aAAc,CACbzB,GAAI+M,KAAKC,SACTC,SAAU,MACVxN,KAAM,MACNyN,QAAS,wCACTC,MAAO,eAON,SAASoE,GAASC,EAAUvR,GAClC,OAAO,SAAC4M,EAAUiB,GACjB,OAAOV,EAAU,QAAS,MAAO,CAAEoE,WAAUC,cAAexR,EAAQuB,YAAasM,IAAWtM,aAAeqL,EAAUiB,GACnHkB,KAAK,WACLnC,EAAS,CACRpN,KAAM,mBACNgC,aAAc,CACbzB,GAAI+M,KAAKC,SACTC,SAAU,MACVxN,KAAM,MACNyN,QAAS,uCACTC,MAAO,eAqCN,SAASwD,GAAUe,EAAOC,EAAQC,GACxC,IAAIC,EAAI,IAAIC,KACZD,EAAEE,QAAQF,EAAEG,UAAuB,GAAVJ,EAAe,GAAK,KAC7C,IAAIK,EAAU,WAAaJ,EAAEK,cAC7BrB,SAASsB,OAAST,EAAQ,IAAMC,EAAS,IAAMM,EAAU,UAiBnD,SAASG,KACfzB,GAAU,kBAAmBR,OAAOM,SAASC,SAAWP,OAAOM,SAASG,OAAQ,IAI/EC,SAASJ,SAASK,KAAO,0FC5kBrBuB,eAEL,SAAAA,EAAY1M,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAwJ,IAClB1J,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAyS,GAAA1Q,KAAAkH,KAAMlD,KACDrE,MAAQ,GAFKqH,mFAMlBE,KAAKyJ,cAAcC,KAAK1J,KAAxBA,GACAA,KAAK2J,SAAWC,YAAY5J,KAAKyJ,cAAcC,KAAK1J,MAAO,8CAI3D,IAAI6J,EAAS7J,KAAKvH,MAAMoR,OACpBC,EAAc9J,KAAKvH,MAAMqR,YACzBC,EAAgB/J,KAAKvH,MAAMsR,cAC/B,OAAQ7F,KAAK8F,MAAsB,GAAhB9F,KAAKC,WACvB,KAAK,EACJ0F,EAAS,gBACTC,EAAc,KACd,MACD,KAAK,EACJD,EAAS,SACTC,EAAc,KACd,MACD,KAAK,EACJD,EAAS,WACTC,EAAc,KACd,MACD,KAAK,EACJD,EAAS,aACTC,EAAc,KACd,MACD,KAAK,EACJD,EAAS,iBACTC,EAAc,KACd,MACD,KAAK,EACJD,EAAS,gBACTC,EAAc,KACd,MACD,KAAK,EACJD,EAAS,mBACTC,EAAc,MACd,MACD,KAAK,EACJD,EAAS,mBACTC,EAAc,KACd,MACD,KAAK,EACJD,EAAS,iBACTC,EAAc,KACd,MACD,KAAK,EACJD,EAAS,eACTC,EAAc,KACd,MACD,KAAK,GACJD,EAAS,kBACTC,EAAc,MACd,MACD,KAAK,GACJD,EAAS,UACTC,EAAc,KACd,MACD,KAAK,GACJD,EAAS,eACTC,EAAc,KACd,MACD,KAAK,GACL,QACCD,EAAS,eACTC,EAAc,KAIhB,IAAK,IAAI1E,GADT2E,EAAgB7F,KAAK8F,MAAsB,OAAhB9F,KAAKC,UAAqB,IAC1B1N,OAAQ2O,EAAI,EAAGA,IACzC2E,EAAgB,IAAMA,EAEvB/J,KAAKiK,SAAS,CACbJ,SACAC,cACAC,iEAKDG,cAAclK,KAAK2J,0CAOlB3B,SAASJ,SAASK,KAAO,2DAIN6B,EAAaC,EAAeF,GAChD,OACC7H,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYyI,QAAQ,YAAY3J,MAAO,CAAExD,WAAY,oCAAqCoN,SAAU,WACnGrI,EAAAL,EAAAM,cAAA,QAAMxB,MAAO,CAAE9C,MAAOtE,EAAMiB,QAAQS,UAAUF,MAAO0C,WAAY,SAC/DuM,GAEF9H,EAAAL,EAAAM,cAAA,QAAMxB,MAAO,CAAE9C,MAAOtE,EAAMiB,QAAQS,UAAUD,KAAMyC,WAAY,WAC9DwM,GAEF/H,EAAAL,EAAAM,cAAA,QAAMxB,MAAO,CAAElD,WAAY,SAA3B,QAGAyE,EAAAL,EAAAM,cAAA,QAAMxB,MAAO,CAAE9C,MAAOtE,EAAMiB,QAAQS,UAAUF,MAAO0C,WAAY,SAC/DsM,GAEF7H,EAAAL,EAAAM,cAAA,QAAMxB,MAAO,CAAElD,WAAY,SAA3B,yCAeF,OAPyB,MAArByC,KAAKlD,MAAM1F,QACd4I,KAAKlD,MAAMwN,QAAQ/I,KAAK,KACxBvB,KAAKlD,MAAMoL,YAAW,IAEtBlI,KAAKlD,MAAMoL,YAAW,GAItBlG,EAAAL,EAAAM,cAACsI,GAAA5I,EAAD,CAAO6I,UAAW,EAAG/H,UAAU,QAAQhC,MAAO,CAAEvG,UAAW,UAC1D8H,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAEgK,QAAS,SACtBzI,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAY+I,cAAY,EAACN,QAAQ,QAAQzM,MAAM,WAA/C,UAGAqE,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYyI,QAAQ,aAApB,4CAGApI,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAAA,cACEjC,KAAK2K,qBAAqB,kBAAmB,iBAAkB,UAC/D3K,KAAK2K,qBAAqB3K,KAAKvH,MAAMqR,YAAa9J,KAAKvH,MAAMsR,cAAe/J,KAAKvH,MAAMoR,SAEzF7H,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQ/K,KAAK,SAASwT,QAAQ,YAAYS,KAAK,QAAQlN,MAAM,UAAUkD,WAAS,EAACiK,QAAS9K,KAAK+K,OAA/F,kDAjJelH,aA4KLmH,mBAAWC,YAjB1B,SAAyBxS,GACxB,MAAO,CACNrB,OAAQqB,EAAMrB,SAIhB,SAA4B4M,GAC3B,MAAO,CACN+G,MAAO,SAACG,EAAOC,GACdnH,EAASkE,IAAW,KAErBA,WAAY,SAACzP,GACZuL,EAASkE,GAAWzP,OAKGwS,CAA6CzB,KCnLjE4B,oLAGJ,IAAI3I,EAAY,GAMhB,OALIzC,KAAKlD,MAAMzE,SACdoK,GAAa,YAEbA,GAAa,aAGbT,EAAAL,EAAAM,cAAA,OAAKQ,UAAW,QAAUA,GACxBzC,KAAKlD,MAAMuO,iBAXGxH,aAyBJoH,mBANf,SAAyBxS,GACxB,MAAO,CACNJ,SAAUI,EAAMJ,WAIH4S,CAAyBG,yBCIzBE,eA3Bd,SAAAA,EAAYxO,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAsL,IAClBxL,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAuU,GAAAxS,KAAAkH,KAAMlD,KACDrE,MAAQ,CACZ8S,WAAW,GAHMzL,mFAOC,IAAA0L,EAAAxL,KACnBA,KAAKyL,QAAUC,WAAW,kBAAMF,EAAKvB,SAAS,CAAEsB,WAAW,KAAS,oDAIpEI,aAAa3L,KAAKyL,0CAIlB,OAAIzL,KAAKvH,MAAM8S,UAEbvJ,EAAAL,EAAAM,cAAC2J,GAAAjK,EAAqB3B,KAAKlD,OAGrB,YAvBa+G,wJCmJRgI,eA1Id,SAAAA,EAAY/O,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAA6L,IAClB/L,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAA8U,GAAA/S,KAAAkH,KAAMlD,KACDrE,MAAQ,GAFKqH,kFAmBlB,OACCkC,EAAAL,EAAAM,cAAC6J,GAAAnK,EAAD,CAAQoK,MAAI,EAACC,aAAW,GACvBhK,EAAAL,EAAAM,cAACgK,GAAAtK,EAAD,KACCK,EAAAL,EAAAM,cAACiK,GAAAvK,EAAD,KACCK,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYhE,MAAM,QAAQ8C,MAAO,CAAEvD,SAAU,SAC3C,sCAAwC8C,KAAKlD,MAAMhF,MAAMqU,IAAM,KAFlE,sCAKCnK,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYhE,MAAM,UAAUyM,QAAQ,QAAQ3J,MAAO,CAAEvD,SAAU,OAAQkP,QAAS,eAAgBnL,OAAQ,QACtGjB,KAAKlD,MAAMuP,oBANd,iCAWDrK,EAAAL,EAAAM,cAACqK,GAAA3K,EAAD,KACCK,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQhE,MAAM,UAAUyM,QAAQ,aAAhC,qDAQY,IAAAoB,EAAAxL,KACf,OACCgC,EAAAL,EAAAM,cAAC6J,GAAAnK,EAAD,CAAQoK,MAAI,EAACC,aAAW,GACvBhK,EAAAL,EAAAM,cAACsK,GAAA5K,EAAD,qBAGAK,EAAAL,EAAAM,cAACgK,GAAAtK,EAAD,KACCK,EAAAL,EAAAM,cAACiK,GAAAvK,EAAD,6DAECK,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYhE,MAAM,UAAUyM,QAAQ,QAAQ3J,MAAO,CAAEvD,SAAU,OAAQkP,QAAS,SAAUnL,OAAQ,QAChGjB,KAAKlD,MAAMhF,MAAM0U,YAHpB,OAODxK,EAAAL,EAAAM,cAACqK,GAAA3K,EAAD,KACCK,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQhE,MAAM,WAAd,aAGAqE,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQ2G,KAAK,OAAOwC,QAAS,kBAAMU,EAAK1O,MAAM2P,aAAY,IAAO9O,MAAM,WAAvE,eAECqE,EAAAL,EAAAM,cAACyK,GAAA/K,EAAD,kDAOY,IAAAgL,EAAA3M,KAChB,OACCgC,EAAAL,EAAAM,cAAC6J,GAAAnK,EAAD,CAAQoK,MAAI,EAACC,aAAW,GACvBhK,EAAAL,EAAAM,cAACsK,GAAA5K,EAAD,oBAGAK,EAAAL,EAAAM,cAACgK,GAAAtK,EAAD,KACCK,EAAAL,EAAAM,cAACiK,GAAAvK,EAAD,4DAECK,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYhE,MAAM,UAAUyM,QAAQ,QAAQ3J,MAAO,CAAEvD,SAAU,OAAQkP,QAAS,SAAUnL,OAAQ,QAChGjB,KAAKlD,MAAMhF,MAAM0U,YAHpB,OAODxK,EAAAL,EAAAM,cAACqK,GAAA3K,EAAD,KACCK,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQhE,MAAM,WAAd,aAGAqE,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQ2G,KAAK,OAAOwC,QAAS,kBAAM6B,EAAK7P,MAAM2P,aAAY,IAAOrC,QAAQ,YAAYzM,MAAM,WAA3F,yDAQY,IAAAiP,EAAA5M,KACf,OACCgC,EAAAL,EAAAM,cAAC6J,GAAAnK,EAAD,CAAQoK,MAAI,EAACC,aAAW,GACvBhK,EAAAL,EAAAM,cAACsK,GAAA5K,EAAD,oBAGAK,EAAAL,EAAAM,cAACgK,GAAAtK,EAAD,KACCK,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,KACE3B,KAAKlD,MAAMhF,MAAM+U,UAGpB7K,EAAAL,EAAAM,cAACqK,GAAA3K,EAAD,KACCK,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQhE,MAAM,WAAd,aAGAqE,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQmJ,QAAS,WAChB8B,EAAK9P,MAAMgQ,mBAAkB,GAC7BF,EAAK3C,SAAS,CAAE8C,KAAM,aACpBpP,MAAM,WAHT,6CAaH,OADAqC,KAAKlD,MAAMgQ,mBAAkB,GACrB9M,KAAKvH,MAAMsU,MAClB,IAAK,UACJ,OAAO/M,KAAKgN,gBACb,IAAK,SACJ,OAAOhN,KAAKiN,gBACb,IAAK,eACJ,OAAOjN,KAAKkN,mBACb,IAAK,UACL,QACC,OAAOlN,KAAKmN,qEA/HiBnK,EAAWC,GAC1C,OAAID,EAAUoK,UACNrW,OAAAC,EAAA,EAAAD,CAAA,CAAEgW,KAAM,UAAa9J,GAEzBD,EAAUqK,aACNtW,OAAAC,EAAA,EAAAD,CAAA,CAAEgW,KAAM,gBAAmB9J,GAEJ,MAA3BD,EAAUlL,MAAM+U,SAAmB7J,EAAUlL,MAAM+U,QAAQpW,OAAS,EAChEM,OAAAC,EAAA,EAAAD,CAAA,CAAEgW,KAAM,WAAc9J,GAEvBlM,OAAAC,EAAA,EAAAD,CAAA,CAAEgW,KAAM,WAAc9J,UAjBDY,aCFxByJ,eAEL,SAAAA,EAAYxQ,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAsN,IAClBxN,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAuW,GAAAxU,KAAAkH,KAAMlD,KACDA,MAAMyQ,sBACXzN,EAAKhD,MAAMqL,iBACXrI,EAAKrH,MAAQ,CACZ+U,YAAY,GALK1N,iFASD2N,GACjBzN,KAAKyN,aAAeA,sCAGTC,GACPA,GACH1N,KAAKlD,MAAM6Q,iBAAiB3N,KAAKlD,MAAMhF,OAEnCkI,KAAKyN,cACTzN,KAAKiK,SAAS,CACbuD,YAAaxN,KAAKvH,MAAM+U,8CAKlB,IAAAhC,EAAAxL,KACFlD,EAAQkD,KAAKlD,MACf8Q,EAAS5N,KAAKvH,MAAM+U,WACvBxL,EAAAL,EAAAM,cAAC4L,GAAD,CACC/V,MAAOgF,EAAMhF,MACbsV,UAAWtQ,EAAMsQ,UACjBX,YAAazM,KAAKyM,YAAY/C,KAAK1J,MACnCqN,aAAcvQ,EAAMuQ,aACpBhB,mBAAoBvP,EAAMuP,mBAC1BS,kBAAmB9M,KAAK8M,kBAAkBpD,KAAK1J,QAC3C,KAEN,OAAIlD,EAAMgR,QAER9L,EAAAL,EAAAM,cAAC8L,GAAD,CAAUlD,KAAM,KAId/N,EAAMsQ,UAERpL,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQhE,MAAM,UAAUmN,QAAS,kBAAMU,EAAKiB,aAAY,IAAQhM,MAAO3D,EAAM2D,OAC3E,eACDuB,EAAAL,EAAAM,cAACyK,GAAA/K,EAAD,MACCiM,GAKA5N,KAAKlD,MAAMkR,UAEbhM,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQhE,MAAM,UAAUyM,QAAQ,YAAYU,QAAS,kBAAMU,EAAKiB,aAAY,IAAQhM,MAAOT,KAAKlD,MAAM2D,OACpG,eAAiBT,KAAKlD,MAAMuQ,aAAe,IAAM,IACjDO,GAGO9Q,EAAMhF,MAAMmW,OAASjO,KAAKlD,MAAM5E,iBAEzC8J,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQxF,UAAQ,EAACwB,MAAM,UAAU8C,MAAO3D,EAAM2D,OAA9C,4BAEEmN,GAKF5L,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQxF,UAAQ,EAACwB,MAAM,UAAU8C,MAAO3D,EAAM2D,OAA9C,cAEEmN,UAxEqB/J,aAgHZoH,mBAhCf,SAAyBxS,EAAOyV,GAC/B,GAA+C,MAA3CzV,EAAMlC,MAAMkC,EAAMrB,QAAQC,eAAmD,MAA1BoB,EAAMT,iBAC5D,MAAO,CACN8V,SAAS,GAIX,IAAIzB,GAAsB,EAQ1B,OAPA5T,EAAMlC,MAAMkC,EAAMrB,QAAQC,cAAc8W,QAAQ,SAAA5W,GAC/C,IAAMO,EAAQW,EAAMZ,OAAON,GACvBO,EAAMqU,MAAQ+B,EAASpW,MAAMqU,KAAOrU,EAAMmW,SAAWC,EAASpW,MAAMmW,SACvE5B,EAAqBvU,EAAM0U,cAItB,CACNwB,WAAiF,IAAtEvV,EAAMT,iBAAiB8J,IAAI,SAAAsM,GAAC,OAAIA,EAAEjX,KAAIM,QAAQyW,EAASpW,MAAMX,IACxEiW,WAAmF,IAAxE3U,EAAMlC,MAAMkC,EAAMrB,QAAQC,cAAcI,QAAQyW,EAASpW,MAAMX,IAC1EkW,cAAsC,IAAxBhB,EACdA,qBACAnU,iBAAkBO,EAAMP,mBAI1B,SAA4B8L,GAC3B,MAAO,CACN2J,iBAAkB,SAAC7V,GAAD,OAAWkM,EL4UxB,SAA0BlM,GAChC,OAAO,SAACkM,EAAUiB,IAEF,IADDA,IAAW1O,MAAM0O,IAAW7N,QAAQC,cAAcI,QAAQK,EAAMX,IAE7EoN,EAAU,mBAAoB,MAAO,CAAEhN,QAASO,EAAMX,IAAM6M,EAAUiB,GACpEkB,KAAK,WACLnC,EAAS,CACRpN,KAAM,qBACND,OAAQ,MACRS,OAAQ6N,IAAW7N,OACnBG,QAASO,EAAMX,OAIlBoN,EAAU,mBAAoB,SAAU,CAAEhN,QAASO,EAAMX,IAAM6M,EAAUiB,GACvEkB,KAAK,WACLnC,EAAS,CACRpN,KAAM,qBACND,OAAQ,SACRS,OAAQ6N,IAAW7N,OACnBG,QAASO,EAAMX,QKhWmBwW,CAAiB7V,KACvDyV,oBAAqB,kBAAMvJ,ELmMrB,SAACA,EAAUiB,GACjBV,EAAU,wBAAyB,MAAO,KAAMP,EAAUiB,GAAU,GAClEkB,KAAK,SAACnO,GACNgM,EAAS,CACRpN,KAAM,2BACNoB,uBAECwO,MAAM,iBKzMV2B,eAAgB,kBAAMnE,EAASmE,SAIlB8C,CAA6CqC,ICjHtDe,oLAGJ,OAA4B,IAAtBrO,KAAKlD,MAAML,QAA+C,MAA1BuD,KAAKlD,MAAMnE,YACzCqJ,EAAAL,EAAAM,cAACsI,GAAA5I,EAAD,CAAOlB,MAAO,CAAEgK,QAAS,OAAQ6D,UAAW,SAClDtM,EAAAL,EAAAM,cAACsM,EAAD,CAAOjO,MAAM,uCAAuCI,OAAQ,CAAEc,MAAM,KACpEQ,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQhE,MAAM,UAAUyM,QAAQ,YAAYU,QAASvB,IAArD,aAKMvJ,KAAKlD,MAAMuO,gBAXWxH,aAsBjBoH,mBANf,SAAyBxS,GACxB,MAAO,CACNE,YAAaF,EAAME,cAImB,KAAzBsS,CAA+BoD,ICvBxCG,GAAqB,CAAC,CAC3B7N,MAAO,OACPL,MAAO,QACPQ,QAAS,CAAC,CACTH,MAAO,UACPL,MAAO,UAER,CACCK,MAAO,eACPL,MAAO,UAER,CACCK,MAAO,mBACPL,MAAO,QAGT,CACCK,MAAO,cACPL,MAAO,WACPQ,QAAS,CAAC,CACTH,MAAO,cACPL,MAAO,KAER,CACCK,MAAO,YACPL,MAAO,KAER,CACCK,MAAO,OACPL,MAAO,KAER,CACCK,MAAO,mBACPL,MAAO,QAEN,CACFK,MAAO,SACPL,MAAO,UACPQ,QAAS,YAGV,SAAS2N,GAAmBC,GAC3B,GAAqB,OAAjBA,EAAGC,WAAsC,MAAhBD,EAAGC,UAC/B,MAAO,UAER,OAAQD,EAAG9X,MACV,IAAK,WACJ,MAAO,UACR,IAAK,QACJ,MAAO,UACR,IAAK,UACJ,MAAO,UACR,QACC,MAAO,eAIJgY,oLAGJ,IAAMR,EAAIpO,KAAKlD,MAAM+R,WACjBpO,EAAQ,CACXO,WAAW,EACX4B,KAAM,GAEHlC,EAAS,CAAEqC,IAAI,GAOnB,OANI/C,KAAKlD,MAAMgS,UACdrO,EAAM7J,KAAO,WACb6J,EAAM9C,MAAQ,kBACd+C,EAAOqC,IAAK,EACZrC,EAAOU,UAAY,SAEL,YAAXgN,EAAExX,KACEoL,EAAAL,EAAAM,cAACsM,EAAD,CACN9N,MAAOA,EACPyC,SAAU,CAAEK,IAAK,EAAGE,IAAK,GAAI7M,KAAM,eAAgB8M,UAAU,GAC7DhD,OAAQA,EACRC,MAAM,cACN2H,KAAM8F,EAAEhX,OACRkJ,MAAO8N,EAAEO,UAAYP,EAAEO,UAAY,GACnClN,SAAUzB,KAAKlD,MAAM2E,SACrBtB,SAAUH,KAAKlD,MAAMqD,WAGf6B,EAAAL,EAAAM,cAACsM,EAAD,CACN9N,MAAOA,EACP6H,KAAM8F,EAAEhX,OACRuJ,MAAM,cACND,OAAQA,EACRJ,MAAO8N,EAAEO,UAAYP,EAAEO,UAAY,GACnC7N,QAAS0N,GAAmB5M,OAAO,SAAAuD,GAAC,OAAIA,EAAE7E,QAAU8N,EAAExX,OAAM,GAAGkK,QAC/DW,SAAUzB,KAAKlD,MAAM2E,SACrBtB,SAAUH,KAAKlD,MAAMqD,kBAnCA0D,aA2CnBkL,eAEL,SAAAA,EAAYjS,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAA+O,IAClBjP,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAgY,GAAAjW,KAAAkH,KAAMlD,KAOPkS,aAAe,SAAC1O,GACfR,EAAKmK,SAAS,CACbgF,UAAW3O,EACX4O,cAA4C,SAA7BpP,EAAKrH,MAAMyW,eAA4BpP,EAAKrH,MAAMwW,YAAc3O,EAAQ,MAAQ,UAX9ER,EAenBqP,mBAAqB,SAACC,GACrB,IAAIC,EAAiBvP,EAAKhD,MAAMwS,YAAYxN,IAAI,SAACsM,GAChD,OAAIA,EAAEhX,SAAWgY,EAAMhY,OACfgY,EAEArY,OAAAC,EAAA,EAAAD,CAAA,GAAKqX,KAGdtO,EAAKhD,MAAMyS,aAAaF,IAvBNvP,EAqCnB0P,gBAAkB,WACjB,IAAIF,EAAcxP,EAAKhD,MAAMwS,YACvBL,EAAYnP,EAAKrH,MAAMwW,UACzBC,EAA6C,QAA7BpP,EAAKrH,MAAMyW,cAA0B,MAAQ,OAejE,MAbkB,SAAdD,EACHK,EAAYG,KAAK,SAAC9N,EAAG+N,GACpB,IAAIC,EAAMD,EAAEE,YAAcjO,EAAEiO,YAC5B,MAAyB,QAAlBV,EAA0BS,GAAOA,IAEjB,gBAAdV,GACVK,EAAYG,KAAK,SAAC9N,EAAG+N,GACpB/N,EAAIA,EAAC,UAEL,IAAIgO,GAAa,QADjBD,EAAIA,EAAC,aAC0B,MAAL/N,MAAgBA,EAAI+N,MAAQ/N,EAAI+N,GAC1D,MAAyB,QAAlBR,EAA0BS,GAAOA,IAGnCL,GArDPxP,EAAKrH,MAAQ,CACZwW,UAAW,GACXC,cAAe,IAJEpP,0FA0BQ+P,GAE1B,IADA,IAAIR,EAAiB,GACZjK,EAAI,EAAGA,EAAIpF,KAAKlD,MAAMwS,YAAY7Y,OAAQ2O,IAClDiK,EAAe9N,KAAfxK,OAAAC,EAAA,EAAAD,CAAA,GACIiJ,KAAKlD,MAAMwS,YAAYlK,GAD3B,CAECxO,KAAMiZ,KAEP7P,KAAKlD,MAAMyS,aAAaF,oCAyBjB,IAAA7D,EAAAxL,KACJiP,EAAYjP,KAAKvH,MAAMwW,UACvBC,EAA6C,QAA7BlP,KAAKvH,MAAMyW,cAA0B,MAAQ,OAC3DzO,EAAQ,CACb6N,UAAW,OACXwB,WAAY,SACZC,aAAc,OACdC,YAAa,OACb5D,QAAS,QAEJkD,EAActP,KAAKlD,MAAMwS,YAC/B,GAA2B,IAAvBA,EAAY7Y,OACf,MAAO,6CAER,IAAMwZ,EAAUjQ,KAAKwP,kBACnB1N,IAAI,SAAA4M,GACJ,OACC1M,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAOzP,MAAOA,EAAO0B,IAAKuM,EAAGtX,OAAQ+Y,UAAU,MAC9CnO,EAAAL,EAAAM,cAACsM,EAAD,CAAO9N,MAAO,CAAE7J,KAAM,QAAS+G,MAAO,UAAWiF,KAAM,GAAKtC,MAAOoO,EAAGkB,YAAalP,OAAQ,CAAEqC,IAAI,KACjGf,EAAAL,EAAAM,cAACmO,GAAD,CACC3O,SAAU+J,EAAK1O,MAAM2E,SACrBoN,WAAYH,EACZvO,SAAU,SAACwO,GAAD,OAAenD,EAAK2D,mBAALpY,OAAAC,EAAA,EAAAD,CAAA,GAA6B2X,EAA7B,CAAiCC,kBAE3D3M,EAAAL,EAAAM,cAACsM,EAAD,CACC9N,MAAO,CAAEO,WAAW,EAAO4B,KAAM,GACjClC,OAAQ,CAAEc,MAAM,EAAMuB,IAAI,GAC1BpC,MAAO,SACP2H,KAAMoG,EAAGtX,OACTkJ,MAAOoO,EAAG2B,YACV5O,SAAU+J,EAAK1O,MAAM2E,SACrBtB,SAAU,SAACkQ,GAAD,OAAiB7E,EAAK2D,mBAALpY,OAAAC,EAAA,EAAAD,CAAA,GAA6B2X,EAA7B,CAAiC2B,uBAMjE,OACCrO,EAAAL,EAAAM,cAACqO,GAAD,CAAmB7T,OAAQuD,KAAKlD,MAAM2E,UACrCO,EAAAL,EAAAM,cAAA,SAAOxB,MAAO,CAAE8P,MAAO,SACtBvO,EAAAL,EAAAM,cAAA,aACCD,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAOzP,MAAK1J,OAAAC,EAAA,EAAAD,CAAA,GAAO0J,EAAP,CAAc+P,gBAAiB,YAAaL,UAAU,MACjEnO,EAAAL,EAAAM,cAAA,MAAIxB,MAAO,CAAEuP,YAAa,SACzBhO,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAYtZ,KAAK,QAAQ+G,MAAM,UAAU8C,MAAO,CAAEgK,QAAS,UAC1DzI,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAASlS,MAAM,UAAUyS,WAAY,IAAKC,UAAU,gBACnD1O,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACCzT,OAAsB,gBAAdwS,EACRnE,QAAS,kBAAMU,EAAKwD,aAAa,gBACjCjV,UAAWmV,EACXzO,MAAO,CAAE9C,MAAO,UAAWT,SAAU,WAJtC,mBAUF8E,EAAAL,EAAAM,cAAA,WACCD,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAASlS,MAAM,UAAUyS,WAAY,IAAKC,UAAU,gBACnD1O,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACCzT,OAAsB,SAAdwS,EACRnE,QAAS,kBAAMU,EAAKwD,aAAa,SACjCjV,UAAWmV,GAHZ,WAUHlN,EAAAL,EAAAM,cAAA,MAAIxB,MAAO,CAAEmC,KAAM,OACnBZ,EAAAL,EAAAM,cAAA,UACCD,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,sBACNF,MAAO,CAAE7J,KAAM,UAAWoK,WAAW,EAAOC,OAAQ,SAAUS,cAAc,GAC5EhB,OAAQ,CAAEU,UAAW,SACrBd,MAAOgP,EAAY,GAAG1Y,KACtBkK,QAAS0N,GACT/M,SAAUzB,KAAKlD,MAAM2E,SACrBtB,SAAUH,KAAK2Q,2BAA2BjH,KAAK1J,UAIjDiQ,YA5IqBpM,aClGtB+M,uBAEL,SAAAA,EAAY9T,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAA4Q,IAClB9Q,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAA6Z,GAAA9X,KAAAkH,KAAMlD,KAEDrE,MAAQ,CACZiE,OAAO,GAJUoD,wEASlBE,KAAKlD,MAAMwN,QAAQ/I,KAAK,UAAYvB,KAAKlD,MAAMhF,MAAMX,+CAIrD,OAAI6I,KAAKlD,MAAMhF,MAAM+W,YACsB,KAA1C7O,KAAKlD,MAAMhF,MAAM+W,WAAWF,WACc,OAA1C3O,KAAKlD,MAAMhF,MAAM+W,WAAWF,UAE3B3M,EAAAL,EAAAM,cAAA,OAAKQ,UAAU,SAAShC,MAAO,CAAE+P,gBAAiB/B,GAAmBzO,KAAKlD,MAAMhF,MAAM+W,cACrF7M,EAAAL,EAAAM,cAACsM,EAAD,CAAOjO,MAAM,cAAcG,MAAO,CAAE7J,KAAM,KAAMgM,KAAM,KACtDZ,EAAAL,EAAAM,cAACmO,GAAD,CAAYvB,WAAY7O,KAAKlD,MAAMhF,MAAM+W,WAAYC,SAAO,KAK7D9M,EAAAL,EAAAM,cAAA,OAAKQ,UAAU,UACdT,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACCvS,MAAM,YACNmN,QAAS9K,KAAK6Q,OAAOnH,KAAK1J,OAF3B,YAOqB,YAApBA,KAAKlD,MAAMpE,MACXsJ,EAAAL,EAAAM,cAAC6O,GAAD,CACChZ,MAAOkI,KAAKlD,MAAMhF,0CAQf,IAAA0T,EAAAxL,KACFlI,EAAQkI,KAAKlD,MAAMhF,MACzB,OACCkK,EAAAL,EAAAM,cAAA,OAAKQ,UAAU,aACdT,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACC1F,UAAWxK,KAAKvH,MAAMiE,MAAQ,EAAI,EAClCqU,aAAc,kBAAMvF,EAAKvB,SAAS,CAAEvN,OAAO,KAC3CsU,aAAc,kBAAMxF,EAAKvB,SAAS,CAAEvN,OAAO,MAE3CsF,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAOvS,MAAM,YAAYsT,UAAWjR,KAAKlD,MAAM3E,aAAeL,EAAMK,WAAY+Y,aAAcpZ,EAAMK,YACnG6J,EAAAL,EAAAM,cAAA,OAAKQ,UAAU,mBACdT,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACC9F,QAAQ,UACRzM,MAAM,UACN8C,MAAO,CAAE4J,SAAU,SAAU8G,UAAW,OAAQC,OAAQ,WACxDtG,QAAS,WAAQU,EAAK1O,MAAMwN,QAAQ/I,KAAK,UAAYzJ,EAAMX,MAE1DW,EAAMuZ,aAERrP,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACC9F,QAAQ,KACR3J,MAAO,CAAE4J,SAAU,SAAUiH,OAAQ,OAAQF,OAAQ,UAAW9S,cAAe,YAAapB,SAAU,QACtG4N,QAAS,WAAQU,EAAK1O,MAAMwN,QAAQ/I,KAAK,UAAYzJ,EAAMX,MAE1DW,EAAM0U,YAERxK,EAAAL,EAAAM,cAAA,WACCD,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAYzP,MAAO,CAAE2L,QAAS,eAAgB7O,WAAY,OAAQ8D,MAAO,UACvE,QAAUvJ,EAAMmW,OAAS,MAAQnW,EAAMqU,KAEzCnK,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAYzP,MAAO,CAAE2L,QAAS,eAAgB7O,WAAY,SACxDzF,EAAMyZ,eAAiB,aAIzBzZ,EAAM+W,WACL7M,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAYzP,MAAO,CAAE0Q,UAAW,QAAS9G,SAAU,UAAYK,cAAY,GAC1E1I,EAAAL,EAAAM,cAAA,iCACCnK,EAAM+W,WAAWwB,aAGnBrO,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAYzP,MAAO,CAAE0Q,UAAW,QAAS9G,SAAU,UAAYK,cAAY,GACzE5S,EAAM0Z,mBAITxR,KAAKyR,8BA1FW5N,cAuGTmH,gBAAW4F,ICzGpBA,eAEL,SAAAA,EAAY9T,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAA4Q,IAClB9Q,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAA6Z,GAAA9X,KAAAkH,KAAMlD,KAEDrE,MAAQ,CACZiE,OAAO,EACP+D,MAAO,CACN8P,MAAO,OACPe,OAAQ,OACRrQ,OAAQ,MACRwJ,QAAS,SATO3K,iFAcD4R,GACH,MAAVA,IACHA,EAAS,IAEV,IAAIC,EAA0BD,EAAOpO,QAAQ,MAAO,IACpD,GAAuC,KAAnCqO,EAAwBlb,OAC3B,MAAmC,MAA/Bkb,EAAwB,GACnBA,EAAwBC,OAAO,EAAG,GAAK,IAAMD,EAAwBC,OAAO,EAAG,GAE/ED,EAAwBC,OAAO,EAAG,GAAK,IAAMD,EAAwBC,OAAO,EAAG,GAGzF,IACMC,EADa,6BACMC,KAAKH,GAC9B,OAAIE,EACCA,EAAM,GACF,UAAYA,EAAM,GAElB,OAASA,EAAM,GAGhBH,mCAKR1R,KAAKlD,MAAMwN,QAAQ/I,KAAK,SAAWvB,KAAKlD,MAAM5F,KAAKC,qCAG3C,IAAAqU,EAAAxL,KACJ9I,EAAIH,OAAAC,EAAA,EAAAD,CAAA,GAAQiJ,KAAKlD,MAAM5F,MACvBuJ,EAAK1J,OAAAC,EAAA,EAAAD,CAAA,GAAQiJ,KAAKvH,MAAMgI,OAC5B,OACCuB,EAAAL,EAAAM,cAAA,MAAIE,IAAKjL,EAAKC,IACb6K,EAAAL,EAAAM,cAACsI,GAAA5I,EAAD,CACC6I,UAAWxK,KAAKvH,MAAMiE,MAAQ,EAAI,EAClCqU,aAAc,kBAAMvF,EAAKvB,SAAS,CAAEvN,OAAO,KAC3CsU,aAAc,kBAAMxF,EAAKvB,SAAS,CAAEvN,OAAO,KAC3CyT,UAAU,KACV1P,MAAOA,GAEPuB,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CACX2L,QAAS,OACT2F,eAAgB,kBAEhB/P,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,SAASzM,MAAqB,YAAdzG,EAAKwB,KAAqB,YAAc,UAAW+H,MAAO,CAAEmC,KAAM,IACpG1L,EAAK8a,UAAY,IAAM9a,EAAK+a,UAE9BjQ,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,YAAY3J,MAAO,CAAEmC,KAAM,IAC7C1L,EAAK2S,QAEP7H,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,QAAQ3J,MAAO,CAAEmC,KAAM,IACzC1L,EAAK4P,MAAQ,MAAQ5P,EAAK2P,MAE5B7E,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,QAAQ3J,MAAO,CAAEmC,KAAM,IAC3B,YAAd1L,EAAKwB,KAAqB,SAAW,YAEvCsJ,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,QAAQ3J,MAAO,CAAEmC,KAAM,IACzC1L,EAAK6P,UAGa,UAApB/G,KAAKlD,MAAMpE,MACXsJ,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CACX2L,QAAS,OACT2F,eAAgB,kBAEhB/P,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,QAAQ3J,MAAO,CAAEmC,KAAM,IACzC1L,EAAKgU,OAEPlJ,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,QAAQ3J,MAAO,CAAEmC,KAAM,IACzC1L,EAAK8P,eAEPhF,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAEmC,KAAM,KACpBZ,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,QAAQ3J,MAAO,CAAEmC,KAAM,IACzC5C,KAAKkS,kBAAkBhb,EAAK+P,cAE9BjF,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,QAAQ3J,MAAO,CAAEmC,KAAM,IACzC1L,EAAKC,KAIR6I,KAAKlD,MAAMuO,kBAjGOxH,aAyGTmH,gBAAW4F,wBCtGpBuB,GAAW,CAAC,KAAM,KAAM,KAAM,KAAM,QAAS,SAC7CC,GAAS,CAAC,MAAO,QAEjBC,eAEL,SAAAA,EAAYvV,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAqS,IAClBvS,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAsb,GAAAvZ,KAAAkH,KAAMlD,KAMPyS,aAAe,SAACjH,EAAMhI,GACrBR,EAAKmK,SAAS,CACb/S,KAAKH,OAAAC,EAAA,EAAAD,CAAA,GACD+I,EAAKrH,MAAMvB,KADXH,OAAAE,EAAA,EAAAF,CAAA,GAEFuR,EAAOhI,OATVR,EAAKrH,MAAQ,CACZvB,KAAM4I,EAAKhD,MAAM5F,MAHA4I,4EAiBlB,OAAOwS,KAAKC,UAAUvS,KAAKlD,MAAM5F,QAAUob,KAAKC,UAAUvS,KAAKvH,MAAMvB,uCAG7D,IAAAsU,EAAAxL,KACJ9I,EAAO,KACP8I,KAAKlD,MAAM5F,KAAKC,KAAO6I,KAAKvH,MAAMvB,KAAKC,IAC1C6I,KAAKiK,SAAS,CACb/S,KAAM8I,KAAKlD,MAAM5F,OAElBA,EAAO8I,KAAKlD,MAAM5F,MAElBA,EAAO8I,KAAKvH,MAAMvB,KAEnB,IAAMsb,EAAexS,KAAKlD,MAAM2V,aAA2C,IAA5B7L,GAAkB1P,GACjE,OACC8K,EAAAL,EAAAM,cAACyQ,GAAD,KACC1Q,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,OACNL,MAAOpJ,EAAK0Y,YACZnP,MAAO,CAAE7J,KAAM,cAEhBoL,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,MACND,OAAQ,CAAEU,UAAW,SACrBd,MAAOpJ,EAAKwB,OAEbsJ,EAAAL,EAAAM,cAAC0Q,GAAAhR,EAAD,MACAK,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE2L,QAAS,SACtBpK,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,WACNL,MAAOpJ,EAAK2P,KACZpG,MAAO,CAAEQ,OAAQ,UACjBQ,SAAUzB,KAAKlD,MAAM2V,WACrBtS,SAAU,SAACG,GAAD,OAAWkL,EAAK+D,aAAa,OAAQjP,IAC/C4C,SAAU,CACTtM,KAAM,UACN2M,IAAK,EACLE,IAAK,KAGPzB,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,mBACNL,MAAOpJ,EAAK4P,MACZrF,SAAUzB,KAAKlD,MAAM2V,WACrBtS,SAAU,SAACG,GAAD,OAAWkL,EAAK+D,aAAa,QAASjP,IAChDQ,QAASsR,GACTlP,SAAU,CAAEQ,UAAU,KAEtB1D,KAAKlD,MAAM2V,YACXzQ,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,UACNL,MAAOpJ,EAAK6P,QACZtF,SAAUzB,KAAKlD,MAAM2V,WACrB3R,QAASqR,GACThS,SAAU,SAACG,GAAD,OAAWkL,EAAK+D,aAAa,UAAWjP,IAClD4C,SAAU,CAAEQ,UAAU,MAGzB1B,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE2L,QAAS,SACrBpM,KAAKlD,MAAM2V,YAAczQ,EAAAL,EAAAM,cAACsM,EAAD,CACzB5N,MAAM,kBACNL,MAAOpJ,EAAK8P,cACZvF,SAAUzB,KAAKlD,MAAM2V,WACrBtS,SAAU,SAACG,GAAD,OAAWkL,EAAK+D,aAAa,gBAAiBjP,IACxD4C,SAAU,CAAEtM,KAAM,WAElBoJ,KAAKlD,MAAM2V,YAAczQ,EAAAL,EAAAM,cAACsM,EAAD,CACzB5N,MAAM,iBACNL,MAAOpJ,EAAK+P,YACZxF,SAAUzB,KAAKlD,MAAM2V,WACrBtS,SAAU,SAACG,GAAD,OAAWkL,EAAK+D,aAAa,cAAejP,IACtD4C,SAAU,CAAEtM,KAAM,kBAGpBoL,EAAAL,EAAAM,cAAA,WAECuQ,GACAxQ,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAY+I,cAAY,EAACN,QAAQ,SAASzM,MAAM,aAAhD,2EAIDqE,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAAA,WAECjC,KAAK4S,cACL5Q,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQyI,QAAQ,YAAYzM,MAAM,YAAYkN,KAAK,QAAQC,QAAS,kBAAMU,EAAK1O,MAAM+V,KAAKrH,EAAK/S,MAAMvB,QAArG,mBAzGkB2M,aA0HRoH,mBAAQ,KAPvB,SAA4BjH,GAC3B,MAAO,CACN6O,KAAM,SAAC3b,GAAD,OAAU8M,EV2EX,SAAiB9M,GACvB,OAAO,SAAC8M,EAAUiB,GACjBjB,EAAS,CACRpN,KAAM,cACNM,SAEDqN,EAAU,OAAQ,QAASrN,EAAM8M,EAAUiB,IUjFlB6N,CAAQ5b,OAKpB+T,CAAkCoH,IChI3CU,GAAa,CAClBxC,MAAO,QACPe,OAAQ,OACR7G,QAAS,OACTuI,cAAe,MACf/R,OAAQ,OACRmL,QAAS,eACTgF,OAAQ,WAGHR,eAEL,SAAAA,EAAY9T,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAA4Q,IAClB9Q,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAA6Z,GAAA9X,KAAAkH,KAAMlD,KAEDrE,MAAQ,CACZiE,OAAO,EACP+D,MAAM1J,OAAAC,EAAA,EAAAD,CAAA,GACFgc,GACAjT,EAAKhD,MAAM2D,QAPEX,wEAalBE,KAAKlD,MAAMwN,QAAQ/I,KAAK,cAAgBvB,KAAKlD,MAAM5F,KAAKC,qCAGhD,IAAAqU,EAAAxL,KACF9I,EAAO8I,KAAKlD,MAAM5F,KACxB,OACC8K,EAAAL,EAAAM,cAACsI,GAAA5I,EAAD,CACC6I,UAAWxK,KAAKvH,MAAMiE,MAAQ,EAAI,EAClCqU,aAAc,kBAAMvF,EAAKvB,SAAS,CAAEvN,OAAO,KAC3CsU,aAAc,kBAAMxF,EAAKvB,SAAS,CAAEvN,OAAO,KAC3C+D,MAAOT,KAAKvH,MAAMgI,OAElBuB,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYyI,QAAQ,SAASzM,MAAqB,YAAdzG,EAAKwB,KAAqB,YAAc,WAC1ExB,EAAK8a,UAAY,IAAM9a,EAAK+a,UAE9BjQ,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYyI,QAAQ,cACH,YAAdlT,EAAKwB,KAAqB,SAAW,YAAc,KAAOxB,EAAK2S,gBA/B9ChG,aAyCTmH,gBAAW4F,wBC3CpBqC,eAEL,SAAAA,EAAYnW,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAiT,IAClBnT,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAkc,GAAAna,KAAAkH,KAAMlD,KACDrE,MAAQ,GAFKqH,wEAiBV,IAAA0L,EAAAxL,KACR,GAAuB,MAAnBA,KAAKlD,MAAM5F,KACd,MAA2B,SAAvB8I,KAAKlD,MAAMsP,QACVpM,KAAKlD,MAAMoW,UAEblR,EAAAL,EAAAM,cAAA,OAAKQ,UAAU,QAAf,yCAMAT,EAAAL,EAAAM,cAAA,OAAKQ,UAAU,QACdT,EAAAL,EAAAM,cAAC8L,GAAD,OAKC/N,KAAKlD,MAAMoW,UACP,KAEAlR,EAAAL,EAAAM,cAAC8L,GAAD,MAKV,OAAQ/N,KAAKlD,MAAMsP,SAClB,IAAK,OACJ,OAAOpK,EAAAL,EAAAM,cAACsM,EAAD,CAAOjO,MAAON,KAAKlD,MAAM5F,KAAK0Y,YAAanP,MAAO,CAAE7J,KAAM,QAAS2Z,MAAO,QAAW7P,OAAQ,CAAEqC,IAAI,KAC3G,IAAK,OACJ,OACCf,EAAAL,EAAAM,cAACkR,GAAanT,KAAKlD,OAErB,IAAK,MACJ,OACCkF,EAAAL,EAAAM,cAACmR,GAAYpT,KAAKlD,MAEhBkD,KAAKlD,MAAMuW,SACXrT,KAAKlD,MAAMuW,QAAQvR,IAAI,SAAAnL,GACtB,OACCqL,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAQpF,QAAS,kBAAMnU,EAAOmU,QAAQU,EAAK1O,MAAM1F,SAASgT,QAAQ,YAAYzM,MAAM,UAAU8C,MAAO,CAAE6S,YAAa,SAClH3c,EAAOgK,UAOf,IAAK,OACL,QACC,OACCqB,EAAAL,EAAAM,cAACsR,GAAavT,KAAKlD,2DA9DSkG,EAAWC,GAC1C,IAAIuQ,EAAIC,KAAYC,MAAM1Q,EAAU4E,SAASG,QAI7C,GAHqB,MAAjByL,EAAE7a,aACLqK,EAAU2Q,eAAeH,EAAE7a,aAEb,UAAX6a,EAAEI,MAAsC,MAAlB5Q,EAAU9L,MAAmC,YAAnB8L,EAAUtK,KAAoB,CACjF,IAAMmb,EZwiBF,SAAmBhL,GAIzB,IAHA,IAAIP,EAAOO,EAAQ,IAEfiL,EADgBC,mBAAmB/L,SAASsB,QACzB0K,MAAM,KACpB5O,EAAI,EAAGA,EAAI0O,EAAGrd,OAAQ2O,IAAK,CAEnC,IADA,IAAI6O,EAAIH,EAAG1O,GACY,MAAhB6O,EAAEC,OAAO,IACfD,EAAIA,EAAEE,UAAU,GACjB,GAAwB,IAApBF,EAAExc,QAAQ6Q,GACb,OAAO2L,EAAEE,UAAU7L,EAAK7R,OAAQwd,EAAExd,QAEpC,MAAO,GYnjBmB2d,CAAU,mBAClCpR,EAAUsH,QAAQ/I,KAAKsS,GAExB,OAAO5Q,SAhBUY,aAgHJmH,mBAAWC,YApC1B,SAAyBxS,EAAOyV,GAC/B,IAAI/W,EAAK+W,EAAS2D,MAAMwC,OAAOjd,QAAU8W,EAAS9W,OAC9CgV,EAAU8B,EAAS9B,SAAW,OAE9B8G,GAAY,EACZhc,EAAO,KAcX,OAZU,MAANC,IACHA,EAAKsB,EAAMrB,QAGO,MAAfqB,EAAMlC,OAAoC,MAAnBkC,EAAMlC,MAAMY,GAC5B,MAANA,IAAoE,IAAtDsB,EAAMF,WAAWd,QAAQ,YAAcN,EAAK,OAC7D+b,GAAY,GAGbhc,EAAOuB,EAAMlC,MAAMY,GAGb,CACNuB,KAAMD,EAAMC,KACZxB,OACAgc,YACA9G,UACAhV,OAAQD,EACRsb,WAAa,GAAKtb,IAAS,GAAKsB,EAAMrB,SAIxC,SAA4B4M,GAC3B,MAAO,CACN2P,eAAgB,SAAChb,GAAD,OAAiBqL,EZ8T5B,SAAwBrL,GAC9B,MAAO,CACN/B,KAAM,mBACN+B,eYjU0Cgb,CAAehb,OAKjCsS,CAA6CgI,KC5CxDqB,8MAlDdC,UAAY,SAACC,GACZ,IAAMC,EAAU3S,IAAIhC,EAAKhD,MAAM7D,QAAU,SAACyb,EAAQtP,GACjD,IAAMuP,EAAI/S,IAAO9B,EAAKhD,MAAM8X,SAAU,SAAAA,GACrC,OAAOA,EAAS1b,WAAawb,EAAOvd,IAAMyd,EAASxd,SAAWod,IAE/D,OAAiB,IAAbG,EAAEle,OACEqJ,EAAK+U,wBAAwBF,EAAE,GAAIvP,GAEnCtF,EAAK+U,wBAAwB,CACnC3b,SAAUwb,EAAOvd,GACjBC,OAAQod,EACRM,OAAQ,WACN1P,KAIL,OACCpD,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAOC,UAAU,KAAK3F,UAAW,EAAGrI,IAAK,IAAMqS,GAC9CxS,EAAAL,EAAAM,cAAC8S,GAAD,CAAM5S,IAAKqS,EAAepd,OAAQod,EAAepI,QAAQ,SACxDqI,MAKJO,mBAAqB,SAACN,GACrB,IAAMD,EAAU3S,IAAIhC,EAAKhD,MAAM7D,QAAS,SAAAyb,GACvC,OAAO1S,EAAAL,EAAAM,cAACsM,EAAD,CAAOjO,MAAO,OAASoU,EAAOO,cAAe9S,IAAKuS,EAAOvd,GAAIsJ,MAAO,CAAE7J,KAAM,SAAW8J,OAAQ,CAAEqC,IAAI,EAAMvB,MAAM,OAEzH,OACCQ,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAOC,UAAU,KAAK3F,UAAW,EAAGrI,IAAK,IAAMuS,EAAQjU,MAAO,CAAE+P,gBAAiB,YAChFxO,EAAAL,EAAAM,cAACsM,EAAD,CAAOjO,MAAM,GAAGI,OAAQ,CAAEqC,IAAI,EAAMvB,MAAM,KACzCiT,2FAtDoBG,EAAUxP,GAAG,IAAAoG,EAAAxL,KAChCc,EAAU,CAAC,CAAEH,MAAO,SAAUL,MAAO,WACzC,CAAEK,MAAO,cAAeL,MAAO,WAK/B,OAJKN,KAAKlD,MAAM2E,UAAoC,WAAxBmT,EAASzb,aACpC2H,EAAQ,GAAGH,MAAQ,WACnBG,EAAQ,GAAGH,MAAQ,YAEbqB,EAAAL,EAAAM,cAACsM,EAAD,CACNpM,IAAKiD,EACL9E,MAAOsU,EAASE,OAChBhU,QAASA,EACTH,MAA+B,WAAxBiU,EAASzb,WAA0B,gBAAazC,EACvDgK,OAAQ,CAAEqC,IAAI,EAAMvB,MAAM,GAC1BC,SAAUzB,KAAKlD,MAAM2E,SACrBtB,SAAU,SAAC2U,GACVtJ,EAAK1O,MAAMyS,aAAXxY,OAAAC,EAAA,EAAAD,CAAA,GACI6d,EADJ,CAECE,gDA0CK,IAAAnI,EAAA3M,KACJkV,EAAOlV,KAAKlD,MAAMqY,eAAevT,OAAO,SAACwT,GAC5C,OAAsE,IAA/DtT,IAAI6K,EAAK7P,MAAM8X,SAAU,SAACD,GAAD,OAAOA,EAAEvd,SAAQK,QAAQ2d,KACvDtT,IAAI9B,KAAKuU,WAEZ,OADAW,EAAKG,QAAQrV,KAAKgV,sBACXhT,EAAAL,EAAAM,cAAA,aACND,EAAAL,EAAAM,cAAA,aACEiT,WApEuBrR,aCCtByR,eAEL,SAAAA,EAAYxY,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAsV,IAClBxV,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAue,GAAAxc,KAAAkH,KAAMlD,KAgDPyS,aAAe,SAACjH,EAAMhI,GACrBR,EAAKhD,MAAMyS,aAAXxY,OAAAC,EAAA,EAAAD,CAAA,GACI+I,EAAKhD,MAAM4X,OADf3d,OAAAE,EAAA,EAAAF,CAAA,GAEEuR,EAAOhI,MAlDTR,EAAKrH,MAAQ,CACZiE,OAAO,EACP+D,MAAO,CACN8P,MAAO,OACPe,OAAQ,OACRhD,UAAW,OACXiH,aAAc,OACd9K,QAAS,MACT2B,QAAS,OACT0D,WAAY,QACZxN,SAAU,aAZMxC,gFAiBF4R,GAChB,MAAO,CAAC,SAAU,UAAW,UAAW,WAAY,YAAa,UAAW,YAAYA,6CAGvE,IAAAlG,EAAAxL,KACjB,MAAqC,WAAjCA,KAAKlD,MAAM4X,OAAOvb,WACd6I,EAAAL,EAAAM,cAAA,OAAMxB,MAAO,CAAEmC,KAAM,IAC3BZ,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACCzP,MAAO,CAAE8P,MAAO,OAAQlP,MAAO,SAC/BwJ,KAAK,QACL2K,MAAI,EACJ7X,MAAM,UACNmN,QAAS,kBAAMU,EAAK1O,MAAM2Y,sBAAsBjK,EAAK1O,MAAM4X,OAAOvd,GAAI,UAAWqU,EAAK1O,MAAM4X,OAAOgB,iBALpG,cAWK1T,EAAAL,EAAAM,cAAA,OAAMxB,MAAO,CAAEmC,KAAM,IAC3BZ,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACCzP,MAAO,CAAE8P,MAAO,OAAQlP,MAAO,SAC/BwJ,KAAK,QACL2K,MAAI,EACJ7X,MAAM,YACNmN,QAAS,kBAAMU,EAAK1O,MAAM2Y,sBAAsBjK,EAAK1O,MAAM4X,OAAOvd,GAAI,SAAUqU,EAAK1O,MAAM4X,OAAOgB,iBALnG,8CAqBO,IAAA/I,EAAA3M,KACF0U,EAAS1U,KAAKlD,MAAM4X,OAC1B,OAAmB,IAAfA,EAAOvd,GAET6K,EAAAL,EAAAM,cAACsI,GAAA5I,EAAD,CACC6I,UAAWxK,KAAKvH,MAAMiE,MAAQ,EAAI,EAClCqU,aAAc,kBAAMpE,EAAK1C,SAAS,CAAEvN,OAAO,KAC3CsU,aAAc,kBAAMrE,EAAK1C,SAAS,CAAEvN,OAAO,KAC3CyT,UAAU,KACV1P,MAAO,CAAE+P,gBAAiB,YAE1BxO,EAAAL,EAAAM,cAAA,MAAIxB,MAAO,CAAE2L,QAAS,OAAQuJ,cAAe,WAC5C3T,EAAAL,EAAAM,cAACsM,EAAD,CAAO9N,MAAO,CAAElD,WAAY,QAAU+C,MAAM,cAC5C0B,EAAAL,EAAAM,cAACsM,EAAD,CAAO9N,MAAO,CAAElD,WAAY,QAAU+C,MAAM,eAE7C0B,EAAAL,EAAAM,cAACsM,EAAD,CAAO9N,MAAO,CAAEmC,KAAM,EAAGrF,WAAY,QAAU+C,MAAM,YAAYI,OAAQ,CAAEqC,IAAI,KAC/Ef,EAAAL,EAAAM,cAACsM,EAAD,CAAO9N,MAAO,CAAEmC,KAAM,EAAGrF,WAAY,QAAU+C,MAAM,eAAeI,OAAQ,CAAEqC,IAAI,KAClFf,EAAAL,EAAAM,cAAA,MAAIxB,MAAO,CAAE2L,QAAS,OAAQuJ,cAAe,WAC5C3T,EAAAL,EAAAM,cAACsM,EAAD,CAAO9N,MAAO,CAAElD,WAAY,QAAU+C,MAAM,QAAQI,OAAQ,CAAEU,UAAW,WACzEY,EAAAL,EAAAM,cAACsM,EAAD,CAAO9N,MAAO,CAAElD,WAAY,QAAU+C,MAAM,eAAeI,OAAQ,CAAEU,UAAW,aAMnFY,EAAAL,EAAAM,cAACsI,GAAA5I,EAAD,CACC6I,UAAWxK,KAAKvH,MAAMiE,MAAQ,EAAI,EAClCqU,aAAc,kBAAMpE,EAAK1C,SAAS,CAAEvN,OAAO,KAC3CsU,aAAc,kBAAMrE,EAAK1C,SAAS,CAAEvN,OAAO,KAC3CyT,UAAU,MAEVnO,EAAAL,EAAAM,cAAA,MAAIxB,MAAO,CAAE2L,QAAS,OAAQuJ,cAAe,WAC5C3T,EAAAL,EAAAM,cAACsM,EAAD,CACC5Q,MAAM,UACN+C,OAAQ,CAAEc,MAAM,GAChBf,MAAO,CAAElD,WAAY,QACrB+C,MAAO,OAASoU,EAAOO,gBAExBjT,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,YACND,OAAQ,CAAEc,MAAM,GAChBlB,MAAOoU,EAAOkB,KACdnU,SAAUzB,KAAKlD,MAAM2E,SACrBtB,SAAU,SAACG,GAAD,OAAWqM,EAAK4C,aAAa,OAAQjP,OAGjD0B,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,YACNF,MAAO,CAAEmC,KAAM,GACftC,MAAOoU,EAAOmB,QACdpU,SAAUzB,KAAKlD,MAAM2E,SACrBtB,SAAU,SAACG,GAAD,OAAWqM,EAAK4C,aAAa,UAAWjP,IAClDI,OAAQ,CAAEqC,IAAI,EAAMvB,MAAM,KAE3BQ,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,eACNF,MAAO,CAAEmC,KAAM,GACftC,MAAOoU,EAAOoB,WACdrU,SAAUzB,KAAKlD,MAAM2E,SACrBtB,SAAU,SAACG,GAAD,OAAWqM,EAAK4C,aAAa,aAAcjP,IACrDI,OAAQ,CAAEqC,IAAI,EAAMvB,MAAM,KAE3BQ,EAAAL,EAAAM,cAAA,MAAIxB,MAAO,CAAE2L,QAAS,OAAQuJ,cAAe,WAC5C3T,EAAAL,EAAAM,cAACsM,EAAD,CACC7N,OAAQ,CAAEU,UAAW,SACrBd,MAAON,KAAK+V,iBAAiB,IAAI9M,KAAKyL,EAAOsB,MAAMC,UAAY,IAAM,IAAIhN,KAAKyL,EAAOsB,MAAME,UAAY,KAAO,IAAIjN,KAAKyL,EAAOsB,MAAMG,WAAa,GAAK,IAAM,IAAIlN,KAAKyL,EAAOsB,MAAMI,gBAEnLpU,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,eACNF,MAAO,CAAEiB,cAAc,GACvBhB,OAAQ,CAAEU,UAAW,SACrBd,MAAOoU,EAAOE,SACdnT,SAAUzB,KAAKlD,MAAM2E,SACrBtB,SAAU,SAACG,GAAD,OAAWqM,EAAK4C,aAAa,WAAYjP,IACnDQ,QAAS,CAAC,CAAEH,MAAO,eAAgBL,MAAO,YAAc,CAAEK,MAAO,cAAeL,MAAO,YAAc,CAAEK,MAAO,mBAAoBL,MAAO,iBAGzIN,KAAKlD,MAAMuZ,qBAA2C,YAApBrW,KAAKlD,MAAMpE,KAAqBsH,KAAKsW,kBAAoB,cAxI5EzS,aAwJNoH,mBAAQ,KANvB,SAA4BjH,GAC3B,MAAO,CACNyR,sBAAuB,SAACvc,EAAUC,EAAY5B,GAAvB,OAAmCyM,Ed0DrD,SAA+B9K,EAAUC,EAAY5B,GAC3D,OAAO,SAACyM,EAAUiB,GACjBjB,EAAS,CACRpN,KAAM,8BACNsC,WACAC,aACA5B,YAEDgN,EAAU,mBAAoB,QAAS,CAAErL,SAAUA,EAAUC,WAAYA,GAAc6K,EAAUiB,IclE9BwQ,CAAsBvc,EAAUC,EAAY5B,OAIlG0T,CAAkCqK,IC3J3CiB,eAEL,SAAAA,EAAYzZ,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAuW,IAClBzW,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAwf,GAAAzd,KAAAkH,KAAMlD,KAePkS,aAAe,SAAC1O,GACfR,EAAKmK,SAAS,CACbgF,UAAW3O,EACX4O,cAA4C,SAA7BpP,EAAKrH,MAAMyW,eAA4BpP,EAAKrH,MAAMwW,YAAc3O,EAAQ,MAAQ,UAnB9ER,EAwCnB0W,UAAY,WACX,IAAI/V,EAAK1J,OAAAC,EAAA,EAAAD,CAAA,GAAQ+I,EAAKrH,MAAMgI,OAC5B,OACCuB,EAAAL,EAAAM,cAAA,UACCD,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACC1F,UAAW1K,EAAKrH,MAAMiE,MAAQ,EAAI,EAClCqU,aAAc,kBAAMjR,EAAKmK,SAAS,CAAEvN,OAAO,KAC3CsU,aAAc,kBAAMlR,EAAKmK,SAAS,CAAEvN,OAAO,KAC3CyT,UAAU,KACV1P,MAAOA,GAEPuB,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CACX2L,QAAS,OACT2F,eAAgB,kBAEfjS,EAAK2W,YAAY,SAAU,OAAQ,QACnC3W,EAAK2W,YAAY,YAAa,SAAU,UACxC3W,EAAK2W,YAAY,QAAS,eAAgB,qBAC1C3W,EAAK2W,YAAY,QAAS,OAAQ,OAClC3W,EAAK2W,YAAY,QAAS,UAAW,YAElB,UAApB3W,EAAKhD,MAAMpE,MACXsJ,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CACX2L,QAAS,OACT2F,eAAgB,kBAEfjS,EAAK2W,YAAY,QAAS,QAAS,gBACnC3W,EAAK2W,YAAY,QAAS,gBAAiB,mBAC5CzU,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAEmC,KAAM,KACnB9C,EAAK2W,YAAY,QAAS,cAAe,kBACzC3W,EAAK2W,YAAY,QAAS,KAAM,qBAtEpB3W,EA6EnB4W,QAAU,WACT,IAAMpW,EAAQR,EAAKrH,MAAMwW,UACnBlV,EAAY+F,EAAKrH,MAAMyW,cACvB3Y,EAAQuJ,EAAKhD,MAAMvG,MACnBogB,EAAU7W,EAAKhD,MAAM6Z,QAC3B,MAAc,KAAVrW,EACIqW,GAERA,EAAQlH,KAAK,SAAC9N,EAAG+N,GAChB,OAAQpP,GACP,IAAK,OACJqB,GAAKpL,EAAMoL,GAAN,UAAwBpL,EAAMoL,GAAN,UAAsBiV,cACnDlH,GAAKnZ,EAAMmZ,GAAN,UAAwBnZ,EAAMmZ,GAAN,UAAsBkH,cACnD,MACD,IAAK,eACJjV,GAAKpL,EAAMoL,GAAN,MAAoBpL,EAAMoL,GAAN,MAAkBkV,WAC3CnH,GAAKnZ,EAAMmZ,GAAN,MAAoBnZ,EAAMmZ,GAAN,MAAkBmH,WAC3C,MACD,QACClV,EAAIpL,EAAMoL,GAAGrB,GACboP,EAAInZ,EAAMmZ,GAAGpP,GAEf,IAAIqP,GAAY,MAALD,IAAmB,MAAL/N,MAAgBA,EAAI+N,MAAQ/N,EAAI+N,GACzD,MAAqB,QAAd3V,EAAsB4V,GAAOA,IAE9BgH,IApGP7W,EAAKrH,MAAQ,CACZiE,OAAO,EACP+D,MAAO,CACN8P,MAAO,OACPe,OAAQ,OACRrQ,OAAQ,MACRwJ,QAAS,OACT+F,gBAAiB,WAElBvB,UAAW,GACXC,cAAe,IAZEpP,2EAuBPsK,EAAS9J,EAAOtC,GAAO,IAAAwN,EAAAxL,KAC9BiP,EAAYjP,KAAKvH,MAAMwW,UACvBC,EAA6C,QAA7BlP,KAAKvH,MAAMyW,cAA0B,MAAQ,OACjE,OACClN,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAASA,EAASzM,MAAmB,WAAZyM,EAAuB,UAAY,UAAW3J,MAAO,CAAEmC,KAAM,IACjGZ,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAASlS,MAAM,UAAUyS,WAAY,IAAKC,UAAU,gBACnD1O,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAgBzT,OAAQwS,IAAc3O,EACrCvG,UAAWmV,EACXpE,QAAS,kBAAMU,EAAKwD,aAAa1O,IACjCG,MAAO,CAAE9C,MAAO,YACfK,sCAwEG,IAAA2O,EAAA3M,KACF8W,EAAS9W,KAAKwW,YACdjgB,EAAQyJ,KAAK0W,UAAU5U,IAAI,SAAA3K,GAChC,OAAO6K,EAAAL,EAAAM,cAAC8S,GAAD,CAAM5S,IAAKhL,EAAIC,OAAQD,EAAIiV,QAAQ,MAAMiH,QAAS1G,EAAK7P,MAAMuW,YAErE,OACCrR,EAAAL,EAAAM,cAAA,SAAOxB,MAAO,CAAE8P,MAAO,SACtBvO,EAAAL,EAAAM,cAAA,aACE6U,EACAvgB,WApHiBsN,aAkIRoH,mBAPf,SAAyBxS,EAAOyV,GAC/B,MAAO,CACN3X,MAAOkC,EAAMlC,MACbmC,KAAMD,EAAMC,OAICuS,CAAyBsL,4EC9GzBQ,oLAnBb,IAAM1S,EAAU,qFAShB,OARIrE,KAAKlD,MAAMka,YACd1P,OAAO2P,eAAiB,SAAU7I,GAEjC,OADAA,EAAE8I,YAAc7S,EACTA,GAGRiD,OAAO2P,eAAiB,KAGxBjV,EAAAL,EAAAM,cAACkV,GAAA,EAAD,CACCC,KAAMpX,KAAKlD,MAAMka,YACjB3S,QAAS,SAAAuD,GAAQ,OAAIvD,YAfMR,kCCuIhBwT,eA/Hd,SAAAA,EAAYva,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAqX,IAClBvX,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAsgB,GAAAve,KAAAkH,KAAMlD,KAIPwa,gBAAkB,WACjBxX,EAAKmK,SAAS,CAAEsN,SAAU,QANRzX,EASnB0X,gBAAkB,SAAApX,GACjBN,EAAKmK,SAAS,CAAEsN,SAAUnX,EAAMqX,iBARhC3X,EAAKrH,MAAQ,GAFKqH,wEAclB,IAAM2B,EAAWzB,KAAKlD,MAAM2E,SACtB/I,EAAOsH,KAAKlD,MAAMpE,KAClByH,EAAWH,KAAKlD,MAAMqD,SACxBrI,EAAQkI,KAAKlD,MAAMhF,MACvB,OACCkK,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE6B,SAAU,aACvBN,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE2L,QAAS,SACtBpK,EAAAL,EAAAM,cAACsM,EAAD,CACCjO,MAAOxI,EAAM0U,WACbrM,SAAU,SAACG,GAAD,OAAWH,EAAS,aAAcG,IAC5CmB,SAAUA,EACVhB,MAAO,CAAEmC,KAAM,IAAKhM,KAAM,YAC1BsM,SAAU,CAAES,UAAW,MAExB3B,EAAAL,EAAAM,cAACsM,EAAD,CACCjO,MAAOxI,EAAM2Q,UACbtI,SAAU,SAACG,GAAD,OAAWH,EAAS,YAAaG,IAC3CI,OAAQ,CAAEU,UAAW,SACrBX,MAAO,CAAE7J,KAAM,YACf6K,SAAUA,EACVX,QAASgB,IAAI9B,KAAKlD,MAAM1E,SAAU,SAACyd,GAAc,MAAO,CAAEvV,MAAOuV,EAAQ1e,GAAIwJ,MAAOkV,EAAQvN,WAG3F7G,GACDO,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CACChE,MAAM,YACN8C,MAAO,CAAE6B,SAAU,WAAY8J,QAAS,QAASsL,IAAK,OAAQC,MAAO,QAASrY,OAAQ,OACtFwL,QAAS9K,KAAKwX,iBAEdxV,EAAAL,EAAAM,cAAA,WAAMnK,EAAM8f,eAIf5V,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE2L,QAAS,QAAU3J,UAAU,+BAC1CT,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE2L,QAAS,OAAQuJ,cAAe,WAC7C3T,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAEmC,KAAM,IACnBZ,EAAAL,EAAAM,cAACsM,EAAD,CACCjO,MAAOxI,EAAMmW,OACb9N,SAAU,SAACG,GAAD,OAAWH,EAAS,SAAUG,IACxCmB,SAAUA,GAAqB,UAAT/I,EACtB+H,MAAO,CAAE8P,MAAO,QAAS3Z,KAAM,WAC/BkK,QAAS,CAAC,CAAEH,MAAO,SAAUL,MAAO,GAAK,CAAEK,MAAO,SAAUL,MAAO,GAAK,CAAEK,MAAO,SAAUL,MAAO,GAAK,CAAEK,MAAO,SAAUL,MAAO,MAElI0B,EAAAL,EAAAM,cAACsM,EAAD,CACCjO,MAAOxI,EAAMqU,IACbhM,SAAU,SAACG,GAAD,OAAWH,EAAS,MAAOG,IACrCmB,SAAUA,GAAqB,UAAT/I,EACtB+H,MAAO,CAAE8P,MAAO,QAAS3Z,KAAM,WAC/BkK,QAAS,CAAC,UAAW,UAAW,WAAY,YAAa,UAAW,WAAY,YAEjFkB,EAAAL,EAAAM,cAACsM,EAAD,CACCjO,MAAOxI,EAAMK,WACbsJ,SAAUA,GAAqB,UAAT/I,EACtByH,SAAU,SAACG,GAAD,OAAWH,EAAS,aAAcG,IAC5CQ,QAAS,CAAC,YAAa,YAAa,YAAa,aACjDL,MAAO,CAAE8P,MAAO,QAAS3Z,KAAM,cAGjCoL,EAAAL,EAAAM,cAAA,WACCD,EAAAL,EAAAM,cAACsM,EAAD,CACCjO,MAAOxI,EAAMyZ,cACb5Q,MAAM,YACNR,SAAU,SAACG,GAAD,OAAWH,EAAS,gBAAiBG,IAC/CG,MAAO,CAAE8P,MAAO,OAAQ7O,cAAc,GACtClF,QAAQ,WACRiF,SAAUA,MAIbO,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE8P,MAAO,SACpBvO,EAAAL,EAAAM,cAACsM,EAAD,CACCjO,MAAOxI,EAAM0Z,kBACbtO,SAAU,CAAES,UAAW,KACvBhD,MAAM,eACNF,MAAO,CAAEiB,cAAc,GACvBvB,SAAU,SAACG,GAAD,OAAWH,EAAS,oBAAqBG,IACnDI,OAAQ,CAAEc,MAAM,GAChBC,SAAUA,IACXO,EAAAL,EAAAM,cAACsM,EAAD,CACCjO,MAAOxI,EAAM+U,QACblM,MAAM,cACNR,SAAU,SAACG,GAAD,OAAWH,EAAS,UAAWG,IACzCG,MAAO,CAAEiB,cAAc,GACvBlF,QAAQ,0BACRiF,SAAUA,IAEXO,EAAAL,EAAAM,cAACsM,EAAD,CACCjO,MAAOxI,EAAM+f,UACblX,MAAM,aACNR,SAAU,SAACG,GAAD,OAAWH,EAAS,YAAaG,IAC3C9D,QAAQ,WACRiF,SAAUA,EACVhB,MAAO,CAAEiB,cAAc,EAAMU,KAAM,OACnC1B,OAAQ,CAAEU,UAAW,SACrB8B,SAAU,CAAEtM,KAAM,eAIrBoL,EAAAL,EAAAM,cAAA,WAEAD,EAAAL,EAAAM,cAAC6V,GAAAnW,EAAD,CACCoK,OAAM/L,KAAKvH,MAAM8e,SACjBQ,QAAS/X,KAAKsX,gBACdC,SAAUvX,KAAKvH,MAAM8e,SACrBS,aAAc,CAAEC,WAAY,OAAQC,SAAU,QAE9ClW,EAAAL,EAAAM,cAAC8S,GAAD,CAAM5S,IAAKrK,EAAMqgB,UAAW/gB,OAAQU,EAAMqgB,UAAW/L,QAAQ,OAAO3L,MAAO,CAAEQ,OAAQ,kBA1HlE4C,kCCHlBpD,GAAQ,CACV2X,aAAa,CACT5H,gBAAiBnX,EAAMiB,QAAQI,QAAQC,MAE3C0d,eAAgB,CACZ7H,gBAAiB,WAErB8H,WAAY,CACR9H,gBAAiBnX,EAAMiB,QAAQU,MAAML,OAIvC4d,oLAQE,IAJA,IAAMjgB,EAAgB0H,KAAKlD,MAAMxE,cAC3BkgB,EAAUxY,KAAKlD,MAAM0b,QACvB7a,EAAQ,UACR8a,EAAiBngB,EAAc7B,OAAS,EAAI6B,EAAc,GAAG+L,QAAU,GACjEe,EAAI,EAAGA,EAAI9M,EAAc7B,OAAQ2O,IACvC,GAAkC,WAA9B9M,EAAc8M,GAAGhB,UAAuD,SAA9B9L,EAAc8M,GAAGhB,SAAqB,CAChFzG,EAAM,YACN8a,EAAengB,EAAc8M,GAAGf,QAChC,IAAM,IAAIqU,EAAItT,EAAIsT,EAAIpgB,EAAc7B,OAAQiiB,IACxC,GAAmC,SAA9BpgB,EAAcogB,GAAGtU,SAAsB,CACxCzG,EAAQ,QACR8a,EAAiBngB,EAAcogB,GAAGrU,QAClC,MAGR,MAKR,OACIrC,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAASlS,MAAOya,GACZzW,EAAAL,EAAAM,cAAC0W,GAAAhX,EAAD,CAAOuP,aAAc5Y,EAAc7B,OAAQ+hB,QAASA,EAAS7a,MAAOA,GAC/DqC,KAAKlD,MAAMuO,kBA3BAxH,aA+CjB+U,4BAAWnY,GAAXmY,CAAkB3N,YAbjC,SAAyBxS,EAAOyV,GAQ/B,MAAO,CACN5V,cARmBG,EAAMH,cAAcsJ,OAAO,SAACiX,GAC/C,IACU,MAAoB,UAAbA,EAAIjiB,MAAoBkiB,OAAOD,EAAIvU,OAAOlB,KAAK8K,EAAS5J,OACvE,MAAOyU,GACR,OAAO,OAQ+C,KAAxB9N,CAA8BsN,+CCrDzDS,eAEL,SAAAA,EAAYlc,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAgZ,IAClBlZ,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAiiB,GAAAlgB,KAAAkH,KAAMlD,KAYPmc,WAAa,SAAC7hB,EAAQwY,GACrB9P,EAAKmK,SAAS,CACbiP,MAAOtJ,EACP7D,MAAM,EACN3U,OAAQA,IAET0I,EAAKhD,MAAMqD,SAAS/I,EAAQwY,IAnBV9P,EAsBnBqZ,gBAAkB,WACjB,IAAMC,EAAS,IAAIN,OAAOhZ,EAAKrH,MAAMygB,MAAMtC,eACvCyC,EAAQ,EACZ,OAAOzX,IAAO9B,EAAKhD,MAAMvG,MAAO,SAACW,GAChC,IAAMoiB,EAAIF,EAAOhW,KAAKlM,EAAK0Y,YAAYgH,eAIvC,OAHI0C,GACHD,IAEMC,GAAKD,EAAQ,IAClBvX,IAAI,SAAA5K,GACN,OACC8K,EAAAL,EAAAM,cAACC,EAAAP,EAAD,CAAUQ,IAAKjL,EAAKC,GAAKD,EAAK0Y,YAAa9E,QAAS,kBAAMhL,EAAKmZ,WAAW/hB,EAAKC,GAAID,EAAK0Y,eACtF1Y,EAAK0Y,gBAlCS9P,EAwCnByZ,YAAc,SAACjZ,GACVR,EAAKrH,MAAMrB,QACd0I,EAAKhD,MAAMqD,SAAS,KAAM,MAE3BL,EAAKmK,SAAS,CACbiP,MAAO5Y,EACPyL,MAAM,EACN3U,OAAQ,QA7CT0I,EAAKrH,MAAQ,CACZygB,MAAO,GACP9hB,OAAQ,KACR2U,MAAM,GALWjM,mFAUlBE,KAAKlD,MAAM0c,+CAyCH,IAAAhO,EAAAxL,KACR,OACCgC,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAmBuJ,YAAa,kBAAMjO,EAAKvB,SAAS,CAAE8B,MAAM,MAC3D/J,EAAAL,EAAAM,cAAA,YACCD,EAAAL,EAAAM,cAACsM,EAAD,CAAO5N,MAAM,YAAYL,MAAON,KAAKvH,MAAMygB,MAAOzX,UAAQ,EAACtB,SAAUH,KAAKuZ,YAAa9Y,MAAO,CAAEQ,OAAQ,YACxGe,EAAAL,EAAAM,cAACyX,GAAA/X,EAAD,CAAQoK,KAA4B,MAAtB/L,KAAKvH,MAAMkhB,SAAmB3Z,KAAKvH,MAAMsT,KAAM6N,eAAa,EAACnZ,MAAO,CAAE6B,SAAU,QAAShD,OAAQ,MAC9G0C,EAAAL,EAAAM,cAACsI,GAAA5I,EAAD,KACCK,EAAAL,EAAAM,cAAC4X,GAAAlY,EAAD,KACE3B,KAAKmZ,8BA7DWtV,aAkFVoH,mBAXf,SAAyBxS,GACxB,MAAO,CACNlC,MAAOkC,EAAMlC,QAGf,SAA4ByN,GAC3B,MAAO,CACNwV,YAAa,kBAAMxV,EnB6Tb,SAACA,EAAUiB,GACjBV,EAAU,YAAa,MAAO,KAAMP,EAAUiB,GAC5CkB,KAAK,SAAC5P,GACNyN,EAAS,CACRpN,KAAM,eACNL,YAECiQ,MAAM,mBmBhUGyE,CAA6C+N,ICrEtDc,eAEL,SAAAA,EAAYhd,GAAO,IAAAgD,EAWlB,OAXkB/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAA8Z,IAClBha,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAA+iB,GAAAhhB,KAAAkH,KAAMlD,KAuKPid,iBAAmB,SAAA3iB,GAClB0I,EAAKhD,MAAMkd,eAAe5iB,EAAQ0I,EAAKhD,MAAMvF,QAAS,YAzKpCuI,EA4KnBma,kBAAoB,SAAA7Z,GACnB,IAAM8Z,EAAiBpa,EAAKrH,MAAMyhB,eAClCpa,EAAKhD,MAAMkd,eAAeE,EAAe9iB,OAAQ0I,EAAKhD,MAAMvF,QAAS2iB,EAAeC,mBACpFra,EAAKmK,SAAS,SAAAhH,GAAS,OAAAlM,OAAAC,EAAA,EAAAD,CAAA,GACnBkM,EADmB,CAEtBiX,eAAgB,CACfC,kBAAmBlX,EAAUiX,eAAeC,kBAC5C/iB,OAAQ,WAnLQ0I,EAwLnBsa,+BAAiC,SAAA9Z,GAChCR,EAAKmK,SAAS,SAAAhH,GAAS,OAAAlM,OAAAC,EAAA,EAAAD,CAAA,GACnBkM,EADmB,CAEtBiX,eAAgB,CACfC,kBAAmB7Z,EACnBlJ,OAAQ6L,EAAUiX,eAAe9iB,aA7LjB0I,EAkMnBua,6BAA+B,SAAA/Z,GAC9BR,EAAKmK,SAAS,SAAAhH,GAAS,OAAAlM,OAAAC,EAAA,EAAAD,CAAA,GACnBkM,EADmB,CAEtBiX,eAAgB,CACf9iB,OAAQkJ,EACR6Z,kBAAmBlX,EAAUiX,eAAeC,wBAvM5Bra,EAsQnByP,aAAe,SAACjH,EAAMhI,GACrBR,EAAKmK,SAAS,CACbnS,MAAMf,OAAAC,EAAA,EAAAD,CAAA,GACF+I,EAAKrH,MAAMX,MADVf,OAAAE,EAAA,EAAAF,CAAA,GAEHuR,EAAOhI,OA1QQR,EA+QnBwa,mBAAqB,SAAC5F,GACrB,IAAIzb,EAAU6G,EAAKrH,MAAMX,MAAMmB,SAAW6G,EAAKhD,MAAMhF,MAAMmB,QAC3D6G,EAAKmK,SAAS,CACbnS,MAAMf,OAAAC,EAAA,EAAAD,CAAA,GACF+I,EAAKrH,MAAMX,MADV,CAEJmB,QAAQlC,OAAAC,EAAA,EAAAD,CAAA,GACJkC,EADGlC,OAAAE,EAAA,EAAAF,CAAA,GAEL2d,EAAOvd,GAAKud,SAtRE5U,EA4RnBya,uBAAyB,SAAClL,GACzBvP,EAAKmK,SAAS,CACbnS,MAAMf,OAAAC,EAAA,EAAAD,CAAA,GACF+I,EAAKrH,MAAMX,MADV,CAEJwX,YAAaD,OAhSGvP,EAqSnB0a,qBAAuB,SAACC,GACvB,IAAI7F,EAAW9U,EAAKrH,MAAMX,MAAM8c,UAAY9U,EAAKhD,MAAMhF,MAAM8c,SAC7D9U,EAAKmK,SAAS,CACbnS,MAAMf,OAAAC,EAAA,EAAAD,CAAA,GACF+I,EAAKrH,MAAMX,MADV,CAEJ8c,SAAS7d,OAAAC,EAAA,EAAAD,CAAA,GACL6d,EADI7d,OAAAE,EAAA,EAAAF,CAAA,GAEN0jB,EAAYtjB,GAAKsjB,SA5SH3a,EAkTnB4a,YAAc,WACb5a,EAAKmK,SAAS,CACbxI,UAAU,KApTO3B,EAwTnB6a,OAAS,WACR7a,EAAKmK,SAAS,CACbxI,UAAU,EACV3J,MAAOgI,EAAKhD,MAAMhF,SA3TDgI,EA+TnB+S,KAAO,WACN/S,EAAKhD,MAAM8d,SAAS9a,EAAKrH,MAAMX,OAC/BgI,EAAKmK,SAAS,CACbxI,UAAU,KAlUO3B,EAsUnB+a,UAAY,SAACza,EAAO0a,GACnBhb,EAAKhD,MAAMwN,QAAQ/I,KAAK,CACvBwG,OAAQ,OAASjI,EAAKrH,MAAMsiB,KAAKD,MAxUhBhb,EA4UnBkb,gBAAkB,WACjB,IAAMzjB,EAAUuI,EAAKhD,MAAMhF,MAAMX,GAC3BC,EAAS0I,EAAKhD,MAAM1F,OAKb,YAJA0I,EAAKhD,MAAMpE,MAQtB4O,OAAOyE,KAAK,2BAA6B3U,EAAS,IAAMG,EAAS,WArVnEuI,EAAKrH,MAAQ,CACZgJ,UAAU,EACV3J,MAAOgI,EAAKhD,MAAMhF,MAClBoiB,eAAgB,CACfC,kBAAmB,UACnB/iB,OAAQ,OAIF0I,EAAKhD,MAAMpE,MAClB,IAAK,UACAoH,EAAKhD,MAAMuZ,oBACdvW,EAAKrH,MAAMsiB,KAAO,CAAC,SAAU,cAE7Bjb,EAAKrH,MAAMsiB,KAAO,CAAC,UAEpB,MACD,IAAK,UACAjb,EAAKhD,MAAMuZ,oBACdvW,EAAKrH,MAAMsiB,KAAO,CAAC,iBAAkB,SAAU,aAAc,SAAU,eAEvEjb,EAAKrH,MAAMsiB,KAAO,CAAC,UAEpB,MACD,IAAK,QACJjb,EAAKrH,MAAMsiB,KAAO,CAAC,iBAAkB,SAAU,aAAc,SAAU,eA3BvD,OAAAjb,sFAkCiB,IAAd+O,EAAcoM,EAAdpM,WACrB,GAAkB,MAAdA,EAAoB,CACvB,IAAMF,EAAYE,EAAWF,UAAY,GACzC,OAAQE,EAAWjY,MAClB,IAAK,UAEJ,OADU+X,EAAUrL,QAAQ,MAAO,aAAaA,QAAQ,KAAM,KAAKA,QAAQ,eAAgB,MAC/E,IACb,IAAK,WACJ,MAAqB,MAAdqL,GAAmC,MAAdA,EAC7B,IAAK,QACJ,MAAqB,WAAdA,EACR,QACC,OAAO,GAGV,OAAO,wCAeMuM,GAAY,IAAA1P,EAAAxL,KACrBlI,EAAQkI,KAAKvH,MAAMX,MACjBT,EAAgB2I,KAAKlD,MAAMhF,MAAMT,cACjC4B,EAAU+G,KAAKvH,MAAMX,MAAMmB,QAC3Bkc,EAAiBnV,KAAKvH,MAAMX,MAAMqd,eAClC7F,EAActP,KAAKvH,MAAMX,MAAMwX,YAC/BsF,EAAW5U,KAAKvH,MAAMX,MAAM8c,SAC5BsF,EAAiBla,KAAKvH,MAAMyhB,eAElC,OAAQgB,GACP,IAAK,iBACJ,OAAqB,MAAjB7jB,EACI2K,EAAAL,EAAAM,cAAC8L,GAAD,MAEqB,IAAzB1W,EAAcZ,OACV,8BAEDuL,EAAAL,EAAAM,cAACkZ,GAAD,CAAUxE,QAAStf,EAAegc,QACpB,UAApBrT,KAAKlD,MAAMpE,MAAoBsH,KAAKvH,MAAMgJ,SACzC,CAAC,CAAEd,MAAO,aAAcmK,QAAS9K,KAAK+Z,mBAAsB,KAE/D,IAAK,SACJ,OAAe,MAAX9gB,EACI+I,EAAAL,EAAAM,cAAC8L,GAAD,MAEe,IAAnB9U,EAAQxC,OACJ,iCAEDuL,EAAAL,EAAAM,cAAA,SAAOxB,MAAO,CAAE8P,MAAO,SAC7BvO,EAAAL,EAAAM,cAAA,aACEH,IAAI/K,OAAAC,EAAA,EAAAD,CAAA,CAAEqkB,EAAG,CAAEjkB,IAAK,IAAQ8B,GAAW,SAAAyb,GACnC,OAAO1S,EAAAL,EAAAM,cAACoZ,GAAD,CACN3G,OAAQA,EACRvS,IAAKuS,EAAOvd,GACZuB,KAAM8S,EAAK1O,MAAMpE,KACjB2d,oBAAqB7K,EAAK1O,MAAMuZ,oBAChC5U,SAAU+J,EAAK/S,MAAMgJ,SACrB8N,aAAc/D,EAAK8O,yBAKxB,IAAK,aACJ,OAAsB,MAAlBnF,EACInT,EAAAL,EAAAM,cAAC8L,GAAD,MAGP/L,EAAAL,EAAAM,cAAA,WAEsB,UAApBjC,KAAKlD,MAAMpE,MAAoBsH,KAAKvH,MAAMgJ,UAC1CO,EAAAL,EAAAM,cAAA,WACCD,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,SAASzM,MAAM,UAAU8C,MAAO,CAAEQ,OAAQ,cAA9D,qBAGAe,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE2L,QAAS,gBACtBpK,EAAAL,EAAAM,cAACqZ,GAAD,CAAYnb,SAAUH,KAAKqa,6BAA8B/Z,MAAO4Z,EAAe9iB,SAC/E4K,EAAAL,EAAAM,cAACsM,EAAD,CAAO9M,UAAQ,EAACd,MAAM,MAAML,MAAO4Z,EAAeC,kBAAmBrZ,QAAS,CAAC,CAAER,MAAO,UAAWK,MAAO,YAAc,CAAEL,MAAO,UAAWK,MAAO,WAAaR,SAAUH,KAAKoa,iCAC/KpY,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAASlS,MAAOmX,EAAeoG,SAASrB,EAAe9iB,SAAWC,EAAckkB,SAASrB,EAAe9iB,QAAU,mEAAqE,GAAIsZ,UAAW,eAAgBD,WAAY,KACjOzO,EAAAL,EAAAM,cAAA,WACCD,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQyI,QAAQ,YACfjO,SAAmC,MAAzB+d,EAAe9iB,QAAkB+d,EAAeoG,SAASrB,EAAe9iB,SAAWC,EAAckkB,SAASrB,EAAe9iB,QACnIuG,MAAM,UAAU8C,MAAO,CAAE6N,UAAW,QAAUxD,QAAS9K,KAAKia,mBAF7D,eAQHjY,EAAAL,EAAAM,cAAC0Q,GAAAhR,EAAD,MACAK,EAAAL,EAAAM,cAAA,YAIyB,IAA1BkT,EAAe1e,OAAe,yCAC7BuL,EAAAL,EAAAM,cAACkZ,GAAD,CAAUxE,QAASxB,KAKxB,IAAK,SACJ,OAAsB,MAAlBA,GAAqC,MAAXlc,GAA+B,MAAZ2b,EACzC5S,EAAAL,EAAAM,cAAC8L,GAAD,MAED/L,EAAAL,EAAAM,cAACuZ,GAAD,CACNrG,eAAgBA,EAChBlc,QAASA,EACT2b,SAAUA,EACVnT,SAAUzB,KAAKvH,MAAMgJ,SACrB8N,aAAcvP,KAAKwa,uBAErB,IAAK,cACJ,OAAsB,MAAlBrF,GAAyC,MAAf7F,EACtBtN,EAAAL,EAAAM,cAAC8L,GAAD,MAED/L,EAAAL,EAAAM,cAACwZ,GAAD,CACNnM,YAAaA,EACb/X,QAASO,EAAMX,GACfsK,SAAUzB,KAAKvH,MAAMgJ,SACrB8N,aAAcvP,KAAKua,yBAErB,QAAS,OAAO,kDA0CjBva,KAAK0b,uDAIL1b,KAAK0b,4CAIL,IAAI5jB,EAAQkI,KAAKvH,MAAMX,MACjBT,EAAgB2I,KAAKvH,MAAMX,MAAMT,cACjC4B,EAAU+G,KAAKvH,MAAMX,MAAMmB,QAC3Bkc,EAAiBnV,KAAKvH,MAAMX,MAAMqd,eAClC7F,EAActP,KAAKvH,MAAMX,MAAMwX,YAC/BsF,EAAW5U,KAAKvH,MAAMX,MAAM8c,SAElC,OAAQ5U,KAAKvH,MAAMyiB,YAClB,IAAK,iBACiB,MAAjB7jB,GACH2I,KAAKlD,MAAM6e,oBAAoB7jB,EAAMX,IAEtC,MACD,IAAK,SACW,MAAX8B,GACH+G,KAAKlD,MAAM8e,gBAAgB9jB,EAAMX,IAElC,MACD,IAAK,aACkB,MAAlBge,GACHnV,KAAKlD,MAAM+e,qBAAqB/jB,EAAMX,IAElB,MAAjBE,GACH2I,KAAKlD,MAAM6e,oBAAoB7jB,EAAMX,IAEtC,MACD,IAAK,SACkB,MAAlBge,GACHnV,KAAKlD,MAAM+e,qBAAqB/jB,EAAMX,IAExB,MAAX8B,GACH+G,KAAKlD,MAAM8e,gBAAgB9jB,EAAMX,IAElB,MAAZyd,GACH5U,KAAKlD,MAAMgf,iBAAiBhkB,EAAMX,IAEnC,MACD,IAAK,cACe,MAAfmY,GACHtP,KAAKlD,MAAMif,oBAAoBjkB,EAAMX,IAEhB,MAAlBge,GACHnV,KAAKlD,MAAM+e,qBAAqB/jB,EAAMX,sCAsGzC,IAAMsK,EAAWzB,KAAKvH,MAAMgJ,SACtB/I,EAAOsH,KAAKlD,MAAMpE,KACpBZ,EAAQkI,KAAKvH,MAAMX,MACvB,OACCkK,EAAAL,EAAAM,cAACyQ,GAAD,KACC1Q,EAAAL,EAAAM,cAAC+Z,GAADjlB,OAAAklB,OAAA,GAAejc,KAAKlD,MAApB,CAA2B2E,SAAUA,EAAU3J,MAAOA,EAAOqI,SAAUH,KAAKuP,gBAC5EvN,EAAAL,EAAAM,cAAC0Q,GAAAhR,EAAD,MACAK,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE2L,QAAS,SAEZ,YAAT1T,GACAsJ,EAAAL,EAAAM,cAAC6O,GAAD,CACChZ,MAAOA,EACP2I,MAAO,CAAEQ,OAAQ,WAIP,YAATvI,GAA+B,UAATA,KAAsB+I,GAC9CO,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQhE,MAAM,YAAYyM,QAAQ,YAAY3J,MAAO,CAAEQ,OAAQ,QAAU6J,QAAS9K,KAAK0a,aACrF,YAIFjZ,GACAO,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQhE,MAAM,YAAYyM,QAAQ,YAAY3J,MAAO,CAAEQ,OAAQ,QAAU6J,QAAS9K,KAAK6S,MACrF,WAIFpR,GACAO,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQhE,MAAM,UAAU8C,MAAO,CAAEQ,OAAQ,QAAU6J,QAAS9K,KAAK2a,QAC/D,aAGH3Y,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAEmC,KAAM,OAElB5C,KAAKkc,oBAAoBpkB,IAE1BkK,EAAAL,EAAAM,cAAC2I,GAAAjJ,EAAD,CAAQhE,MAAM,UAAUyM,QAAQ,YAAY3J,MAAO,CAAEQ,OAAQ,QAAU6J,QAAS9K,KAAKgb,iBAC1E,YAATtiB,EAAqB,cAAgB,iBAIzCsJ,EAAAL,EAAAM,cAACka,GAAAxa,EAAD,CAAQW,SAAS,SAAS3E,MAAM,WAC/BqE,EAAAL,EAAAM,cAACma,GAAAza,EAAD,CACCrB,MAAON,KAAKvH,MAAMsiB,KAAKtjB,QAAQuI,KAAKvH,MAAMyiB,YAC1C/a,SAAUH,KAAK6a,UACfwB,eAAe,UACfC,UAAU,UACVlS,QAAQ,YACRmS,UAAQ,GAEPvc,KAAKvH,MAAMsiB,KAAKjZ,IAAI,SAAA0a,GAAG,OACvBxa,EAAAL,EAAAM,cAACwa,GAAA9a,EAAD,CAAKQ,IAAKqa,EAAK7b,MACdqB,EAAAL,EAAAM,cAACya,GAAD,CAAmBpY,MAAO,UAAYxM,EAAMX,IAAM,IAAM,QAAUqlB,EAAK/b,MAAO,CAAEuP,YAAa,UAC3FwM,SAKNxa,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE8P,MAAO,MAAOtP,OAAQ,SAClCjB,KAAK2c,cAAc3c,KAAKvH,MAAMyiB,aAEhClZ,EAAAL,EAAAM,cAAC2a,GAAD,CAAkB5F,YAAahX,KAAKvH,MAAMgJ,+DAhXbuB,EAAWC,GAC1C,IAAIxJ,EAASga,KAAYC,MAAM1Q,EAAU4E,SAASG,QAClD,OAAOhR,OAAAC,EAAA,EAAAD,CAAA,GACHkM,EADJ,CAECnL,MAAMf,OAAAC,EAAA,EAAAD,CAAA,GACFiM,EAAUlL,MACVmL,EAAUnL,OAEdojB,WAAYzhB,EAAO+iB,IAAM/iB,EAAO+iB,IAAMvZ,EAAU8X,KAAK,YA9DhClX,aA+aTmH,gBAAW8O,ICnbpB+C,+LAGJ,IAAM/f,EAAQkD,KAAKlD,MACG,MAAlBA,EAAM1E,UACT0E,EAAM4J,cAEY,MAAf5J,EAAMhF,OAAkBgF,EAAMoW,WACjCpW,EAAMggB,SAAShgB,EAAMvF,0CAKtB,GAAwB,MAApByI,KAAKlD,MAAMhF,MACd,MAA2B,SAAvBkI,KAAKlD,MAAMsP,SAAsBpM,KAAKlD,MAAMoW,UAE9ClR,EAAAL,EAAAM,cAACyQ,GAAD,0CAKM1S,KAAKlD,MAAMoW,UAAY,KAAOlR,EAAAL,EAAAM,cAAC8L,GAAD,MAGvC,OAAQ/N,KAAKlD,MAAMsP,SAClB,IAAK,OACJ,OACCpK,EAAAL,EAAAM,cAAC8a,GAAc/c,KAAKlD,OAEtB,IAAK,OACL,QACC,OACCkF,EAAAL,EAAAM,cAAC+a,GAAchd,KAAKlD,eAhCL+G,aAkFLmH,mBAAWC,YA3C1B,SAAyBxS,EAAOyV,GAC/B,IAAI/W,GAAM+W,EAAS2D,MAAMwC,OAAO9c,SAAW2W,EAAS3W,SAAW,GAC3D6U,EAAU8B,EAAS9B,SAAW,OAE9B8G,GAAY,EACZpb,EAAQ,KAERue,GAAuF,IAAjE5d,EAAMlC,MAAMkC,EAAMrB,QAAQ6lB,sBAAsBxlB,QAAQN,GAQlF,OAPoB,MAAhBsB,EAAMZ,QAAsC,MAApBY,EAAMZ,OAAOV,GAC9B,MAANA,IAAqE,IAAvDsB,EAAMF,WAAWd,QAAQ,aAAeN,EAAK,OAC9D+b,GAAY,GAGbpb,EAAQW,EAAMZ,OAAOV,GAEf,CACNW,QACAob,YACA9G,UACA1T,KAAMD,EAAMC,KACZnB,QAASJ,EACTiB,SAAUK,EAAML,SAChBhB,OAAQqB,EAAMrB,OACdif,sBACAle,WAAYM,EAAMN,aAIpB,SAA4B6L,GAC3B,MAAO,CACN4W,SAAU,SAAC9iB,GAAD,OAAWkM,ErBwIhB,SAAkBlM,GACxB,OAAO,SAACkM,EAAUiB,GACjB,SAASiY,EAAUplB,GAClB,MAAO,CACN6Q,SAAU7Q,EAAM6Q,SAChBF,UAAW3Q,EAAM2Q,UACjBH,KAAMxQ,EAAM0U,WACZjE,YAAazQ,EAAM0Z,kBACnBqG,UAAW/f,EAAM+f,UACjBhL,QAAS/U,EAAM+U,SAIjB,SAASsQ,EAAerlB,GACvB,MAAO,CACN6Q,SAAU7Q,EAAM6Q,SAChBpR,QAASO,EAAMX,GACfgV,IAAKrU,EAAMqU,IACXhU,WAAYL,EAAMK,WAClBoZ,cAAezZ,EAAMyZ,cACrBtD,OAAQnW,EAAMmW,QAIhB,IAAMmP,EAAYF,EAAUjY,IAAWpN,OAAOC,EAAMX,KAC9CkmB,EAAYH,EAAUplB,GAEtBwlB,EAAiBH,EAAelY,IAAWpN,OAAOC,EAAMX,KACxDomB,EAAiBJ,EAAerlB,GAEhC0lB,EAAavY,IAAWpN,OAAOC,EAAMX,IAAI8B,QACzCwkB,EAAa3lB,EAAMmB,QAEnBykB,EAAczY,IAAWpN,OAAOC,EAAMX,IAAIyd,SAC1C+I,EAAc7lB,EAAM8c,SAEpBgJ,EAAiB3Y,IAAWpN,OAAOC,EAAMX,IAAImY,YAC7CD,EAAiBvX,EAAMwX,YAS7B,GAPIgD,KAAKC,UAAU6K,KAAe9K,KAAKC,UAAU8K,IAChD9Y,EAAU,UAAW,QAAS8Y,EAAWrZ,EAAUiB,GAEhDqN,KAAKC,UAAU+K,KAAoBhL,KAAKC,UAAUgL,IACrDhZ,EAAU,SAAU,QAASgZ,EAAgBvZ,EAAUiB,GAGpDqN,KAAKC,UAAUmL,KAAiBpL,KAAKC,UAAUoL,GAAc,CAChE,IAAME,EAAsBjc,IAAO+b,EAAa,SAAC/I,GAChD,OAAOtC,KAAKC,UAAUqC,KAActC,KAAKC,UAAUmL,EAAY9I,EAASzd,OAEzEoN,EAAU,iBAAkB,QAC3B,CACCqQ,SAAUtC,KAAKC,UAAUzQ,IAAI+b,EAAqB,SAACA,GAA0B,OAAOA,KACpFtmB,QAASO,EAAMX,IACb6M,EAAUiB,GAOf,GAJkB,MAAdwY,GAAsBnL,KAAKC,UAAUiL,KAAgBlL,KAAKC,UAAUkL,IACvElZ,EAAU,gBAAiB,QAAS,CAAEtL,QAASqZ,KAAKC,UAAUzQ,IAAI2b,EAAY,SAAC/I,GAAa,OAAOA,MAAe1Q,EAAUiB,GAGzHqN,KAAKC,UAAUqL,KAAoBtL,KAAKC,UAAUlD,GAAiB,CAEtE,IADA,IAAIyO,EAAqB,GAChB1Y,EAAI,EAAGA,EAAIiK,EAAe5Y,OAAQ2O,IAAK,CAC/C,IAAMyJ,EAAaQ,EAAejK,GAC9BkN,KAAKC,UAAUqL,EAAexY,MAAQkN,KAAKC,UAAU1D,IACxDiP,EAAmBvc,KAAKsN,GAI1BtK,EAAU,oBAAqB,QAAS,CACvC+K,YAAagD,KAAKC,UAAUuL,GAC5BnlB,YAAasM,IAAWtM,aACtBqL,EAAUiB,GAGdjB,EAAS,CACRpN,KAAM,eACNkB,MAAOA,KqBtNsB8iB,CAAS9iB,KACvCglB,SAAU,SAACvlB,GAAD,OAAayM,ErBmBlB,SAAkBzM,GACxB,OAAO,SAACyM,EAAUiB,GACjBV,EAAU,QAAS,OAAQ,CAAEhN,QAASA,GAAWyM,EAAUiB,GACzDkB,KAAK,SAACrO,GACNkM,EAAS,CACRpN,KAAM,gBACNiB,OAAOd,OAAAE,EAAA,EAAAF,CAAA,GAAIQ,EAAUO,OAEpB0O,MAAM,eqB3BsBsW,CAASvlB,KACzCokB,oBAAqB,SAACpkB,GAAD,OAAayM,ErBsP7B,SAA6BzM,GACnC,OAAO,SAACyM,EAAUiB,GACjBV,EAAU,oBAAqB,OAAQ,CAAEhN,QAASA,GAAWyM,EAAUiB,GACrEkB,KAAK,SAACiC,GACNpE,EAAS,CACRpN,KAAM,eACNkB,MAAO,CACNX,GAAII,EACJF,cAAeN,OAAOyC,KAAK4O,GAAatG,IAAI,SAAA3K,GAAE,OAAI4mB,SAAS5mB,EAAI,SAGjE6M,EAAS,CACRpN,KAAM,eACNL,MAAO6R,MAEN5B,MAAM,eqBrQiCmV,CAAoBpkB,KAC/DqkB,gBAAiB,SAACrkB,GAAD,OAAayM,ErBwQzB,SAAyBzM,GAC/B,OAAO,SAACyM,EAAUiB,GACjBV,EAAU,gBAAiB,OAAQ,CAAEhN,QAASA,GAAWyM,EAAUiB,GACjEkB,KAAK,SAAClN,GACN+K,EAAS,CACRpN,KAAM,eACNkB,MAAO,CACNX,GAAII,EACJ0B,gBqBhRmC2iB,CAAgBrkB,KACvDskB,qBAAsB,SAACtkB,GAAD,OAAayM,ErBqS9B,SAA8BzM,GACpC,OAAO,SAACyM,EAAUiB,GACjBV,EAAU,qBAAsB,OAAQ,CAAEhN,QAASA,GAAWyM,EAAUiB,GACtEkB,KAAK,SAAC6X,GACNha,EAAS,CACRpN,KAAM,eACNkB,MAAO,CACNX,GAAII,EACJ4d,eAAgBpe,OAAOyC,KAAKwkB,GAAclc,IAAI,SAAA3K,GAAE,OAAI4mB,SAAS5mB,EAAI,SAGnE6M,EAAS,CACRpN,KAAM,eACNL,MAAOynB,OqBlTkCnC,CAAqBtkB,KACjEwkB,oBAAqB,SAACxkB,GAAD,OAAayM,ErB2X7B,SAA6BzM,GACnC,OAAO,SAACyM,EAAUiB,GACjBV,EAAU,oBAAqB,OAAQ,CAAEhN,WAAWyM,EAAUiB,GAAU,GAAMkB,KAAK,SAACmJ,GACnFtL,EAAS,CACRpN,KAAM,eACNkB,MAAO,CACNX,GAAII,EACJ+X,YAAaA,QqBlY2ByM,CAAoBxkB,KAC/DukB,iBAAkB,SAACvkB,GAAD,OAAayM,ErBoR1B,SAA0BzM,GAChC,OAAO,SAACyM,EAAUiB,GACjBV,EAAU,iBAAkB,OAAQ,CAAEhN,QAASA,GAAWyM,EAAUiB,GAClEkB,KAAK,SAACyO,GACN5Q,EAAS,CACRpN,KAAM,eACNkB,MAAO,CACNX,GAAII,EACJqd,iBqB5RoCkH,CAAiBvkB,KACzDmP,YAAa,kBAAM1C,EAAS0C,MAC5BsT,eAAgB,SAAC5iB,EAAQG,EAAS4iB,GAAlB,OAAwCnW,ErB6bnD,SAAwB5M,EAAQG,EAAS4iB,GAC/C,OAAO,SAACnW,EAAUiB,GACjB,OAAOV,EAAU,qBAAsB,QAAS,CAAEnN,SAAQG,UAAS4iB,qBAAqBnW,EAAUiB,GAChGkB,KAAK,WACL,IAAM3O,EAAQyN,IAAWpN,OAAON,GAASF,cAAcI,QAAQL,GAC/D4M,EAAS,CACRpN,KAAM,eACNkB,MAAO,CACNX,GAAII,EACJF,cAAa,GAAAC,OAAAP,OAAAW,EAAA,EAAAX,CACTkO,IAAWpN,OAAON,GAASF,cAAcM,MAAM,EAAGH,IADzCT,OAAAW,EAAA,EAAAX,CAETkO,IAAWpN,OAAON,GAASF,cAAcM,MAAMH,EAAQ,QAI7DwM,EAAS,CACRpN,KAAM,mBACNgC,aAAc,CACbzB,GAAI+M,KAAKC,SACTC,SAAU,MACVxN,KAAM,MACNyN,QAAS,2CACTC,MAAO,UqBndsD0V,CAAe5iB,EAAQG,EAAS4iB,KACjGhT,gBAAiB,SAACvO,GAAD,OAAkBoL,EAASmD,GAAgBvO,OAIpCqS,CAA6C4R,sFCpFjEoB,eAEL,SAAAA,EAAYnhB,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAie,IAClBne,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAknB,GAAAnlB,KAAAkH,KAAMlD,KAsCPohB,iBAAmB,SAAArI,GAClB/V,EAAKhD,MAAMwN,QAAQ/I,KAAK,CACvBwG,OAAM,OAAAzQ,OAASue,EAAT,UAAAve,OAAyBwI,EAAKrH,MAAMwV,OAApC,cAAA3W,OAAuDwI,EAAKrH,MAAMN,eAzCvD2H,EA6CnBqe,mBAAqB,SAAAlQ,GACpBnO,EAAKhD,MAAMwN,QAAQ/I,KAAK,CACvBwG,OAAM,OAAAzQ,OAASwI,EAAKrH,MAAMod,QAApB,UAAAve,OAAoC2W,EAApC,cAAA3W,OAAuDwI,EAAKrH,MAAMN,eA/CvD2H,EAmDnBse,iBAAmB,SAAAjmB,GAClB2H,EAAKhD,MAAMwN,QAAQ/I,KAAK,CACvBwG,OAAM,OAAAzQ,OAASwI,EAAKrH,MAAMod,QAApB,UAAAve,OAAoCwI,EAAKrH,MAAMwV,OAA/C,cAAA3W,OAAkEa,MAnDzE2H,EAAKrH,MAAQ,CACZwV,OAAQnR,EAAM7E,cACdomB,SAAU,YACVxI,QAAS,MALQ/V,mFA6BlBE,KAAKlD,MAAM4J,cACX1G,KAAKlD,MAAM6J,wDAGQkP,GACnB,OAAOjU,IAAO5B,KAAKlD,MAAMjF,OAAQ,SAACC,GACjC,OAAO+d,IAAY/d,EAAMuZ,kDAsBfrT,EAAO6X,GAAS,IAAArK,EAAAxL,KACvBrC,EAASqC,KAAKvH,MAAMod,UAAYA,EAAW,UAAY,UAC3D,OACC7T,EAAAL,EAAAM,cAACqc,GAAA3c,EAAD,CAAUtD,QAAM,EAACyM,QAAS,kBAAMU,EAAK0S,iBAAiBrI,IAAU1T,IAAKnE,GACpEgE,EAAAL,EAAAM,cAACsc,GAAA5c,EAAD,KACCK,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYyI,QAAQ,SAASzM,MAAOA,EAAO8C,MAAO,CAAE+d,SAAU,UAC5DxgB,4CAOS,IAAA2O,EAAA3M,KACRye,EAAqB3c,IAAI9B,KAAKlD,MAAM1E,SAAU,SAACyd,GACpD,OAAOlJ,EAAK+R,YAAY7I,EAAQvN,KAAMuN,EAAQvN,QAK/C,MAHwB,YAApBtI,KAAKlD,MAAMpE,MACd+lB,EAAmBpJ,QAAQrV,KAAK0e,YAAY,eAAgB,aAEtDD,mCAGC,IACJzlB,EADI4T,EAAA5M,KAqDR,MAnD2B,aAAvBA,KAAKvH,MAAMod,QACsB,MAAhC7V,KAAKlD,MAAM6hB,mBACd3lB,EAAOgJ,EAAAL,EAAAM,cAAC8L,GAAD,MACP/N,KAAKlD,MAAMqL,mBAEXnP,EAAOgH,KAAKlD,MAAM6hB,kBAAkB7c,IAAI,SAACvK,GACxC,OACCyK,EAAAL,EAAAM,cAAC2c,GAAD,CACCzc,IAAK5K,EACLA,QAASA,EACT6U,QAAQ,WAIiC,IAAxCpM,KAAKlD,MAAM6hB,kBAAkBloB,SAChCuC,EACCgJ,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAEQ,OAAQ,SAAtB,wCAOwB,MAAvBjB,KAAKlD,MAAM1E,UAAyC,MAArB4H,KAAKlD,MAAMjF,QAAkBmI,KAAKlD,MAAM+hB,iBAAmB,KAC7F7lB,EAAOgJ,EAAAL,EAAAM,cAAC8L,GAAD,OAER/U,EAAOgH,KAAK8e,oBAAoB9e,KAAKvH,MAAMod,SACzCjU,OAAO,SAAC9J,GAAD,OAAoB,MAATA,IAClB8J,OAAO,SAAC9J,GACR,MAA0B,QAAtB8U,EAAKnU,MAAMwV,QACPnW,EAAMmW,OAAS,KAAOrB,EAAKnU,MAAMwV,SAKzCrM,OAAO,SAAC9J,GACR,MAA8B,QAA1B8U,EAAKnU,MAAMN,YACPL,EAAMK,WAAa,KAAOyU,EAAKnU,MAAMN,aAK7CsX,KAAK,SAAC9N,EAAG+N,GAAJ,OAAU/N,EAAEsM,OAASyB,EAAEzB,SAC5BnM,IAAI,SAAChK,GACL,OAAOkK,EAAAL,EAAAM,cAAC2c,GAAD,CACNzc,IAAKrK,EAAMX,GACXI,QAASO,EAAMX,GACfiV,QAAQ,YAKXpK,EAAAL,EAAAM,cAACyQ,GAAD,KACC1Q,EAAAL,EAAAM,cAACsI,GAAA5I,EAAD,CAAOlB,MAAO,CAAE6B,SAAU,aACzBN,EAAAL,EAAAM,cAAC8c,GAAApd,EAAD,CAASlB,MAAO,CAAE2L,QAAS,SAC1BpK,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYyI,QAAQ,YAAYzM,MAAM,gBAAgB8C,MAAO,CAAEmC,KAAM,aAArE,8BAGAZ,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,OACNL,MAAON,KAAKvH,MAAMwV,OAClBxM,UAAQ,EACRhB,MAAO,CAAEmC,KAAM,QACf9B,QAAS,CACR,CAAEH,MAAO,OAAQL,MAAO,OACxB,CAAEK,MAAO,SAAUL,MAAO,KAC1B,CAAEK,MAAO,SAAUL,MAAO,KAC1B,CAAEK,MAAO,SAAUL,MAAO,KAC1B,CAAEK,MAAO,SAAUL,MAAO,MAC3BH,SAAUH,KAAKme,qBAEhBnc,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,WACNF,MAAO,CAAEmC,KAAM,QACftC,MAAON,KAAKvH,MAAMN,WAClBsJ,UAAQ,EACRX,QAAS,CACR,CAAEH,MAAO,OAAQL,MAAO,OACxB,CAAEK,MAAO,YAAaL,MAAO,aAC7B,CAAEK,MAAO,YAAaL,MAAO,aAC7B,CAAEK,MAAO,YAAaL,MAAO,aAC7B,CAAEK,MAAO,YAAaL,MAAO,aAC7B,CAAEK,MAAO,YAAaL,MAAO,aAC7B,CAAEK,MAAO,YAAaL,MAAO,cAC9BH,SAAUH,KAAKoe,qBAIlBpc,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE2L,QAAS,QAAU3J,UAAU,+BAC1CT,EAAAL,EAAAM,cAACsI,GAAA5I,EAAD,KACCK,EAAAL,EAAAM,cAAC+c,GAAArd,EAAD,CAAMwO,UAAU,MAAM1P,MAAO,CAAEmC,KAAM,IACnC5C,KAAKif,iBAGRjd,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAEgK,QAAS,SACrBzR,IAGHgJ,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAAA,+DA7K6Be,EAAWC,GAAW,IAAAic,EACvBzL,KAAYC,MAAM1Q,EAAU4E,SAASG,QAA7DoX,EAD+CD,EAC/CC,KAAMC,EADyCF,EACzCE,IAAKf,EADoCa,EACpCb,SAUjB,OATKe,GAA6B,MAAtBpc,EAAU5K,WACrBgnB,EAAMpc,EAAU5K,SAASrB,OAAOyC,KAAKwJ,EAAU5K,UAAU,IAAIkQ,MAEzD6W,IACJA,EAAOnc,EAAU9K,iBAAmB,IAEhCmmB,IACJA,EAAW,aAELtnB,OAAAC,EAAA,EAAAD,CAAA,GACHkM,EADJ,CAECgL,OAAQkR,EACRtJ,QAASuJ,EACTjnB,WAAYkmB,WA1BYxa,aAiNZoH,mBAnBf,SAAyBxS,GACxB,MAAO,CACNC,KAAMD,EAAMC,KACZR,iBAAkBO,EAAMP,iBACxBF,iBAAkBS,EAAMT,iBACxBH,OAAQY,EAAMZ,OACdO,SAAUK,EAAML,SAChBumB,kBAAmBlmB,EAAMlC,MAAMkC,EAAMrB,QAAQC,gBAI/C,SAA4B2M,GAC3B,MAAO,CACN0C,YAAa,kBAAM1C,EAAS0C,MAC5BC,UAAW,kBAAM3C,EAAS2C,MAC1BwB,eAAgB,kBAAMnE,EAASmE,SAIlB8C,CAA6CgT,yBCpNtDoB,GAAc,CACnB9oB,MAAO,OACP+Y,YAAa,UACblH,YAAa,UAGRkX,eAEL,SAAAA,EAAYxiB,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAsf,IAClBxf,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAuoB,GAAAxmB,KAAAkH,KAAMlD,KAkBPyiB,kBAAoB,WACnBzf,EAAKyE,UAAUzE,EAAKrH,MAAMO,MACxBmN,KAAK,SAAAqZ,GAAM,OAAI1f,EAAKmK,SAAS,CAAEuV,OAAQ1f,EAAK2f,WAAWD,EAAQH,GAAYvf,EAAKrH,MAAMO,YArBtE8G,EAwBnB4f,mBAAqB,SAAApf,GACpBR,EAAKhD,MAAMwN,QAAQ/I,KAAK,CACvBwG,OAAQ,QAAUzH,IAEnBR,EAAKyE,UAAUjE,GACb6F,KAAK,SAAAqZ,GAAM,OAAI1f,EAAKmK,SAAS,CAAEuV,OAAQ1f,EAAK2f,WAAWD,EAAQH,GAAYvf,EAAKrH,MAAMO,OAAQ2mB,iBAAkBtZ,MAAMmZ,EAAO/oB,aA7B7GqJ,EAgCnB2P,KAAO,SAACmQ,GACP,IAAIC,EAAQ/f,EAAKrH,MAAM+mB,OAAOI,GACxBE,EAAShgB,EAAKrH,MAAMknB,iBAAiBC,GACrCG,EAAQjgB,EAAKrH,MAAMunB,oBAAoBJ,GAE7CC,EAAQ,CAACA,EAAM,IAAIvoB,OAAOuoB,EAAMloB,MAAM,EAAGkoB,EAAMppB,QAAQgZ,KAAK,SAAC9N,EAAG+N,GAE/D/N,EAAIA,EAAEme,GAEN,IAAMnQ,GAAY,OADlBD,EAAIA,EAAEoQ,MAC0B,MAALne,MAAgBA,EAAI+N,MAAQ/N,EAAI+N,GAC3D,MAAiB,QAAVqQ,EAAkBpQ,GAAOA,KAGjC7P,EAAKmK,SAAS,SAAAhH,GAAS,MAAK,CAC3Buc,OAAM,GAAAloB,OAAAP,OAAAW,EAAA,EAAAX,CACFkM,EAAUuc,OAAO7nB,MAAM,EAAGioB,IADxB,CAELC,GAFK9oB,OAAAW,EAAA,EAAAX,CAGFkM,EAAUuc,OAAO7nB,MAAMioB,EAAa,SAjDvB9f,EAsDnBoe,iBAAmB,SAAC0B,EAAYK,GAC/BngB,EAAKmK,SAAS,SAAAhH,GAAS,MAAK,CAC3B0c,iBAAiB5oB,OAAAC,EAAA,EAAAD,CAAA,GACbkM,EAAU0c,iBADE5oB,OAAAE,EAAA,EAAAF,CAAA,GAEd6oB,EAAaK,IAEfD,oBAAoBjpB,OAAAC,EAAA,EAAAD,CAAA,GAChBkM,EAAU+c,oBADKjpB,OAAAE,EAAA,EAAAF,CAAA,GAEjB6oB,EAA2D,SAA9C3c,EAAU+c,oBAAoBJ,IAA0B3c,EAAU0c,iBAAiBC,KAAgBK,EAAc,MAAQ,WAErI,kBAAMngB,EAAK2P,KAAKmQ,MAhEF9f,EAmEnB2f,WAAa,SAACI,EAAOK,GACpB,IAAIC,EAAaN,EAAM,GAAGO,UAAU,SAAAtpB,GAAC,OAAIA,IAAMopB,IAC/C,GAAIC,EAAa,EAChB,MAAO,CAACN,GAGT,IADA,IAAIL,EAAS,CAAC,CAACK,EAAM,GAAIA,EAAM,KALIQ,EAAA,SAM1Bjb,GACR,IAAIwa,EAAaJ,EAAOY,UAAU,SAAAE,GAAc,OAAIA,EAAe,GAAGH,KAAgBN,EAAMza,GAAG+a,KAC3FP,EAAa,IAChBJ,EAAOje,KAAK,CAACse,EAAM,KACnBD,EAAaJ,EAAO/oB,OAAS,GAE9B+oB,EAAOI,GAAYre,KAAKse,EAAMza,KANtBA,EAAI,EAAGA,EAAIya,EAAMppB,OAAQ2O,IAAKib,EAA9Bjb,GAQT,OAAOoa,GAjFW1f,EAoFnByE,UAAY,SAACsb,GACZ,OAAO9Z,IAAEC,KAAK,CACbC,IAAK,oBACLrP,KAAM,OACNoC,KAAM,CACL6mB,QACAlnB,YAAamH,EAAKhD,MAAMnE,aAEzBuN,SAAU,UA5FOpG,EAgGnBygB,eAAiB,WAIhB,IAHA,IAAMf,EAAS1f,EAAKrH,MAAM+mB,OACtBgB,EAAW,IAAIC,KAAMC,SACnBP,EAAaX,EAAO,GAAG,GAAGY,UAAU,SAAAtpB,GAAC,OAAIA,IAAMuoB,GAAYvf,EAAKrH,MAAMO,QACnEoM,EAAI,EAAGA,EAAIoa,EAAO/oB,OAAQ2O,IAAK,CACvC,IAAIub,EAAQH,EAASI,aAAapB,EAAOpa,GAAG,GAAG+a,IAC/CQ,EAAME,QAAQrB,EAAOpa,IACrB,IAAK,IAAIsT,EAAI,EAAGA,GAAK8G,EAAOpa,GAAG,GAAG3O,OAAQiiB,IACzCiI,EAAMG,UAAUpI,GAAGnI,MAAQiP,EAAOpa,GAAG,GAAGsT,EAAI,GAAGjiB,OAAS,GAAK,GAAK+oB,EAAOpa,GAAG,GAAGsT,EAAI,GAAGjiB,OAAS,EAIjG,IACIsqB,EADqB,CAAExqB,MAAO,cAAe6R,YAAa,kBAAmBkH,YAAa,kBAC9DxP,EAAKrH,MAAMO,OAAS,IAAIiQ,MAAQ+X,qBAAuB,QACvFlhB,EAAKmhB,iBAAiBT,EAAUO,IA9GdjhB,EAiHnBmhB,iBAAmB,SAACT,EAAUU,GAC7BV,EAASW,KAAKC,YAAY,CACzBC,QAAQ,IAEPlb,KAAK,SAAUmb,GACf,IAAI3f,EAAIqG,SAAS/F,cAAc,KAC3BjJ,EAAO,IAAIuoB,KAAK,CAACD,GAAQ,CAAE1qB,KAAM,sEACjCqP,EAAMub,IAAIC,gBAAgBzoB,GAC9B2I,EAAEsG,KAAOhC,EACTtE,EAAE+f,SAAWR,EACblZ,SAAS2Z,KAAKC,YAAYjgB,GAC1BA,EAAEkgB,QACFnW,WAAW,WACV1D,SAAS2Z,KAAKG,YAAYngB,GAC1B2F,OAAOka,IAAIO,gBAAgB9b,IACzB,KAEHO,MAAM,SAAUxL,GAChBgnB,QAAQC,IAAI,yDAA2DjnB,EAAMqJ,YAnI7DvE,EAuInBoiB,eAAiB,SAACC,GACjB,OAAQA,GACP,IAAK,UAEL,IAAK,cACJ,MAAO,QACR,IAAK,aACJ,MAAO,QACR,IAAK,cACJ,MAAO,QACR,QACC,MAAO,SAhJTriB,EAAKrH,MAAQ,CACZ+mB,OAAQ,KACRG,iBAAkB,GAClBK,oBAAqB,IALJlgB,wEAsJV,IACJ2U,EADIjJ,EAAAxL,KAqDR,OAlDCyU,EADwB,MAArBzU,KAAKvH,MAAM+mB,OACJxd,EAAAL,EAAAM,cAAC8L,GAAD,CAAUtN,MAAO,CAAC6N,UAAU,WAE3BtO,KAAKvH,MAAM+mB,OAAQ1d,IAAI,SAAC+d,EAAOD,GACzC,OACC5d,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAO/N,IAAKyd,EAAYnf,MAAsB,IAAfmf,EAAmB,CAAEtR,UAAW,SAAY,CAAEA,UAAW,SACvFtM,EAAAL,EAAAM,cAACiO,GAAA,EAAD,KACClO,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAU/N,IAAK,EAAG1B,MAAO,CAAE6Q,OAAQ,SACjCuO,EAAM,GAAG/d,IAAI,SAAC9D,EAAOiiB,GACrB,OACCje,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAW/N,IAAK8d,EAAaxf,MAAO,CACnC9C,MAAO,QACP6S,gBAAiB,UACjBtT,SAAU,GACVwa,IAAK,IAEL1V,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAASlS,MAAM,UAAUyS,WAAY,IAAKC,UAAU,gBACnD1O,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAgBzT,OAAQ+O,EAAK/S,MAAMknB,iBAAiBC,KAAgBK,EACnElmB,UAAWyR,EAAK/S,MAAMunB,oBAAoBJ,GAC1C9U,QAAS,SAAA1K,GAAK,OAAIoL,EAAK0S,iBAAiB0B,EAAYK,IACpDxf,MAAO,CAAEnB,OAAQ,IACjB0C,EAAAL,EAAAM,cAAA,QAAMxB,MAAO,CAAE8P,MAAO/E,EAAK0W,eAAelkB,KACxCA,UASTgE,EAAAL,EAAAM,cAACiO,GAAA,EAAD,KAEE2P,EAAMje,OAAO,SAACwgB,EAAG5qB,GAAY,OAAQA,EAAQ,IAC3CsK,IAAI,SAACugB,EAAKC,GACV,OACCtgB,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAU/N,IAAKmgB,EAAW,EAAG7hB,MAAO,CAAE6Q,OAAQ,SAC5C+Q,EAAIvgB,IAAI,SAACygB,EAAMtC,GACf,OACCje,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAW/N,IAAK8d,GAAesC,YAa1CvgB,EAAAL,EAAAM,cAACyQ,GAAD,KACC1Q,EAAAL,EAAAM,cAACqO,GAAD,KACCtO,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAO1F,UAAW,EAAG/J,MAAO,CAAE6B,SAAU,WAAYiO,MAAO,MAAOjR,OAAQ,IACzE0C,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAASzP,MAAO,CAAE2L,QAAS,SAC1BpK,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,YAAYzM,MAAM,gBAAgB8C,MAAO,CAAEmC,KAAM,aAArE,YAGAZ,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAQ9F,QAAQ,YAAYzM,MAAM,UAAUmN,QAAS9K,KAAKugB,eAAgB9f,MAAO,CAAEQ,OAAQ,WAA3F,YAGAe,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,eACNL,MAAON,KAAKvH,MAAMO,KAClByI,UAAQ,EACRX,QAAS,CACR,CAAEH,MAAO,gBAAiBL,MAAO,eACjC,CAAEK,MAAO,aAAcL,MAAO,SAC9B,CAAEK,MAAO,iBAAkBL,MAAO,gBACnCH,SAAUH,KAAK0f,uBAIjBjL,uDAzN2BzR,EAAWC,GAC1C,IAAIxJ,EAASga,KAAYC,MAAM1Q,EAAU4E,SAASG,QAClD,OAAOhR,OAAAC,EAAA,EAAAD,CAAA,GACHkM,EACA,CACFjK,KAAMS,EAAOT,KAAOS,EAAOT,KAAO,uBAhBf6K,aAiPRmH,mBAAWC,YAN1B,SAAyBxS,GACxB,MAAO,CACNE,YAAaF,EAAME,cAI8B,KAAzBsS,CAA+BqU,KC1K1CkD,eAjFd,SAAAA,EAAY1lB,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAwiB,IAClB1iB,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAyrB,GAAA1pB,KAAAkH,KAAMlD,KAgBP4iB,mBAAqB,SAAApf,GACpBR,EAAKhD,MAAMwN,QAAQ/I,KAAK,CACvBwG,OAAQ,QAAUzH,IAEnBR,EAAK2iB,eAAeniB,IAnBpBR,EAAKrH,MAAQ,CACZiqB,UAAW,MAHM5iB,mFA0BlBE,KAAKyiB,eAAeziB,KAAKvH,MAAMkqB,6CAGjBA,GAAM,IAAAnX,EAAAxL,KACpB,OAAO+F,IAAEC,KAAK,CACbC,IAAK,oBACLrP,KAAM,OACNoC,KAAM,CACL2pB,QAEDzc,SAAU,SACRC,KAAK,SAAAuc,GAAS,OAAIlX,EAAKvB,SAAS,CAClCyY,iDAKD,IAAIjO,EAaJ,OAXCA,EAD2B,MAAxBzU,KAAKvH,MAAMiqB,UACJ1gB,EAAAL,EAAAM,cAAC8L,GAAD,MAEA/N,KAAKvH,MAAMiqB,UAAU5gB,IAAI,SAAC0R,EAAGpO,GAAJ,OAClCpD,EAAAL,EAAAM,cAAA,OACCxB,MAAO,CAAE8P,MAAO,MAAOtP,OAAQ,QAC/BwB,UAAU,qBACVN,IAAKiD,EACLwd,wBAAyB,CAAEC,OAAQrP,OAKrCxR,EAAAL,EAAAM,cAACyQ,GAAD,KACC1Q,EAAAL,EAAAM,cAACsI,GAAA5I,EAAD,CACC6I,UAAW,EACX/J,MAAO,CAAE6B,SAAU,aAEnBN,EAAAL,EAAAM,cAAC8c,GAAApd,EAAD,CAASlB,MAAO,CAAE2L,QAAS,SAC1BpK,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYyI,QAAQ,YAAYzM,MAAM,gBAAgB8C,MAAO,CAAEmC,KAAM,aAArE,cAGAZ,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,OACNL,MAAON,KAAKvH,MAAMkqB,KAClBlhB,UAAQ,EACRX,QAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGgB,IAAI,SAAAghB,GAAO,MAAO,CAAEniB,MAAa,IAANmiB,EAAU,eAAiB,QAAUA,EAAGxiB,MAAOwiB,EAAI,MACnH3iB,SAAUH,KAAK0f,uBAIjBjL,sDApE4BzR,EAAWC,GAC1C,IAAIxJ,EAASga,KAAYC,MAAM1Q,EAAU4E,SAASG,QAClD,OAAOhR,OAAAC,EAAA,EAAAD,CAAA,GACHkM,EACA,CACF0f,KAAMlpB,EAAOkpB,KAAOlpB,EAAOkpB,KAAO,aAdnB9e,4ECEbkf,8MAELC,UAAY,WACXljB,EAAKhD,MAAMwN,QAAQ/I,KAAK,8EAIxB,OACCS,EAAAL,EAAAM,cAACka,GAAAxa,EAAD,CAAQc,UAAU,UACjBT,EAAAL,EAAAM,cAAC8c,GAAApd,EAAD,KACCK,EAAAL,EAAAM,cAACghB,GAAAthB,EAAD,CAAYhE,MAAM,UAAUulB,aAAW,OAAOpY,QAAS9K,KAAKlD,MAAMoL,WAAYzH,MAAO,CAAE6B,SAAU,aAChGN,EAAAL,EAAAM,cAACkhB,GAAAxhB,EAAD,OAEDK,EAAAL,EAAAM,cAAA,OACCmhB,IAAI,qCACJC,IAAI,mBACJ5iB,MAAO,CAAE6Q,OAAQ,MAAOrQ,OAAQ,OAAQkQ,UAAW,OAAQC,OAAQ,WACnEtG,QAAS9K,KAAKgjB,YAEfhhB,EAAAL,EAAAM,cAAC+c,GAAArd,EAAD,CAAMhE,MAAM,UAAU8C,MAAO,CAAEkX,MAAO,GAAIrV,SAAU,YAAcwI,QAAS9K,KAAKsjB,aAC/EthB,EAAAL,EAAAM,cAACshB,GAAA5hB,EAAD,CAAYlB,MAAO,CAAE+iB,UAAW,aAAclQ,YAAa,OAAQjS,MAAO,UAC1EW,EAAAL,EAAAM,cAAA,QAAMQ,UAAU,kBACdzC,KAAKlD,MAAM8S,uBAtBE/L,aAkDNmH,mBAAWC,YAnB1B,SAAyBxS,GACxB,OAAoB,MAAhBA,EAAMrB,OACF,CACNwY,YAAanX,EAAMlC,MAAMkC,EAAMrB,QAAQwY,YACvCxY,OAAQqB,EAAMrB,QAGT,CACNwY,YAAa,GACbxY,OAAQqB,EAAMrB,SAIhB,SAA4B4M,GAC3B,MAAO,CACNkE,WAAY,kBAAMlE,EAASkE,SAIH+C,CAA6C8X,0BCrDjEU,8MAGL9b,mBAAqB,SAACxF,GACrBrC,EAAKhD,MAAM6K,mBAAmB7H,EAAKhD,MAAMxE,cAAc6J,6EAG/C,IAAAqJ,EAAAxL,KACJ1H,EAAgB0H,KAAKlD,MAAMxE,cAAcwJ,IAAI,SAAC+W,EAAK1W,GACtD,IAAIxE,EACJ,OAAQkb,EAAIzU,UACX,IAAK,OACJzG,EAAQtE,EAAMiB,QAAQU,MAAML,KAC5B,MACD,IAAK,SACJgD,EAAQ,UACR,MACD,IAAK,MACL,QACCA,EAAQtE,EAAMiB,QAAQI,QAAQC,KAGhC,OACCqH,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACC/N,IAAKA,EACL6V,aAAc,CACbE,SAAU,SACVD,WAAY,SAEblM,MAAM,EACNtL,MAAO,CAAE6B,SAAU,YACnBohB,gBAAiB,CAAE3pB,UAAW,SAE9BiI,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACCzP,MAAO,CAAEnE,WAAYqB,EAAO4X,aAAc,OAC1ClR,QAASrC,EAAAL,EAAAM,cAAA,QAAM9K,GAAG,cAAc0hB,EAAIxU,SACpC1N,OAAQkiB,EAAIpR,OAAS,GAAI,CACxBzF,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY/N,IAAI,QACf2I,QAAS,WAAQU,EAAK7D,mBAAmBxF,KACzCH,EAAAL,EAAAM,cAAC0hB,GAAAhiB,EAAD,aAMN,OACCK,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE6B,SAAU,QAASshB,OAAQ,EAAGjM,MAAO,EAAGpH,MAAO,OAAQjR,OAAQ,KAC3EhH,UA/CyBuL,aAyEfmH,oBAAWC,YApB1B,SAAyBxS,EAAOyV,GAQ/B,MAAO,CACN5V,cARmBG,EAAMH,cAAcsJ,OAAO,SAACiX,GAC/C,IACC,MAAoB,QAAbA,EAAIjiB,MAAkB,IAAIkiB,OAAOD,EAAIvU,OAAOlB,KAAK8K,EAAStG,SAASC,UACzE,MAAOkR,GACR,OAAO,OAQV,SAA4B/U,GAC3B,MAAO,CACN2D,mBAAoB,SAAC/O,GAAD,OAAkBoL,EAAS2D,GAAmB/O,OAK1CqS,CAA6CwY,6KC7DjEI,eAEL,SAAAA,EAAY/mB,GAAO,IAAAgD,EAIlB,OAJkB/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAA6jB,IAClB/jB,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAA8sB,GAAA/qB,KAAAkH,KAAMlD,KAEDrE,MAAQ,GACLqH,EAAKhD,MAAMpE,MAClB,IAAK,UACJoH,EAAKrH,MAAMqrB,MAAQ,CAAC,SAAU,YAAa,UAAW,UACtD,MACD,IAAK,UACJhkB,EAAKrH,MAAMqrB,MAAQ,CAAC,UAAW,UAAW,UAC1C,MACD,IAAK,QACJhkB,EAAKrH,MAAMqrB,MAAQ,CAAC,UAAW,SAAU,UAAW,WAAY,OAAQ,SAAU,UAClF,MACD,IAAK,cACJhkB,EAAKrH,MAAMqrB,MAAQ,CAAC,SAAU,WAAY,UAAW,UACrD,MACD,QACChkB,EAAKrH,MAAMqrB,MAAQ,CAAC,SAAU,UAAW,UAlBzB,OAAAhkB,wEAwBlB,OAAOiG,IAAEC,KAAK,CACbC,IAAK,eACLrP,KAAM,MACNsP,SAAU,SACRC,KAAK,WACP6B,SAASJ,SAASmc,2CAIZhX,GACM,WAATA,EACH/M,KAAKgkB,SAELhkB,KAAKlD,MAAMwN,QAAQ/I,KAAK,IAAMwL,mCAKxBkX,EAAUtmB,GACjB,IAAIsW,EAAI,QAIR,OAHI5a,EAAMiB,QAAQqD,KACjBsW,EAAI5a,EAAMiB,QAAQqD,GAAOhD,MAElBspB,GACP,IAAK,aACJ,OAAOjiB,EAAAL,EAAAM,cAACiiB,GAAAviB,EAAD,CAAgBlB,MAAO,CAAE9C,MAAOsW,KACxC,IAAK,QACJ,OAAOjS,EAAAL,EAAAM,cAACkiB,GAAAxiB,EAAD,CAAWlB,MAAO,CAAE9C,MAAOsW,KACnC,IAAK,aACJ,OAAOjS,EAAAL,EAAAM,cAACmiB,GAAAziB,EAAD,CAAgBlB,MAAO,CAAE9C,MAAOsW,KACxC,IAAK,SACJ,OAAOjS,EAAAL,EAAAM,cAACshB,GAAA5hB,EAAD,CAAYlB,MAAO,CAAE9C,MAAOsW,KACpC,IAAK,aACJ,OAAOjS,EAAAL,EAAAM,cAACoiB,GAAA1iB,EAAD,CAAgBlB,MAAO,CAAE9C,MAAOsW,KACxC,IAAK,OACJ,OAAOjS,EAAAL,EAAAM,cAACqiB,GAAA3iB,EAAD,CAAUhE,MAAM,cACxB,IAAK,OACJ,OAAOqE,EAAAL,EAAAM,cAACsiB,GAAA5iB,EAAD,CAAelB,MAAO,CAAE9C,MAAOsW,KACvC,IAAK,SACJ,OAAOjS,EAAAL,EAAAM,cAACuiB,GAAA7iB,EAAD,CAAWlB,MAAO,CAAE9C,MAAOsW,KACnC,QACC,OAAO,sCAIFlH,EAAMvV,GAAO,IAAAgU,EAAAxL,KACdykB,EAAmB,IAAM1X,EAAK5V,KAAQ6I,KAAKlD,MAAM8K,SAASC,SAC5DpH,EAAQ,GACRsM,EAAK6W,SACRnjB,EAAM6B,SAAW,WACjB7B,EAAMmjB,OAAS,OAGhB,IAAMjmB,EAAQ8mB,EAAgB,UAAY,UACpCC,EACL1iB,EAAAL,EAAAM,cAAC0iB,GAAAhjB,EAAD,KACCK,EAAAL,EAAAM,cAACya,GAAD,CAAmBpY,MAAOyI,EAAK5V,IAC7B6I,KAAK4kB,QAAQ7X,EAAK2X,KAAM/mB,KAI5B,OACCqE,EAAAL,EAAAM,cAACqc,GAAA3c,EAAD,CAAUQ,IAAK3K,EAAO6G,QAAM,EAACyM,QAAS,kBAAMU,EAAKV,QAAQiC,EAAK5V,KAAKsJ,MAAOA,GACxEikB,EACD1iB,EAAAL,EAAAM,cAACkI,GAAAxI,EAAD,CAAYyI,QAAQ,SAASzM,MAAOA,EAAO8E,UAAU,kBACnDsK,EAAK/O,yCAMD,IAAA2O,EAAA3M,KA+CF6kB,EA9CQ,CACb,CACC1tB,GAAI,SACJ6G,MAAO,SACP0mB,KAAM,cAEP,CACCvtB,GAAI,UACJ6G,MAAO,eACP0mB,KAAM,SAEP,CACCvtB,GAAI,YACJ6G,MAAO,YACP0mB,KAAM,cAEP,CACCvtB,GAAI,WACJ6G,MAAO,WACP0mB,KAAM,cAEP,CACCvtB,GAAI,OACJ6G,MAAO,OACP0mB,KAAM,QAEP,CACCvtB,GAAI,SACJ6G,MAAO,SACP0mB,KAAM,WAkBN9iB,OAAO,SAAAmL,GAAI,OAA2C,IAAvCJ,EAAKlU,MAAMqrB,MAAMrsB,QAAQsV,EAAK5V,MAC7C2K,IAAI9B,KAAK8kB,QAAQpb,KAAK1J,OAElB+kB,EAjBU,CACf,CACC5tB,GAAI,UACJ6G,MAAO,UACP0mB,KAAM,UAEP,CACCvtB,GAAI,SACJ6G,MAAO,UACP0mB,KAAM,SASN9iB,OAAO,SAAAmL,GAAI,OAA2C,IAAvCJ,EAAKlU,MAAMqrB,MAAMrsB,QAAQsV,EAAK5V,MAC7C2K,IAAI9B,KAAK8kB,QAAQpb,KAAK1J,OAExB,OACCgC,EAAAL,EAAAM,cAACsI,GAAA5I,EAAD,CAAO6I,UAAW,EAAG/H,UAAU,QAC9BT,EAAAL,EAAAM,cAAC+c,GAAArd,EAAD,CAAMwO,UAAU,MAAM1P,MAAO,CAAE6Q,OAAQ,SACrCuT,EACD7iB,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE6B,SAAU,WAAYshB,OAAQ,OAAQrT,MAAO,SACzDwU,YA7JYlhB,aAsLJmH,mBAAWC,YAhB1B,SAAyBxS,GACxB,OAAoB,MAAhBA,EAAMrB,OACF,CACNwY,YAAanX,EAAMlC,MAAMkC,EAAMrB,QAAQwY,YACvCxY,OAAQqB,EAAMrB,OACdsB,KAAMD,EAAMC,MAIP,CACNkX,YAAa,GACbxY,OAAQqB,EAAMrB,OACdsB,KAAMD,EAAMC,OAIqC,KAAzBuS,CAA+B4Y,0BC7LnDmB,eAEL,SAAAA,EAAYloB,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAglB,IAClBllB,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAiuB,GAAAlsB,KAAAkH,KAAMlD,KAsBPqhB,mBAAqB,SAAAlQ,GACpBnO,EAAKhD,MAAMwN,QAAQ/I,KAAK,CACvBwG,OAAM,QAAAzQ,OAAU2W,EAAV,cAAA3W,OAA6BwI,EAAKrH,MAAM4lB,aAzB7Bve,EA6BnBse,iBAAmB,SAAAjmB,GAClB2H,EAAKhD,MAAMwN,QAAQ/I,KAAK,CACvBwG,OAAM,QAAAzQ,OAAUwI,EAAKrH,MAAMwV,OAArB,cAAA3W,OAAwCa,MA/B7B2H,EA4DnBkb,gBAAkB,WACjB,IAAM5jB,EAAS0I,EAAKhD,MAAM1F,OAKzBkQ,OAAOyE,KAAK,8BAAgC3U,EAAQ,WAhErD0I,EAAKrH,MAAQ,CACZwV,OAAQnR,EAAM7E,cAAgB,GAC9BE,WAAY,aAJK2H,2EAmCPjI,EAAQotB,GACnB,IAAIC,EAAS,GAOb,OANA/W,KAAQtW,EAAQ,SAAAC,GACVotB,EAAOD,EAAgBntB,MAC3BotB,EAAOD,EAAgBntB,IAAU,IAElCotB,EAAOD,EAAgBntB,IAAQyJ,KAAKzJ,KAE9BgK,IAAIojB,EAAQllB,KAAKmlB,2CAGhBttB,EAAQyQ,GAOhB,OANAzQ,EAASiK,IAAIjK,EAAQ,SAAAC,GAAK,OACzBkK,EAAAL,EAAAM,cAAC2c,GAAD,CAAOzc,IAAKrK,EAAMX,GACjBI,QAASO,EAAMX,GACfiV,QAAQ,WAGHpK,EAAAL,EAAAM,cAAA,OAAKE,IAAKmG,EAAM7H,MAAO,CAAEgK,QAAS,SACxCzI,EAAAL,EAAAM,cAACsM,EAAD,CAAOjO,MAAOgI,EAAM7H,MAAO,CAAE7J,KAAM,WAAY+G,MAAO,aAAe+C,OAAQ,CAAEc,MAAM,KACpF3J,EACDmK,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAASzP,MAAO,CAAE6N,UAAW,4CActB,IAAA9C,EAAAxL,KACRgiB,QAAQC,IAAIjiB,KAAKvH,OAEO,YAApBuH,KAAKlD,MAAMpE,MADD,CAAC,CAAEiI,MAAO,OAAQL,MAAO,OAAS,CAAEK,MAAO,SAAUL,MAAO,WAAa,CAAEK,MAAO,SAAUL,MAAO,WAAa,CAAEK,MAAO,SAAUL,MAAO,WAAa,CAAEK,MAAO,SAAUL,MAAO,YAEtL8kB,OAAO,EAAG,EAAG,CAAEzkB,MAAO,eAAgBL,MAAO,aAGjDN,KAAKlD,MAAMjF,QACfmI,KAAKlD,MAAMuoB,yBAEPrlB,KAAKlD,MAAMzF,eACf2I,KAAKlD,MAAMqL,iBAGZ,IAWIsM,EAXA6Q,EAAWtlB,KAAKlD,MAAMzF,eAAiB,GAY3C,GAX0B,aAAtB2I,KAAKvH,MAAMmJ,SAId0jB,EAAWtlB,KAAKlD,MAAMmgB,sBAAsBrb,OAAO,SAAAzK,GAClD,OAAkC,IAA1BmuB,EAAS7tB,QAAQN,KACvBG,OAAOguB,IAKc,MAArBtlB,KAAKlD,MAAMjF,QAA4D,IAA1Cd,OAAOyC,KAAKwG,KAAKlD,MAAMjF,QAAQpB,OAC/Dge,EAAUzS,EAAAL,EAAAM,cAAC8L,GAAD,UACJ,CACN,IAAMlW,EAASytB,EAASxjB,IAAI,SAAA3K,GAAE,OAAIqU,EAAK1O,MAAMjF,OAAOV,KAClDyK,OAAO,SAAC9J,GAAD,OAAoB,MAATA,IAClB8J,OAAO,SAAC9J,GACR,MAA0B,QAAtB0T,EAAK/S,MAAMwV,QACPnW,EAAMmW,OAAS,KAAOzC,EAAK/S,MAAMwV,SAIvCrM,OAAO,SAAC9J,GACV,MAA8B,QAA1B0T,EAAK/S,MAAMN,YACPL,EAAMK,WAAa,KAAOqT,EAAK/S,MAAMN,aAK/Csc,EAAUzU,KAAKulB,YAAY1tB,EAAQ,SAACC,GACnC,OAAOA,EAAMuZ,cAIf,OAAOrP,EAAAL,EAAAM,cAACyQ,GAAD,KACN1Q,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACC1F,UAAW,EACX/J,MAAO,CAAE6B,SAAU,aAEnBN,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAASzP,MAAO,CAAE2L,QAAS,SAC1BpK,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,YAAYzM,MAAM,gBAAgB8C,MAAO,CAAEmC,KAAM,aAC/C,YAApB5C,KAAKlD,MAAMpE,KAAqB,YAAc,gBAG3B,YAApBsH,KAAKlD,MAAMpE,MACXsJ,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAQvS,MAAM,UAAUyM,QAAQ,YAAY3J,MAAO,CAAEQ,OAAQ,QAAU6J,QAAS9K,KAAKgb,iBAArF,eAIDhZ,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,OACNL,MAAON,KAAKvH,MAAMwV,OAClBxM,UAAQ,EACRhB,MAAO,CAAEmC,KAAM,QACf9B,QAAS,CACR,CAAEH,MAAO,OAAQL,MAAO,OACxB,CAAEK,MAAO,SAAUL,MAAO,KAC1B,CAAEK,MAAO,SAAUL,MAAO,KAC1B,CAAEK,MAAO,SAAUL,MAAO,KAC1B,CAAEK,MAAO,SAAUL,MAAO,MAC3BH,SAAUH,KAAKme,qBAEhBnc,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,WACNF,MAAO,CAAEmC,KAAM,QACftC,MAAON,KAAKvH,MAAMN,WAClBsJ,UAAQ,EACRX,QAAS,CACR,CAAEH,MAAO,OAAQL,MAAO,OACxB,CAAEK,MAAO,YAAaL,MAAO,aAC7B,CAAEK,MAAO,YAAaL,MAAO,aAC7B,CAAEK,MAAO,YAAaL,MAAO,aAC7B,CAAEK,MAAO,YAAaL,MAAO,aAC7B,CAAEK,MAAO,YAAaL,MAAO,aAC7B,CAAEK,MAAO,YAAaL,MAAO,cAC9BH,SAAUH,KAAKoe,qBAIjB3J,sDA5J6BzR,EAAWC,GAAW,IAAAic,EAC5BzL,KAAYC,MAAM1Q,EAAU4E,SAASG,QAAxDoX,EAD+CD,EAC/CC,KAAMd,EADyCa,EACzCb,SAOZ,OANKc,IACJA,EAA0B,YAAnBnc,EAAUtK,KAAqB,MAAQsK,EAAU/K,cAAgB,IAEpEomB,IACJA,EAAW,aAELtnB,OAAAC,EAAA,EAAAD,CAAA,GACHkM,EADJ,CAECgL,OAAQkR,EACRhnB,WAAYkmB,WArBSxa,aAgMToH,mBApBf,SAAyBxS,GACxB,MAAO,CACNZ,OAAQY,EAAMZ,OACdolB,sBAAuBxkB,EAAMlC,MAAMkC,EAAMrB,QAAQ6lB,sBACjD5lB,cAAeoB,EAAMlC,MAAMkC,EAAMrB,QAAQC,cACzCqB,KAAMD,EAAMC,KACZT,cAAeQ,EAAMR,cACrBb,OAAQqB,EAAMrB,SAIhB,SAA4B4M,GAC3B,MAAO,CACN0C,YAAa,kBAAM1C,EAAS0C,MAC5BC,UAAW,kBAAM3C,EAAS2C,MAC1BwB,eAAgB,kBAAMnE,EAASmE,OAC/Bkd,uBAAwB,kBAAMrhB,E5BvGxB,SAACA,EAAUiB,GACjBV,EAAU,cAAe,MAAO,KAAMP,EAAUiB,GAC9CkB,KAAK,SAACtO,GACNmM,EAAS,CACRpN,KAAM,gBACNiB,aAEC2O,MAAM,mB4BoGGyE,CAA6C+Z,ICjMtDlB,GAAQ,CAAC,QAAS,MAAO,SAAU,SAEnC0B,eAEL,SAAAA,EAAY1oB,GAAO,IAAAgD,EAAA,OAAA/I,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAwlB,IAClB1lB,EAAA/I,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAyuB,GAAA1sB,KAAAkH,KAAMlD,KAgBP2oB,kBAAoB,SAACC,GACpB,OAAO1jB,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAU7R,QAAM,EAACyM,QAAS,kBAAMhL,EAAK6lB,iBAAiBD,IAAWvjB,IAAKujB,GAC5E1jB,EAAAL,EAAAM,cAACiO,GAAA,EAAD,KACClO,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,SAASzM,MAAO+nB,IAAa5lB,EAAKrH,MAAMsU,KAAO,UAAY,UAAWtM,MAAO,CAAE+d,SAAU,UAC3GkH,EAASxR,OAAO,GAAG0R,cAAgBF,EAAS/tB,MAAM,OArBpCmI,EA0CnB6lB,iBAAmB,SAAArlB,GAClBR,EAAKhD,MAAMwN,QAAQ/I,KAAK,CACvBwG,OAAQ,QAAUzH,KA5CDR,EAgDnB+lB,WAAa,WACZ,OAAQ/lB,EAAKrH,MAAMsU,MAClB,IAAK,QACJ,OAAO/K,EAAAL,EAAAM,cAAC6jB,GAAD,CAAO9hB,SAAUlE,EAAKhD,MAAMkH,WACpC,IAAK,MACJ,OAAOhC,EAAAL,EAAAM,cAAC8jB,GAAD,CAAS1d,WAAYvI,EAAKhD,MAAMuL,aACxC,IAAK,SACJ,OAAOrG,EAAAL,EAAAM,cAAC+jB,GAAD,CAAQxd,UAAW1I,EAAKhD,MAAM0L,UAAWpQ,SAAU0H,EAAKhD,MAAM1E,WACtE,IAAK,QACJ,OAAO4J,EAAAL,EAAAM,cAACgkB,GAAD,CAAOvd,SAAU5I,EAAKhD,MAAM4L,SAAUwd,QAASpmB,EAAKrH,MAAMytB,YAvDnEpmB,EAAKrH,MAAQ,CACZytB,QAAS,IAHQpmB,mFA2BC,IAAA0L,EAAAxL,KACnB+F,IAAEC,KAAK,CACNC,IAAK,kBACLrP,KAAM,MACNoC,KAAM,GACNkN,SAAU,SACRC,KAAK,SAAC+f,GACR1a,EAAKvB,SAAS,CACbic,cAGFlmB,KAAKlD,MAAM4J,+CAyBX,OACC1E,EAAAL,EAAAM,cAACyQ,GAAD,KACC1Q,EAAAL,EAAAM,cAACqO,GAAD,KACCtO,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACC1F,UAAW,EACX/J,MAAO,CAAE6B,SAAU,aAEnBN,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAASzP,MAAO,CAAE2L,QAAS,SAC1BpK,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAY9F,QAAQ,YAAYzM,MAAM,gBAAgB8C,MAAO,CAAEmC,KAAM,aAArE,YAKFZ,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAE2L,QAAS,QAAU3J,UAAU,+BAC1CT,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAO1F,UAAW,GACjBxI,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CAAMC,UAAU,MAAM1P,MAAO,CAAEmC,KAAM,IACnCkhB,GAAMhiB,IAAI9B,KAAKylB,qBAGlBzjB,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAEgK,QAAS,SACrBzK,KAAK6lB,oEA5EoB7iB,EAAWC,GAC1C,IAAIxJ,EAASga,KAAYC,MAAM1Q,EAAU4E,SAASG,QAClD,OAAOhR,OAAAC,EAAA,EAAAD,CAAA,GACHkM,EACA,CACF8J,KAAMtT,EAAOsT,KAAOtT,EAAOsT,KAAO+W,GAAM,YAdjBjgB,aA8FrBsiB,eACL,SAAAA,EAAYrpB,GAAO,IAAA6P,EAAA,OAAA5V,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAmmB,IAClBxZ,EAAA5V,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAovB,GAAArtB,KAAAkH,KAAMlD,KACDrE,MAAQ,CACZkhB,QAAS,MAHQhN,wEASV,IAAAC,EAAA5M,KACR,OAAOgC,EAAAL,EAAAM,cAAA,OAAKxB,MAAO,CAAEQ,OAAQ,WAC5Be,EAAAL,EAAAM,cAACqZ,GAAD,CAAYnb,SAAU,SAACwZ,GAAD,OAAa/M,EAAK3C,SAAS,CAAE0P,eACnD3X,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACC9F,QAAQ,YACRzM,MAAM,UACNxB,SAAgC,MAAtB6D,KAAKvH,MAAMkhB,QACrB7O,QAAS,kBAAM8B,EAAK9P,MAAMkH,U7BlDL5M,E6BkDuBwV,EAAKnU,MAAMkhB,Q7BjDnD,SAAC3V,EAAUiB,GACjBV,EAAU,iBAAkB,OAAQ,CAAEnN,SAAQuB,YAAasM,IAAWtM,aAAeqL,EAAUiB,GAC7FkB,KAAK,WACL6B,SAASJ,SAASmc,cAJf,IAAkB3sB,I6B8CtB,8BAdiByM,aAyBduiB,eACL,SAAAA,EAAYtpB,GAAO,IAAAupB,EAAA,OAAAtvB,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAomB,IAClBC,EAAAtvB,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAqvB,GAAAttB,KAAAkH,KAAMlD,KACDrE,MAAQ,CACZ6P,KAAM,GACNC,YAAa,IAJI8d,wEAOV,IAAAC,EAAAtmB,KACF6V,EAAU7V,KAAKvH,MACrB,OAAOuJ,EAAAL,EAAAM,cAAA,WACND,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,OACNL,MAAOuV,EAAQvN,KACfnI,SAAU,SAACmI,GAAD,OAAUge,EAAKrc,SAAS,CAAE3B,UACpC7G,UAAU,EACVyB,SAAU,CAAES,UAAW,MAExB3B,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,eACNL,MAAOuV,EAAQtN,YACfpI,SAAU,SAACoI,GAAD,OAAiB+d,EAAKrc,SAAS,CAAE1B,iBAC3C9G,UAAU,EACVyB,SAAU,CAAES,UAAW,KACvBjD,OAAQ,CAAEc,MAAM,KAEjBQ,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACC9F,QAAQ,YACRzM,MAAM,UACN8C,MAAO,CAAE6Q,OAAQ,OAAQrQ,OAAQ,QACjC6J,QAAS,WAAQwb,EAAKxpB,MAAMuL,WAAWwN,EAAQvN,KAAMuN,EAAQtN,aAAapC,KAAKoD,MAJhF,oBA3BmB1F,aAsChB0iB,eACL,SAAAA,EAAYzpB,GAAO,IAAA0pB,EAAA,OAAAzvB,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAAumB,IAClBC,EAAAzvB,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAAwvB,GAAAztB,KAAAkH,KAAMlD,KACDrE,MAAQ,CACZ6P,KAAM,GACNG,UAAW,IAJM+d,wEAOV,IAAAC,EAAAzmB,KACF0mB,EAAS1mB,KAAKvH,MACpB,OAAOuJ,EAAAL,EAAAM,cAAA,WACND,EAAAL,EAAAM,cAACsM,EAAD,CACC5N,MAAM,OACNL,MAAOomB,EAAOpe,KACdnI,SAAU,SAACmI,GAAD,OAAUme,EAAKxc,SAAS,CAAE3B,UACpC7G,UAAU,EACVyB,SAAU,CAAES,UAAW,IACvBlD,MAAO,CAAEmC,KAAM,OAEhBZ,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAACsM,EAAD,CACCjO,MAAOomB,EAAOje,UACdA,WAAS,EAAC9H,MAAM,MAChBR,SAAU,SAACsI,GAAD,OAAege,EAAKxc,SAAS,CAAExB,eACzChH,UAAU,EACVX,QAASgB,IAAI9B,KAAKlD,MAAM1E,SAAU,SAACyd,GAAc,MAAO,CAAEvV,MAAOuV,EAAQ1e,GAAIwJ,MAAOkV,EAAQvN,QAC5F7H,MAAO,CAAE+d,SAAU,WAEpBxc,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACC9F,QAAQ,YACRzM,MAAM,UACN8C,MAAO,CAAE6Q,OAAQ,OAAQrQ,OAAQ,QACjC6J,QAAS,WAAQ2b,EAAK3pB,MAAM0L,UAAUke,EAAOpe,KAAMoe,EAAOje,WAAWtC,KAAKoD,MAJ3E,oBA7BkB1F,aAyCfgZ,eACL,SAAAA,EAAY/f,GAAO,IAAA6pB,EAAA,OAAA5vB,OAAAgJ,EAAA,EAAAhJ,CAAAiJ,KAAA6c,IAClB8J,EAAA5vB,OAAAkJ,EAAA,EAAAlJ,CAAAiJ,KAAAjJ,OAAAmJ,EAAA,EAAAnJ,CAAA8lB,GAAA/jB,KAAAkH,KAAMlD,KACDrE,MAAQ,CACZkQ,SAAU,KACVwP,UAAW,MAJMwO,wEAOV,IAAAC,EAAA5mB,KACFlI,EAAQkI,KAAKvH,MACnB,OAAOuJ,EAAAL,EAAAM,cAAA,WACND,EAAAL,EAAAM,cAACsM,EAAD,CACCjO,MAAOxI,EAAM6Q,SACbhI,MAAM,SACNR,SAAU,SAACwI,GAAD,OAAcie,EAAK3c,SAAS,CAAEtB,cACxClH,UAAU,EACVX,QAASd,KAAKlD,MAAMopB,QAAQpkB,IAAI,SAAC4kB,GAAa,MAAO,CAAE/lB,MAAO+lB,EAAOpe,KAAMhI,MAAOomB,EAAOvvB,MACzFsJ,MAAO,CAAE+d,SAAU,WAEpBxc,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAACqZ,GAAD,CACChb,MAAOxI,EAAMqgB,UACbhY,SAAU,SAACgY,GAAD,OAAeyO,EAAK3c,SAAS,CAAEkO,iBAE1CnW,EAAAL,EAAAM,cAAA,WACAD,EAAAL,EAAAM,cAACiO,GAAA,EAAD,CACC9F,QAAQ,YACRzM,MAAM,UACN8C,MAAO,CAAE6Q,OAAQ,OAAQrQ,OAAQ,QACjC6J,QAAS,WAAQ8b,EAAK9pB,MAAM4L,SAAS5Q,EAAM6Q,SAAU7Q,EAAMqgB,WAAWhS,KAAKoD,MAJ5E,oBAzBiB1F,aAsDLoH,mBAlBf,SAAyBxS,GACxB,MAAO,CACNL,SAAUK,EAAML,SAChBP,OAAQY,EAAMZ,SAIhB,SAA4BmM,GAC3B,MAAO,CACNqE,WAAU,eAAAwe,EAAA9vB,OAAA+vB,EAAA,EAAA/vB,CAAAuO,EAAA3D,EAAAolB,KAAE,SAAA/hB,EAAOsD,EAAMC,GAAb,OAAAjD,EAAA3D,EAAA4D,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAG,OAAA,SAA6B3B,EAASqE,GAAWC,EAAMC,KAAvD,wBAAA/C,EAAAiB,SAAAzB,MAAF,gBAAAR,EAAAC,GAAA,OAAAoiB,EAAA9hB,MAAA/E,KAAAxJ,YAAA,GACVgS,UAAS,eAAAwe,EAAAjwB,OAAA+vB,EAAA,EAAA/vB,CAAAuO,EAAA3D,EAAAolB,KAAE,SAAAE,EAAO3e,EAAMG,GAAb,OAAAnD,EAAA3D,EAAA4D,KAAA,SAAA2hB,GAAA,cAAAA,EAAAzhB,KAAAyhB,EAAAxhB,MAAA,cAAAwhB,EAAAvhB,OAAA,SAA2B3B,EAASwE,GAAUF,EAAMG,KAApD,wBAAAye,EAAAzgB,SAAAwgB,MAAF,gBAAAviB,EAAAC,GAAA,OAAAqiB,EAAAjiB,MAAA/E,KAAAxJ,YAAA,GACTkS,SAAQ,eAAAye,EAAApwB,OAAA+vB,EAAA,EAAA/vB,CAAAuO,EAAA3D,EAAAolB,KAAE,SAAAK,EAAOze,EAAUvR,GAAjB,OAAAkO,EAAA3D,EAAA4D,KAAA,SAAA8hB,GAAA,cAAAA,EAAA5hB,KAAA4hB,EAAA3hB,MAAA,cAAA2hB,EAAA1hB,OAAA,SAA4B3B,EAAS0E,GAASC,EAAUvR,KAAxD,wBAAAiwB,EAAA5gB,SAAA2gB,MAAF,gBAAAxiB,EAAAC,GAAA,OAAAsiB,EAAApiB,MAAA/E,KAAAxJ,YAAA,GACR2Q,gBAAiB,SAACvO,GAAD,OAAkBoL,EAASmD,GAAgBvO,KAC5D8N,YAAa,kBAAM1C,EAAS0C,MAC5B1C,SAAUA,IAIGiH,CAA6Cua,IClPtD8B,+LAGJtnB,KAAKlD,MAAMoK,uDAIPN,GAAkB5G,KAAKlD,MAAM5F,OAA0C,aAAjC8I,KAAKlD,MAAM8K,SAASC,UAC7D7H,KAAKlD,MAAMwN,QAAQ/I,KAAK,qDAKzB,IAAIlJ,EAAW2H,KAAKvH,MAAMJ,SAC1B2H,KAAKiK,SAAS,CACb5R,UAAWA,yCAIAK,GACZ,OAAQA,GACP,IAAK,UACJ,MAAO,UACR,IAAK,cACJ,MAAO,YACR,QACC,MAAO,6CAKT,IAAKsH,KAAKlD,MAAMpE,MAAyC,WAAjCsH,KAAKlD,MAAM8K,SAASC,SAC3C,OAAO7F,EAAAL,EAAAM,cAAA,YAER,IAAMslB,EAAYvnB,KAAKwnB,aAAaxnB,KAAKlD,MAAMpE,MAC/C,OACCsJ,EAAAL,EAAAM,cAAA,OAAKQ,UAAU,OACdT,EAAAL,EAAAM,cAACwlB,GAAD,MACCznB,KAAKlD,MAAMzE,UAAY2J,EAAAL,EAAAM,cAACylB,GAAD,MACxB1lB,EAAAL,EAAAM,cAAC0lB,GAAD,MACA3lB,EAAAL,EAAAM,cAAC2lB,EAAA,EAAD,KACC5lB,EAAAL,EAAAM,cAAC4lB,EAAA,EAAD,CAAOC,KAAK,SAAS3X,UAAW3G,KAChCxH,EAAAL,EAAAM,cAAC4lB,EAAA,EAAD,CAAOC,KAAK,UAAU3X,UAAW8N,KACjCjc,EAAAL,EAAAM,cAAC4lB,EAAA,EAAD,CAAOC,KAAK,kBAAkB3X,UAAW0M,KACzC7a,EAAAL,EAAAM,cAAC4lB,EAAA,EAAD,CAAOC,KAAK,qBAAqB3X,UAAW8C,KAC5CjR,EAAAL,EAAAM,cAAC4lB,EAAA,EAAD,CAAOC,KAAK,YAAY3X,UAAW8C,KACnCjR,EAAAL,EAAAM,cAAC4lB,EAAA,EAAD,CAAOC,KAAK,cAAc3X,UAAW6U,KACrChjB,EAAAL,EAAAM,cAAC4lB,EAAA,EAAD,CAAOC,KAAK,YAAY3X,UAAW6U,KACnChjB,EAAAL,EAAAM,cAAC4lB,EAAA,EAAD,CAAOC,KAAK,aAAa3X,UAAWmP,KACpCtd,EAAAL,EAAAM,cAAC4lB,EAAA,EAAD,CAAOC,KAAK,SAAS3X,UAAWqS,KAChCxgB,EAAAL,EAAAM,cAAC4lB,EAAA,EAAD,CAAOC,KAAK,WAAW3X,UAAWqV,KAClCxjB,EAAAL,EAAAM,cAAC8lB,EAAA,EAAD,CAAUxmB,MAAI,EAACymB,GAAIT,aAnDN1jB,aA2EHmH,mBAAWC,YAhB1B,SAAyBxS,GACxB,MAAO,CACNJ,SAAUI,EAAMJ,SAChBjB,OAAQqB,EAAMrB,OACdsB,KAAMD,EAAMC,KACZxB,KAAMuB,EAAMrB,OAASqB,EAAMlC,MAAMkC,EAAMrB,QAAU,OAInD,SAA4B4M,GAC3B,MAAO,CACNkD,QAAS,kBAAMlD,EAASkD,OACxBC,gBAAiB,SAACvO,GAAD,OAAkBoL,EAASmD,GAAgBvO,OAIpCqS,CAA6Cqc,KC7ExDW,oLAZb,OACCjmB,EAAAL,EAAAM,cAACimB,EAAA,EAAD,CAAUC,MAAOnoB,KAAKlD,MAAMqrB,OAC3BnmB,EAAAL,EAAAM,cAACmmB,EAAA,iBAAD,CAAkB/uB,MAAOA,GACxB2I,EAAAL,EAAAM,cAAComB,EAAA,EAAD,KACCrmB,EAAAL,EAAAM,cAACqmB,GAAD,gBANuBzkB,oBCD7B0kB,EAAQ,KAER,IAAMC,GAAUlhB,OAAOmhB,sCAAwCC,IACzDP,GAAQQ,YACZC,EACAJ,GACEK,YAAgBC,OAIpBC,IAASC,OACRhnB,EAAAL,EAAAM,cAACgnB,GAAD,CAAgBd,MAAOA,KACvBngB,SAASkhB,eAAe","file":"static/js/main.781d3ee5.chunk.js","sourcesContent":["const DEFAULT_USERS = {\n}\n\nfunction usersReducer(users = DEFAULT_USERS, action) {\n\tswitch (action.type) {\n\t\tcase \"CHANGE_USERS\":\n\t\t\tconst newUsers = users;\n\t\t\tfor (const x in action.users) {\n\t\t\t\tnewUsers[x] = { ...newUsers[x], ...action.users[x] }\n\t\t\t}\n\t\t\treturn newUsers;\n\t\tcase \"CHANGE_USER\":\n\t\t\treturn {\n\t\t\t\t...users,\n\t\t\t\t[action.user.id]: {\n\t\t\t\t\t...users[action.user.id],\n\t\t\t\t\t...action.user\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"CHANGE_ENROLLMENTS\":\n\t\t\tif (action.action === \"ADD\") {\n\t\t\t\treturn {\n\t\t\t\t\t...users,\n\t\t\t\t\t[action.userId]: {\n\t\t\t\t\t\t...users[action.userId],\n\t\t\t\t\t\tenrollmentIds: (users[action.userId].enrollmentIds || []).concat(action.groupId)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (action.action === \"REMOVE\") {\n\t\t\t\tconst index = users[action.userId].enrollmentIds.indexOf(action.groupId);\n\t\t\t\treturn {\n\t\t\t\t\t...users,\n\t\t\t\t\t[action.userId]: {\n\t\t\t\t\t\t...users[action.userId],\n\t\t\t\t\t\tenrollmentIds: [\n\t\t\t\t\t\t\t...users[action.userId].enrollmentIds.slice(0, index),\n\t\t\t\t\t\t\t...users[action.userId].enrollmentIds.slice(index + 1),\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...users,\n\t\t\t\t[action.userId]: {\n\t\t\t\t\t...users[action.userId],\n\t\t\t\t\tenrollmentIds: action.enrollmentIds,\n\t\t\t\t}\n\t\t\t}\n\t\tdefault:\n\t\t\treturn users;\n\t}\n}\n\n\nexport default usersReducer;","const DEFAULT_GROUPS = {\n}\n\nfunction usersReducer(groups = DEFAULT_GROUPS, action) {\n\tswitch (action.type) {\n\t\tcase \"CHANGE_GROUPS\":\n\t\t\treturn { ...action.groups,...groups, };\n\t\tcase \"CHANGE_GROUP\":\n\t\t\treturn {\n\t\t\t\t\t...groups,\n\t\t\t\t\t[action.group.id]: {\n\t\t\t\t\t\t...groups[action.group.id], \n\t\t\t\t\t\t...action.group\n\t\t\t\t\t}\n\t\t\t};\n\t\tdefault:\n\t\t\treturn groups;\n\t}\n}\n\n\nexport default usersReducer;","import usersReducer from \"./usersReducer\";\nimport groupsReducer from \"./groupsReducer\";\n\nconst DEFAULT_STATE = {\n\tuserId: null,\n\tenrollableGroups: null,\n\tcurrentPeriod: 1,\n\tenrollmentPeriod: 1,\n\tschoolYear: \"2019/2020\",\n\tsubjects: null,\n\tgroups: null,\n\tusers: null,\n\tshowMenu: true,\n\tnotifications: [],\n\thasFetched: [],\n}\n\nfunction mainReducer(state = DEFAULT_STATE, action) {\n\tswitch (action.type) {\n\t\tcase \"SET_SELF\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserId: action.user.id,\n\t\t\t\trole: action.user.role,\n\t\t\t\tnotifications: [...state.notifications, ...action.user.notifications],\n\t\t\t\tusers: {\n\t\t\t\t\t[action.user.id]: action.user,\n\t\t\t\t\t...state.users,\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"SET_SECURE_LOGIN\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsecureLogin: action.secureLogin,\n\t\t\t}\n\t\tcase \"ADD_NOTIFICATION\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnotifications: [...state.notifications, action.notification],\n\t\t\t};\n\t\tcase \"REMOVE_NOTIFICATION\":\n\t\t\tconst index = state.notifications.indexOf(action.notification);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnotifications: [\n\t\t\t\t\t...state.notifications.slice(0, index),\n\t\t\t\t\t...state.notifications.slice(index + 1)\n\t\t\t\t],\n\t\t\t};\n\t\tcase \"TOGGLE_MENU\":\n\t\t\tif (action.menuState != null) {\n\t\t\t\treturn { ...state, showMenu: action.menuState };\n\t\t\t} else {\n\t\t\t\treturn { ...state, showMenu: !state.showMenu };\n\t\t\t}\n\t\tcase \"HAS_FETCHED\":\n\t\t\treturn { ...state, hasFetched: [...state.hasFetched, { call: action.call, method: action.method, data: action.data }] };\n\t\tcase \"CHANGE_ENROLLABLE_GROUPS\":\n\t\t\treturn { ...state, enrollableGroups: action.enrollableGroups };\n\t\tcase \"CHANGE_SUBJECTS\":\n\t\t\treturn { ...state, subjects: { ...state.subjects, ...action.subjects } };\n\t\tcase \"CHANGE_PRESENCE_USER_STATUS\":\n\t\t\tlet lessons = state.groups[action.groupId].lessons;\n\t\t\tlessons[action.lessonId].userStatus = action.userStatus;\n\t\t\treturn { ...state, lessons }\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: usersReducer(state.users, action),\n\t\t\t\tgroups: groupsReducer(state.groups, action),\n\t\t\t}\n\t}\n}\n\n\nexport default mainReducer;","import { createMuiTheme } from '@material-ui/core/styles';\n\n// const theme = createMuiTheme({\n// \tpalette: {\n// \t\tprimary: {\n// \t\t\t// light: '#5472d3',\n// \t\t\tmain: '#0d47a1',\n// \t\t\t// dark: '#002171',\n// \t\t\tcontrastText: '#fff',\n// \t\t},\n// \t\tsecondary: {\n// \t\t\t// light: '#60ad5e',\n// \t\t\tmain: '#2e7d32',\n// \t\t\t// dark: '#005005',\n// \t\t\tcontrastText: '#ffffff',\n// \t\t},\n// \t},\n// });\n\nconst theme = createMuiTheme({\n\t\"breakpoints\": {\n\t\t\"keys\": [\n\t\t\t\"xs\",\n\t\t\t\"sm\",\n\t\t\t\"md\",\n\t\t\t\"lg\",\n\t\t\t\"xl\"\n\t\t],\n\t\t\"values\": {\n\t\t\t\"xs\": 0,\n\t\t\t\"sm\": 600,\n\t\t\t\"md\": 960,\n\t\t\t\"lg\": 1280,\n\t\t\t\"xl\": 1920\n\t\t}\n\t},\n\t\"direction\": \"ltr\",\n\t\"mixins\": {\n\t\t\"toolbar\": {\n\t\t\t\"minHeight\": 56,\n\t\t\t\"@media (min-width:0px) and (orientation: landscape)\": {\n\t\t\t\t\"minHeight\": 48\n\t\t\t},\n\t\t\t\"@media (min-width:600px)\": {\n\t\t\t\t\"minHeight\": 64\n\t\t\t}\n\t\t}\n\t},\n\t\"overrides\": {},\n\t\"palette\": {\n\t\t\"common\": {\n\t\t\t\"black\": \"#000\",\n\t\t\t\"white\": \"#fff\"\n\t\t},\n\t\t\"type\": \"light\",\n\t\t\"primary\": {\n\t\t\t\"main\": \"#08C8F9\",\n\t\t\t\"contrastText\": \"#fff\",\n\t\t\t\"light\": \"rgb(57, 211, 250)\",\n\t\t\t\"dark\": \"rgb(5, 140, 174)\"\n\t\t},\n\t\t// \"secondary\": {\n\t\t// \t\"main\": \"#C3386B\",\n\t\t// \t\"contrastText\": \"#ffffff\",\n\t\t// \t\"light\": \"rgb(207, 95, 136)\",\n\t\t// \t\"dark\": \"rgb(136, 39, 74)\"\n\t\t// },\n\t\t\"secondary\": {\n\t\t\t\"main\": \"#c4112f\",\n\t\t\t\"contrastText\": \"#fff\",\n\t\t\t\"light\": \"#cf4058\",\n\t\t\t\"dark\": \"#890b20\"\n\t\t},\n\t\t\"error\": {\n\t\t\t\"light\": \"#f89e4c\",\n\t\t\t\"main\": \"#f78620\",\n\t\t\t\"dark\": \"#ac5d16\",\n\t\t\t\"contrastText\": \"#fff\"\n\t\t},\n\t\t\"grey\": {\n\t\t\t\"50\": \"#fafafa\",\n\t\t\t\"100\": \"#f5f5f5\",\n\t\t\t\"200\": \"#eeeeee\",\n\t\t\t\"300\": \"#e0e0e0\",\n\t\t\t\"400\": \"#bdbdbd\",\n\t\t\t\"500\": \"#9e9e9e\",\n\t\t\t\"600\": \"#757575\",\n\t\t\t\"700\": \"#616161\",\n\t\t\t\"800\": \"#424242\",\n\t\t\t\"900\": \"#212121\",\n\t\t\t\"A100\": \"#d5d5d5\",\n\t\t\t\"A200\": \"#aaaaaa\",\n\t\t\t\"A400\": \"#303030\",\n\t\t\t\"A700\": \"#616161\"\n\t\t},\n\t\t\"contrastThreshold\": 3,\n\t\t\"tonalOffset\": 0.2,\n\t\t\"text\": {\n\t\t\t\"primary\": \"rgba(0, 0, 0, 0.87)\",\n\t\t\t\"secondary\": \"rgba(0, 0, 0, 0.54)\",\n\t\t\t\"disabled\": \"rgba(0, 0, 0, 0.38)\",\n\t\t\t\"hint\": \"rgba(0, 0, 0, 0.38)\"\n\t\t},\n\t\t\"divider\": \"rgba(0, 0, 0, 0.12)\",\n\t\t\"background\": {\n\t\t\t\"paper\": \"#fff\",\n\t\t\t\"default\": \"#fafafa\"\n\t\t},\n\t\t\"action\": {\n\t\t\t\"active\": \"rgba(0, 0, 0, 0.54)\",\n\t\t\t\"hover\": \"rgba(0, 0, 0, 0.08)\",\n\t\t\t\"hoverOpacity\": 0.08,\n\t\t\t\"selected\": \"rgba(0, 0, 0, 0.14)\",\n\t\t\t\"disabled\": \"rgba(0, 0, 0, 0.26)\",\n\t\t\t\"disabledBackground\": \"rgba(0, 0, 0, 0.12)\"\n\t\t}\n\t},\n\t\"props\": {},\n\t\"shadows\": [\n\t\t\"none\",\n\t\t\"0px 1px 3px 0px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 2px 1px -1px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 1px 5px 0px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 3px 1px -2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 1px 8px 0px rgba(0, 0, 0, 0.2),0px 3px 4px 0px rgba(0, 0, 0, 0.14),0px 3px 3px -2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 5px 8px 0px rgba(0, 0, 0, 0.14),0px 1px 14px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 5px 6px -3px rgba(0, 0, 0, 0.2),0px 9px 12px 1px rgba(0, 0, 0, 0.14),0px 3px 16px 2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 6px 6px -3px rgba(0, 0, 0, 0.2),0px 10px 14px 1px rgba(0, 0, 0, 0.14),0px 4px 18px 3px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 6px 7px -4px rgba(0, 0, 0, 0.2),0px 11px 15px 1px rgba(0, 0, 0, 0.14),0px 4px 20px 3px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 13px 19px 2px rgba(0, 0, 0, 0.14),0px 5px 24px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 9px -4px rgba(0, 0, 0, 0.2),0px 14px 21px 2px rgba(0, 0, 0, 0.14),0px 5px 26px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 9px -5px rgba(0, 0, 0, 0.2),0px 15px 22px 2px rgba(0, 0, 0, 0.14),0px 6px 28px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 11px -5px rgba(0, 0, 0, 0.2),0px 17px 26px 2px rgba(0, 0, 0, 0.14),0px 6px 32px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 9px 11px -5px rgba(0, 0, 0, 0.2),0px 18px 28px 2px rgba(0, 0, 0, 0.14),0px 7px 34px 6px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 9px 12px -6px rgba(0, 0, 0, 0.2),0px 19px 29px 2px rgba(0, 0, 0, 0.14),0px 7px 36px 6px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 20px 31px 3px rgba(0, 0, 0, 0.14),0px 8px 38px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 21px 33px 3px rgba(0, 0, 0, 0.14),0px 8px 40px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 14px -6px rgba(0, 0, 0, 0.2),0px 22px 35px 3px rgba(0, 0, 0, 0.14),0px 8px 42px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 11px 14px -7px rgba(0, 0, 0, 0.2),0px 23px 36px 3px rgba(0, 0, 0, 0.14),0px 9px 44px 8px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0, 0, 0, 0.12)\"\n\t],\n\t\"typography\": {\n\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\"fontSize\": 14,\n\t\t\"fontWeightLight\": 300,\n\t\t\"fontWeightRegular\": 400,\n\t\t\"fontWeightMedium\": 500,\n\t\t\"display4\": {\n\t\t\t\"fontSize\": \"7rem\",\n\t\t\t\"fontWeight\": 300,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"letterSpacing\": \"-.04em\",\n\t\t\t\"lineHeight\": \"1.14286em\",\n\t\t\t\"marginLeft\": \"-.04em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display3\": {\n\t\t\t\"fontSize\": \"3.5rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"letterSpacing\": \"-.02em\",\n\t\t\t\"lineHeight\": \"1.30357em\",\n\t\t\t\"marginLeft\": \"-.02em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display2\": {\n\t\t\t\"fontSize\": \"2.8125rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.06667em\",\n\t\t\t\"marginLeft\": \"-.02em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display1\": {\n\t\t\t\"fontSize\": \"2.125rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.20588em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"headline\": {\n\t\t\t\"fontSize\": \"1.5rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.35417em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"title\": {\n\t\t\t\"fontSize\": \"1.3125rem\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.16667em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"subheading\": {\n\t\t\t\"fontSize\": \"1rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.5em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"body2\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.71429em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"body1\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.46429em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"caption\": {\n\t\t\t\"fontSize\": \"0.75rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.375em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"button\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"textTransform\": \"uppercase\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t}\n\t},\n\t\"transitions\": {\n\t\t\"easing\": {\n\t\t\t\"easeInOut\": \"cubic-bezier(0.4, 0, 0.2, 1)\",\n\t\t\t\"easeOut\": \"cubic-bezier(0.0, 0, 0.2, 1)\",\n\t\t\t\"easeIn\": \"cubic-bezier(0.4, 0, 1, 1)\",\n\t\t\t\"sharp\": \"cubic-bezier(0.4, 0, 0.6, 1)\"\n\t\t},\n\t\t\"duration\": {\n\t\t\t\"shortest\": 150,\n\t\t\t\"shorter\": 200,\n\t\t\t\"short\": 250,\n\t\t\t\"standard\": 300,\n\t\t\t\"complex\": 375,\n\t\t\t\"enteringScreen\": 225,\n\t\t\t\"leavingScreen\": 195\n\t\t}\n\t},\n\t\"spacing\": 8,\n\t\"zIndex\": {\n\t\t\"mobileStepper\": 1000,\n\t\t\"appBar\": 1100,\n\t\t\"drawer\": 1200,\n\t\t\"modal\": 1300,\n\t\t\"snackbar\": 1400,\n\t\t\"tooltip\": 1500\n\t}\n});\n\nexport default theme;","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport theme from '../lib/MuiTheme'\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport PropTypes from 'prop-types';\n\nclass Field extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\terror: false,\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\treturn {\n\t\t\t...prevState,\n\t\t\terror: nextProps.editable ? !Field.validate(nextProps.value, nextProps.validate) : false,\n\t\t}\n\t}\n\n\tstatic validate(value, rules = {}, options = [value]) {\n\t\tswitch (rules.type) {\n\t\t\tcase \"phoneNumber\":\n\t\t\t\tconst re = /(^\\+[0-9]{2}|^\\+[0-9]{2}\\(0\\)|^\\(\\+[0-9]{2}\\)\\(0\\)|^00[0-9]{2}|^0)([0-9]{9}$|[0-9\\-\\s]{10}$)/i;\n\t\t\t\tif (!re.test(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"email\":\n\t\t\t\tconst re2 = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/g;\n\t\t\t\tif (!re2.test(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"integer\":\n\t\t\t\tif (!/^\\+?[1-9][\\d]*$/i.test(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"float\":\n\t\t\t\tif (isNaN(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"decimalGrade\":\n\t\t\t\t//replace dot with comma and vice versa\n\t\t\t\tconst x = value.replace(/\\./g, \"_$comma$_\").replace(/,/g, \".\").replace(/_\\$comma\\$_/g, \",\");\n\t\t\t\tif (x === \"ND\") {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (isNaN(x)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault: break;\n\t\t}\n\t\tif (rules.min) {\n\t\t\tif (parseFloat(value) < rules.min) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (rules.max) {\n\t\t\tif (parseFloat(value) > rules.max) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (rules.notEmpty) {\n\t\t\tif (value == null || value === \"\" || value === \" \" || options.indexOf(value) === -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (rules.maxLength && value != null) {\n\t\t\tif (value.length > rules.maxLength) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tonChange = (event) => {\n\t\tthis.props.onChange(event.target.value);\n\t}\n\n\trender() {\n\t\tlet value = this.props.value == null ? \"\" : this.props.value;\n\t\tlet style = this.props.style || {};\n\t\tlet layout = this.props.layout || {};\n\n\t\tlet label = this.props.label;\n\t\tlet disabled = true;\n\t\tlet multiline = false;\n\t\tlet fullWidth = false;\n\n\t\tlet options = this.props.options;\n\t\tlet disableUnderline = style.underline || true;\n\t\tlet margin = style.margin || \"none\";\n\t\tlet marginPx = 0;\n\t\tlet menuItems;\n\t\tlet endAdornment;\n\t\tlet classNames = [];\n\t\tif (this.props.style) {\n\t\t\tswitch (this.props.style.type) {\n\t\t\t\tcase \"headline\":\n\t\t\t\t\tstyle = {\n\t\t\t\t\t\t...style,\n\t\t\t\t\t\t...theme.typography.headline,\n\t\t\t\t\t};\n\t\t\t\t\tstyle.color = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"title\":\n\t\t\t\t\tstyle = {\n\t\t\t\t\t\t...style,\n\t\t\t\t\t\t...theme.typography.title\n\t\t\t\t\t};\n\t\t\t\t\tstyle.color = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"caption\":\n\t\t\t\t\tstyle.color = theme.palette.text.secondary;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tstyle.color = theme.palette.text.primary;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (this.props.style.color) {\n\t\t\t\tcase \"primary\":\n\t\t\t\t\tstyle.color = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"primaryContrast\":\n\t\t\t\t\tstyle.color = theme.palette.primary.contrastText;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"secondary\":\n\t\t\t\t\tstyle.color = theme.palette.secondary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"secondaryContrast\":\n\t\t\t\t\tstyle.color = theme.palette.secondary.contrastText;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"error\":\n\t\t\t\t\tstyle.color = theme.palette.error.main;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (layout.alignment === \"right\") {\n\t\t\tstyle.float = \"right\";\n\t\t\tstyle.textAlign = \"right\";\n\t\t\tclassNames.push(\"right\");\n\t\t}\n\t\tif (layout.alignment === \"left\") {\n\t\t\tstyle.float = \"left\";\n\t\t}\n\n\t\tif (layout.area) {\n\t\t\tfullWidth = true;\n\t\t\tmultiline = true;\n\t\t}\n\n\t\tif (this.props.default && this.props.editable === false && (value === \"\" || value == null)) {\n\t\t\tvalue = this.props.default;\n\t\t}\n\n\t\tif (this.props.editable) {\n\t\t\tdisabled = false;\n\t\t\tdisableUnderline = style.underline || false;\n\t\t\tmargin = style.margin || \"normal\";\n\t\t} else {\n\t\t\tif (!(style.labelVisible === true)) {\n\t\t\t\tlabel = null;\n\t\t\t}\n\t\t\tif (options != null && options[0] != null && typeof options[0] !== \"string\") {\n\t\t\t\tconst a = options.filter((opt) => {\n\t\t\t\t\treturn opt.value === value;\n\t\t\t\t})[0];\n\t\t\t\tif (a != null) {\n\t\t\t\t\tvalue = a.label;\n\t\t\t\t}\n\t\t\t}\n\t\t\toptions = null;\n\t\t}\n\n\t\tif (options) {\n\t\t\tmenuItems = options.map(option => {\n\t\t\t\tif (typeof option !== \"string\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<MenuItem key={option.value} value={option.value}>\n\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<MenuItem key={option} value={option}>\n\t\t\t\t\t\t{option}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)\n\t\t\t});\n\t\t}\n\t\tif (style.unit) {\n\t\t\tendAdornment = <InputAdornment position=\"end\">{style.unit}</InputAdornment>;\n\t\t}\n\t\tswitch (margin) {\n\t\t\tcase \"dense\":\n\t\t\t\tmarginPx = 5;\n\t\t\t\tbreak;\n\t\t\tcase \"normal\":\n\t\t\t\tmarginPx = 12;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\n\t\tconst field = (\n\t\t\t<TextField\n\t\t\t\tvalue={value}\n\t\t\t\tmargin=\"none\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\tfullWidth={fullWidth}\n\t\t\t\tmultiline={multiline}\n\t\t\t\tclassName={classNames.join(\" \") + \" Field\"}\n\t\t\t\tlabel={label}\n\t\t\t\tselect={options ? true : false}\n\t\t\t\tstyle={{ flex: 1, ...style, margin: marginPx }}\n\t\t\t\tonChange={this.onChange}\n\t\t\t\terror={this.state.error}\n\t\t\t\tInputProps={{\n\t\t\t\t\tdisableUnderline,\n\t\t\t\t\tstyle,\n\t\t\t\t\tendAdornment: endAdornment ? endAdornment : null,\n\t\t\t\t\tinputProps: {\n\t\t\t\t\t\tstyle,\n\t\t\t\t\t}\n\t\t\t\t}}\n\n\t\t\t>\n\t\t\t\t{menuItems}\n\t\t\t</TextField>\n\t\t);\n\t\tif (layout.td) {\n\t\t\t// style.width = undefined;\n\t\t\treturn (\n\t\t\t\t<td style={style}>\n\t\t\t\t\t{field}\n\t\t\t\t</td>\n\t\t\t);\n\t\t} else {\n\t\t\treturn field;\n\t\t}\n\t}\n\n}\n\n\nField.propTypes = {\n\tvalidate: PropTypes.shape({\n\t\tmin: PropTypes.number,\n\t\tmax: PropTypes.number,\n\t\ttype: PropTypes.oneOf([\"phoneNumber\", \"email\", \"integer\", \"decimalGrade\"]),\n\t\tnotEmpty: PropTypes.bool,\n\t\tmaxLength: PropTypes.number,\n\t}),\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t]),\n\tstyle: PropTypes.shape({\n\t\tlabelVisible: PropTypes.bool,\n\t\ttype: PropTypes.oneOf([\n\t\t\t\"title\",\n\t\t\t\"caption\",\n\t\t\t\"headline\",\n\t\t]),\n\t\tunderline: PropTypes.bool,\n\t\tcolor: PropTypes.oneOf([\"primary\", \"primaryContrast\", \"secondary\", \"error\"]),\n\t\tunit: PropTypes.string,\n\t\tmargin: PropTypes.oneOf([\"none\", \"dense\", \"normal\"]),\n\t}),\n\tlayout: PropTypes.shape({\n\t\tarea: PropTypes.bool,\n\t\talignment: PropTypes.oneOf([\"left\", \"right\"]),\n\t\ttd: PropTypes.bool,\n\t}),\n\tlabel: PropTypes.string,\n\toptions: PropTypes.any,\n\t// PropTypes.arrayOf(\n\t// \tPropTypes.oneOfType([\n\t// \t\tPropTypes.shape({\n\t// \t\t\tvalue: PropTypes.string,\n\t// \t\t\tlabel: PropTypes.string,\n\t// \t\t}),\n\t// \t\tPropTypes.string,\n\t// \t])),\n\teditable: PropTypes.bool,\n\tdefault: PropTypes.string,\n};\n\nexport default Field;","import filter from \"lodash/filter\"\nimport $ from \"jquery\";\nimport keyBy from \"lodash/keyBy\"\nimport map from \"lodash/map\"\nimport Field from \"../components/Field\"\n\nfunction apiErrorHandler(endpoint, dispatch) {\n\treturn function handleError(error) {\n\t\tconst responseJSON = error.responseJSON;\n\t\tif (endpoint !== \"user/self\") {\n\t\t\tdispatch({\n\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\tnotification: {\n\t\t\t\t\tid: Math.random(),\n\t\t\t\t\tpriority: \"high\",\n\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\tmessage: responseJSON && responseJSON.error ? responseJSON.error : \"Er is iets mis gegaan\",\n\t\t\t\t\tscope: \".\",\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthrow responseJSON;\n\t}\n}\n\nexport async function fetchData(endpoint, method, data, dispatch, getState, forceArray) {\n\tconst f = {\n\t\tcall: endpoint,\n\t\tmethod: method,\n\t\tdata: data,\n\t}\n\tfor (let i = 0; i < getState().hasFetched.length; i++) {\n\t\tconst o = getState().hasFetched[i];\n\t\tif (o.data === f.data && o.call === f.call && o.method === f.method) {\n\t\t\treturn Promise.reject(new Error(\"Duplicate api call\"));\n\t\t}\n\t};\n\tdispatch({\n\t\t...f,\n\t\ttype: \"HAS_FETCHED\",\n\t});\n\n\treturn $.ajax({\n\t\turl: \"/api/\" + endpoint,\n\t\ttype: method,\n\t\tdata: data,\n\t\tdataType: \"json\",\n\t}).then((list) => {\n\t\tif (method === \"put\" || method === \"patch\" || method === \"delete\") {\n\t\t\tdispatch({\n\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\tnotification: {\n\t\t\t\t\tid: Math.random(),\n\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\tmessage: \"Opgeslagen\",\n\t\t\t\t\tscope: \"\",\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn (Array.isArray(list) && forceArray !== true) ? keyBy(list, \"id\") : list\n\t}).catch(apiErrorHandler(endpoint, dispatch));\n}\n\n\nexport function getSubjects() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"subject/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((subjects) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_SUBJECTS\",\n\t\t\t\t\tsubjects,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function setAlias(userId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"function/alias\", \"post\", { userId, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdocument.location.reload();\n\t\t\t})\n\t}\n}\n\nexport function getGroups() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((groups) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getParticipatingGroups() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/groups\", \"get\", null, dispatch, getState)\n\t\t\t.then((groups) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getGroup(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((group) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups: { [groupId]: group }\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function isUserMissingInfo(user) {\n\tif (user && user.role === \"student\") {\n\t\tif (!Field.validate(user.year, { type: \"integer\", min: 1, max: 6 })) return \"Leerjaar\";\n\t\tif (!Field.validate(user.level, { notEmpty: true })) return \"Opleidingsniveau\";\n\t\tif (!Field.validate(user.profile, { notEmpty: true })) return \"Profiel\";\n\t\tif (!Field.validate(user.preferedEmail, { type: \"email\" })) return \"Voorkeurs email\";\n\t\tif (!Field.validate(user.phoneNumber, { type: \"phoneNumber\" })) return \"Telefoonnummer\";\n\t}\n\treturn false;\n}\n\nfunction addMissingInfoNotifications(user, dispatch) {\n\tconst missing = isUserMissingInfo(user);\n\tif (missing) {\n\t\tdispatch({\n\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\tnotification: {\n\t\t\t\tid: Math.random(),\n\t\t\t\tpriority: \"high\",\n\t\t\t\ttype: \"badge\",\n\t\t\t\tmessage: `Vul een geldige waarde voor ${missing} in`,\n\t\t\t\tscope: \"profiel\",\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction testIE(dispatch) {\n\tif (/MSIE|Trident/.test(window.navigator.userAgent)) {\n\t\tdispatch({\n\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\tnotification: {\n\t\t\t\tid: Math.random(),\n\t\t\t\tpriority: \"high\",\n\t\t\t\ttype: \"bar\",\n\t\t\t\tmessage: \"Internet Explorer gedecteerd. Deze website ondersteunt Internet Explorer niet. Sommige functies zullen wellicht niet werken.\",\n\t\t\t\tsticky: true,\n\t\t\t\tscope: \"\",\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function getSelf() {\n\treturn (dispatch, getState) => {\n\t\tconst notification = {\n\t\t\tid: -96,\n\t\t\tpriority: \"low\",\n\t\t\ttype: \"bar\",\n\t\t\tmessage: \"Bezig met laden\",\n\t\t\tscope: \".\",\n\t\t};\n\t\tdispatch(addNotification(notification));\n\t\tfetchData(\"user/self\", \"get\", null, dispatch, getState)\n\t\t\t.then((user) => {\n\t\t\t\taddMissingInfoNotifications(user, dispatch);\n\t\t\t\ttestIE(dispatch);\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_SELF\",\n\t\t\t\t\tuser,\n\t\t\t\t});\n\t\t\t\tdispatch(removeNotification(notification));\n\t\t\t}).catch((error) => {\n\t\t\t\tdispatch(removeNotification(notification));\n\t\t\t\tif (error != null && error.error === \"Authentication Error\") {\n\t\t\t\t\tif (window.location.pathname !== \"/login\") {\n\t\t\t\t\t\tsetCookie(\"beforeLoginPath\", window.location.pathname + window.location.search, 24);\n\t\t\t\t\t\tdocument.location.href = \"/login\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(toggleMenu(false));\n\t\t\t\t\tdispatch(addNotification({\n\t\t\t\t\t\tid: -1,\n\t\t\t\t\t\tpriority: \"high\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Kan geen verbinding met de server maken\",\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t}\n}\n\nexport function setUser(user) {\n\treturn (dispatch, getState) => {\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_USER\",\n\t\t\tuser,\n\t\t});\n\t\tfetchData(\"user\", \"patch\", user, dispatch, getState);\n\t}\n}\n\nexport function setPresenceUserStatus(lessonId, userStatus, groupId) {\n\treturn (dispatch, getState) => {\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_PRESENCE_USER_STATUS\",\n\t\t\tlessonId,\n\t\t\tuserStatus,\n\t\t\tgroupId,\n\t\t});\n\t\tfetchData(\"group/userStatus\", \"patch\", { lessonId: lessonId, userStatus: userStatus }, dispatch, getState);\n\t}\n}\n\nexport function setGroup(group) {\n\treturn (dispatch, getState) => {\n\t\tfunction getCourse(group) {\n\t\t\treturn {\n\t\t\t\tcourseId: group.courseId,\n\t\t\t\tsubjectId: group.subjectId,\n\t\t\t\tname: group.courseName,\n\t\t\t\tdescription: group.courseDescription,\n\t\t\t\tstudyTime: group.studyTime,\n\t\t\t\tremarks: group.remarks,\n\t\t\t}\n\t\t}\n\n\t\tfunction getCourseGroup(group) {\n\t\t\treturn {\n\t\t\t\tcourseId: group.courseId,\n\t\t\t\tgroupId: group.id,\n\t\t\t\tday: group.day,\n\t\t\t\tschoolYear: group.schoolYear,\n\t\t\t\tenrollableFor: group.enrollableFor,\n\t\t\t\tperiod: group.period,\n\t\t\t}\n\t\t}\n\n\t\tconst oldCourse = getCourse(getState().groups[group.id]);\n\t\tconst newCourse = getCourse(group);\n\n\t\tconst oldCourseGroup = getCourseGroup(getState().groups[group.id]);\n\t\tconst newCourseGroup = getCourseGroup(group);\n\n\t\tconst oldLessons = getState().groups[group.id].lessons;\n\t\tconst newLessons = group.lessons;\n\n\t\tconst oldPresence = getState().groups[group.id].presence;\n\t\tconst newPresence = group.presence;\n\n\t\tconst oldEvaluations = getState().groups[group.id].evaluations;\n\t\tconst newEvaluations = group.evaluations;\n\n\t\tif (JSON.stringify(oldCourse) !== JSON.stringify(newCourse)) {\n\t\t\tfetchData(\"course/\", \"patch\", newCourse, dispatch, getState);\n\t\t}\n\t\tif (JSON.stringify(oldCourseGroup) !== JSON.stringify(newCourseGroup)) {\n\t\t\tfetchData(\"group/\", \"patch\", newCourseGroup, dispatch, getState);\n\t\t}\n\n\t\tif (JSON.stringify(oldPresence) !== JSON.stringify(newPresence)) {\n\t\t\tconst changedPresenceObjs = filter(newPresence, (presence) => {\n\t\t\t\treturn JSON.stringify(presence) !== JSON.stringify(oldPresence[presence.id]);\n\t\t\t});\n\t\t\tfetchData(\"group/presence\", \"patch\",\n\t\t\t\t{\n\t\t\t\t\tpresence: JSON.stringify(map(changedPresenceObjs, (changedPresenceObjs) => { return changedPresenceObjs })),\n\t\t\t\t\tgroupId: group.id\n\t\t\t\t}, dispatch, getState);\n\t\t}\n\n\t\tif (newLessons != null && JSON.stringify(oldLessons) !== JSON.stringify(newLessons)) {\n\t\t\tfetchData(\"group/lessons\", \"patch\", { lessons: JSON.stringify(map(newLessons, (lesson) => { return lesson })), }, dispatch, getState);\n\t\t}\n\n\t\tif (JSON.stringify(oldEvaluations) !== JSON.stringify(newEvaluations)) {\n\t\t\tlet changedEvaluations = [];\n\t\t\tfor (let i = 0; i < newEvaluations.length; i++) {\n\t\t\t\tconst evaluation = newEvaluations[i];\n\t\t\t\tif (JSON.stringify(oldEvaluations[i]) !== JSON.stringify(evaluation)) {\n\t\t\t\t\tchangedEvaluations.push(evaluation);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData(\"group/evaluations\", \"patch\", {\n\t\t\t\tevaluations: JSON.stringify(changedEvaluations),\n\t\t\t\tsecureLogin: getState().secureLogin\n\t\t\t}, dispatch, getState);\n\t\t}\n\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\tgroup: group,\n\t\t});\n\t}\n}\n\nexport function getEnrollableGroups() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/enrollableGroups\", \"get\", null, dispatch, getState, true)\n\t\t\t.then((enrollableGroups) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_ENROLLABLE_GROUPS\",\n\t\t\t\t\tenrollableGroups,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getEnrolLments() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/enrollments\", \"get\", null, dispatch, getState)\n\t\t\t.then((enrollments) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups: enrollments,\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\tenrollmentIds: Object.keys(enrollments),\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getGroupEnrollments(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/enrollments\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((enrollments) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tenrollmentIds: Object.keys(enrollments).map(id => parseInt(id, 10)),\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers: enrollments,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getGroupLessons(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/lessons\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((lessons) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tlessons,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getGroupPresence(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/presence\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((presence) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tpresence,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getGroupParticipants(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/participants\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((participants) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tparticipantIds: Object.keys(participants).map(id => parseInt(id, 10)),\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers: participants,\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getAllUsers() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((users) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function addNotification(notification) {\n\treturn {\n\t\ttype: \"ADD_NOTIFICATION\",\n\t\tnotification,\n\t}\n}\n\nexport function removeNotification(notification) {\n\treturn {\n\t\ttype: \"REMOVE_NOTIFICATION\",\n\t\tnotification,\n\t}\n}\n\nexport function toggleMenu(menuState) {\n\treturn {\n\t\ttype: \"TOGGLE_MENU\",\n\t\tmenuState,\n\t}\n}\n\nexport function setSecureLogin(secureLogin) {\n\treturn {\n\t\ttype: \"SET_SECURE_LOGIN\",\n\t\tsecureLogin,\n\t}\n}\n\nexport function toggleEnrollment(group) {\n\treturn (dispatch, getState) => {\n\t\tconst index = getState().users[getState().userId].enrollmentIds.indexOf(group.id);\n\t\tif (index === -1) {\n\t\t\tfetchData(\"user/enrollments\", \"put\", { groupId: group.id }, dispatch, getState)\n\t\t\t\t.then(() => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\t\taction: \"ADD\",\n\t\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\t\tgroupId: group.id,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t} else {\n\t\t\tfetchData(\"user/enrollments\", \"delete\", { groupId: group.id }, dispatch, getState)\n\t\t\t\t.then(() => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\t\taction: \"REMOVE\",\n\t\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\t\tgroupId: group.id,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t}\n}\n\n\nexport function getGroupEvaluations(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/evaluations\", \"post\", { groupId }, dispatch, getState, true).then((evaluations) => {\n\t\t\tdispatch({\n\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\tgroup: {\n\t\t\t\t\tid: groupId,\n\t\t\t\t\tevaluations: evaluations,\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport function addSubject(name, description) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"subject\", \"put\", { name, description, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Vak aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function addCourse(name, subjectId) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"course\", \"put\", { name, subjectId, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Module aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function addGroup(courseId, userId) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"group\", \"put\", { courseId, mainTeacherId: userId, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Groep aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\n\nexport function addParticipant(userId, groupId, participatingRole) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"group/participants\", \"patch\", { userId, groupId, participatingRole }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tconst index = getState().groups[groupId].enrollmentIds.indexOf(userId);\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tenrollmentIds: [\n\t\t\t\t\t\t\t...getState().groups[groupId].enrollmentIds.slice(0, index),\n\t\t\t\t\t\t\t...getState().groups[groupId].enrollmentIds.slice(index + 1)\n\t\t\t\t\t\t],\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Deelnemer toegevoegd, refresh om te zien\",\n\t\t\t\t\t\tscope: \"*\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function setCookie(cname, cvalue, exhours) {\n\tvar d = new Date();\n\td.setTime(d.getTime() + (exhours * 60 * 60 * 1000));\n\tvar expires = \"expires=\" + d.toUTCString();\n\tdocument.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nexport function getCookie(cname) {\n\tvar name = cname + \"=\";\n\tvar decodedCookie = decodeURIComponent(document.cookie);\n\tvar ca = decodedCookie.split(';');\n\tfor (var i = 0; i < ca.length; i++) {\n\t\tvar c = ca[i];\n\t\twhile (c.charAt(0) === ' ')\n\t\t\tc = c.substring(1);\n\t\tif (c.indexOf(name) === 0)\n\t\t\treturn c.substring(name.length, c.length);\n\t}\n\treturn \"\";\n}\n\nexport function relogSecure() {\n\tsetCookie(\"beforeLoginPath\", window.location.pathname + window.location.search, 24);\n\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\tdocument.location.href = \"http://localhost:26194/auth/login?secure=true\";\n\t} else {\n\t\tdocument.location.href = \"/auth/login?secure=true\";\n\t}\n}","import React, { Component } from \"react\";\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport theme from '../lib/MuiTheme';\nimport { toggleMenu } from '../store/actions';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nclass Login extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.generateEmail.bind(this)();\n\t\tthis.interval = setInterval(this.generateEmail.bind(this), 1500);\n\t}\n\n\tgenerateEmail() {\n\t\tlet school = this.state.school;\n\t\tlet schoolShort = this.state.schoolShort;\n\t\tlet studentNumber = this.state.studentNumber;\n\t\tswitch (Math.floor(Math.random() * 14)) {\n\t\t\tcase 0:\n\t\t\t\tschool = \"beekdallyceum\";\n\t\t\t\tschoolShort = \"BD\";\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tschool = \"candea\";\n\t\t\t\tschoolShort = \"CC\";\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tschool = \"quadraam\";\n\t\t\t\tschoolShort = \"CB\";\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tschool = \"lyceumelst\";\n\t\t\t\tschoolShort = \"LE\";\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tschool = \"liemerscollege\";\n\t\t\t\tschoolShort = \"LC\";\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tschool = \"lorentzlyceum\";\n\t\t\t\tschoolShort = \"LL\";\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\tschool = \"maartenvanrossem\";\n\t\t\t\tschoolShort = \"MvR\";\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\tschool = \"montessoriarnhem\";\n\t\t\t\tschoolShort = \"MC\";\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tschool = \"olympuscollege\";\n\t\t\t\tschoolShort = \"OC\";\n\t\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\t\tschool = \"produsarnhem\";\n\t\t\t\tschoolShort = \"PD\";\n\t\t\t\tbreak;\n\t\t\tcase 10:\n\t\t\t\tschool = \"gymnasiumarnhem\";\n\t\t\t\tschoolShort = \"SGA\";\n\t\t\t\tbreak;\n\t\t\tcase 11:\n\t\t\t\tschool = \"symbion\";\n\t\t\t\tschoolShort = \"SY\";\n\t\t\t\tbreak;\n\t\t\tcase 12:\n\t\t\t\tschool = \"vmbo-venster\";\n\t\t\t\tschoolShort = \"VE\";\n\t\t\t\tbreak;\n\t\t\tcase 13:\n\t\t\tdefault:\n\t\t\t\tschool = \"hetwesteraam\";\n\t\t\t\tschoolShort = \"HW\";\n\t\t\t\tbreak;\n\t\t}\n\t\tstudentNumber = Math.floor(Math.random() * 999999) + \"\";\n\t\tfor (let i = studentNumber.length; i < 6; i++) {\n\t\t\tstudentNumber = \"0\" + studentNumber;\n\t\t}\n\t\tthis.setState({\n\t\t\tschool,\n\t\t\tschoolShort,\n\t\t\tstudentNumber,\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.interval);\n\t}\n\n\tlogin() {\n\t\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\t\tdocument.location.href = \"http://localhost:26194/auth/login\"\n\t\t} else {\n\t\t\tdocument.location.href = \"/auth/login\"\n\t\t}\n\t}\n\n\tgenerateColoredEmail(schoolShort, studentNumber, school) {\n\t\treturn (\n\t\t\t<Typography variant=\"subtitle1\" style={{ fontFamily: \"'Courier New', Courier, monospace\", overflow: \"hidden\" }}>\n\t\t\t\t<span style={{ color: theme.palette.secondary.light, fontWeight: \"bold\" }}>\n\t\t\t\t\t{schoolShort}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ color: theme.palette.secondary.dark, fontWeight: \"bolder\" }}>\n\t\t\t\t\t{studentNumber}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ fontWeight: \"bold\" }}>\n\t\t\t\t\t@ll.\n\t\t\t\t</span>\n\t\t\t\t<span style={{ color: theme.palette.secondary.light, fontWeight: \"bold\" }}>\n\t\t\t\t\t{school}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ fontWeight: \"bold\" }}>\n\t\t\t\t\t.nl\n\t\t\t\t</span>\n\t\t\t</Typography>\n\t\t)\n\t}\n\n\trender() {\n\t\tif (this.props.userId != null) {\n\t\t\tthis.props.history.push(\"/\");\n\t\t\tthis.props.toggleMenu(true);\n\t\t} else {\n\t\t\tthis.props.toggleMenu(false);\n\t\t}\n\n\t\treturn (\n\t\t\t<Paper elevation={8} className=\"Login\" style={{ minHeight: \"330px\" }}>\n\t\t\t\t<div style={{ padding: \"20px\" }}>\n\t\t\t\t\t<Typography gutterBottom variant=\"body1\" color=\"primary\">\n\t\t\t\t\t\tLog in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\tGebruik je school-email om in te loggen:\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<center>\n\t\t\t\t\t\t{this.generateColoredEmail(\"schoolafkorting\", \"leerlingnummer\", \"school\")}\n\t\t\t\t\t\t{this.generateColoredEmail(this.state.schoolShort, this.state.studentNumber, this.state.school)}\n\t\t\t\t\t</center>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<Button type=\"submit\" variant=\"contained\" size=\"large\" color=\"primary\" fullWidth onClick={this.login}>\n\t\t\t\t\t\tLogin met je Microsoft school account\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Paper >\n\t\t);\n\t}\n}\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tuserId: state.userId,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tlogin: (email, password) => {\n\t\t\tdispatch(toggleMenu(true));\n\t\t},\n\t\ttoggleMenu: (state) => {\n\t\t\tdispatch(toggleMenu(state));\n\t\t},\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Login));\n\n\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass Page extends Component {\n\n\trender() {\n\t\tlet className = \"\";\n\t\tif (this.props.showMenu) {\n\t\t\tclassName += \"menuShown\"\n\t\t} else {\n\t\t\tclassName += \"menuHidden\"\n\t\t}\n\t\treturn (\n\t\t\t<div className={\"Page \" + className}>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tshowMenu: state.showMenu,\n\t};\n}\n\nexport default connect(mapStateToProps)(Page);\n","import React, { Component } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass Progress extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisShowing: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.timeout = setTimeout(() => this.setState({ isShowing: true }), 200);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.timeout);\n\t}\n\n\trender() {\n\t\tif (this.state.isShowing) {\n\t\t\treturn (\n\t\t\t\t<CircularProgress {...this.props}/>\n\t\t\t);\n\t\t}else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n}\n\nexport default Progress;","import React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Clear from '@material-ui/icons/Clear';\n\nclass EnrollmentPopup extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tif (nextProps.hasChosen) {\n\t\t\treturn { page: \"cancel\", ...prevState };\n\t\t}\n\t\tif (nextProps.hasChosenDay) {\n\t\t\treturn { page: \"hasChosenDay\", ...prevState };\n\t\t}\n\t\tif (nextProps.group.remarks != null && nextProps.group.remarks.length > 1) {\n\t\t\treturn { page: \"remarks\", ...prevState };\n\t\t}\n\t\treturn { page: \"confirm\", ...prevState };\n\t}\n\n\tgetDuplicatePage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t<Typography color=\"error\" style={{ fontSize: \"16px\" }}>\n\t\t\t\t\t\t\t{\"Je hebt al een module gekozen voor \" + this.props.group.day + \"!\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\tSchrijf je eerst uit voor de module\n\t\t\t\t\t\t<Typography color=\"primary\" variant=\"title\" style={{ fontSize: \"16px\", display: \"inline-block\", margin: \"5px\" }}>\n\t\t\t\t\t\t\t{this.props.chosenDayGroupName}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\tom je in te kunnen schrijven\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\">\n\t\t\t\t\t\tSluiten\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\tgetCancelPage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogTitle>\n\t\t\t\t\tUitschrijven\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\tWeet je zeker dat je wilt uitschrijven voor de module\n\t\t\t\t\t\t<Typography color=\"primary\" variant=\"title\" style={{ fontSize: \"16px\", display: \"inline\", margin: \"5px\" }}>\n\t\t\t\t\t\t\t{this.props.group.courseName}\n\t\t\t\t\t\t</Typography> ?\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"default\">\n\t\t\t\t\t\tAnnuleren\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button name=\"test\" onClick={() => this.props.handlePopup(true)} color=\"primary\">\n\t\t\t\t\t\tUitschrijven\n\t\t\t\t\t\t<Clear />\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\tgetConfirmPage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogTitle>\n\t\t\t\t\tInschrijven\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\tWeet je zeker dat je wilt inschrijven voor de module\n\t\t\t\t\t\t<Typography color=\"primary\" variant=\"title\" style={{ fontSize: \"16px\", display: \"inline\", margin: \"5px\" }}>\n\t\t\t\t\t\t\t{this.props.group.courseName}\n\t\t\t\t\t\t</Typography> ?\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"default\">\n\t\t\t\t\t\tAnnuleren\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button name=\"test\" onClick={() => this.props.handlePopup(true)} variant=\"contained\" color=\"primary\">\n\t\t\t\t\t\tInschrijven\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\tgetRemarkPage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogTitle>\n\t\t\t\t\tOpmerkingen\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t{this.props.group.remarks}\n\t\t\t\t\t</Typography>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"default\">\n\t\t\t\t\t\tAnnuleren\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\tthis.props.preventPopupClose(true);\n\t\t\t\t\t\tthis.setState({ page: \"confirm\" })\n\t\t\t\t\t}} color=\"primary\">\n\t\t\t\t\t\tVerder\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\trender() {\n\t\tthis.props.preventPopupClose(false);\n\t\tswitch (this.state.page) {\n\t\t\tcase \"remarks\":\n\t\t\t\treturn this.getRemarkPage();\n\t\t\tcase \"cancel\":\n\t\t\t\treturn this.getCancelPage();\n\t\t\tcase \"hasChosenDay\":\n\t\t\t\treturn this.getDuplicatePage();\n\t\t\tcase \"confirm\":\n\t\t\tdefault:\n\t\t\t\treturn this.getConfirmPage();\n\t\t}\n\t}\n}\n\n\nexport default EnrollmentPopup;\n\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Clear from '@material-ui/icons/Clear';\nimport { connect } from 'react-redux';\nimport { toggleEnrollment, getEnrollableGroups, getEnrolLments } from '../../store/actions';\nimport Progress from '../../components/Progress';\nimport EnrollmentPopup from './EnrollmentPopup';\n\nclass ChooseButton extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.props.getEnrollableGroups();\n\t\tthis.props.getEnrolLments();\n\t\tthis.state = {\n\t\t\tdialogOpen: false,\n\t\t}\n\t}\n\n\tpreventPopupClose(preventClose) {\n\t\tthis.preventClose = preventClose;\n\t}\n\n\thandlePopup(doEnroll) {\n\t\tif (doEnroll) {\n\t\t\tthis.props.toggleEnrollment(this.props.group);\n\t\t}\n\t\tif (!this.preventClose) {\n\t\t\tthis.setState({\n\t\t\t\tdialogOpen: !this.state.dialogOpen,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst props = this.props;\n\t\tlet dialog = this.state.dialogOpen ?\n\t\t\t<EnrollmentPopup\n\t\t\t\tgroup={props.group}\n\t\t\t\thasChosen={props.hasChosen}\n\t\t\t\thandlePopup={this.handlePopup.bind(this)}\n\t\t\t\thasChosenDay={props.hasChosenDay}\n\t\t\t\tchosenDayGroupName={props.chosenDayGroupName}\n\t\t\t\tpreventPopupClose={this.preventPopupClose.bind(this)}\n\t\t\t/> : null;\n\n\t\tif (props.loading) {\n\t\t\treturn (\n\t\t\t\t<Progress size={30} />\n\t\t\t)\n\t\t}\n\n\t\tif (props.hasChosen) {\n\t\t\treturn (\n\t\t\t\t<Button color=\"primary\" onClick={() => this.handlePopup(false)} style={props.style}>\n\t\t\t\t\t{\"Ingeschreven\"}\n\t\t\t\t\t<Clear />\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t}\n\n\t\tif (this.props.canChoose) {\n\t\t\treturn (\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={() => this.handlePopup(false)} style={this.props.style}>\n\t\t\t\t\t{\"Inschrijven\" + (this.props.hasChosenDay ? \"*\" : \"\")}\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t} else if (props.group.period < this.props.enrollmentPeriod) {\n\t\t\treturn (\n\t\t\t\t<Button disabled color=\"primary\" style={props.style}>\n\t\t\t\t\tInschrijfperiode verlopen\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Button disabled color=\"primary\" style={props.style}>\n\t\t\t\t\tComing Soon\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t}\n\n\t}\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tif (state.users[state.userId].enrollmentIds == null || state.enrollableGroups == null) {\n\t\treturn {\n\t\t\tloading: true,\n\t\t}\n\t}\n\n\tlet chosenDayGroupName = -1;\n\tstate.users[state.userId].enrollmentIds.forEach(groupId => {\n\t\tconst group = state.groups[groupId];\n\t\tif (group.day === ownProps.group.day && group.period === ownProps.group.period) {\n\t\t\tchosenDayGroupName = group.courseName;\n\t\t}\n\t});\n\n\treturn {\n\t\tcanChoose: state.enrollableGroups.map(e => e.id).indexOf(ownProps.group.id) !== -1,\n\t\thasChosen: state.users[state.userId].enrollmentIds.indexOf(ownProps.group.id) !== -1,\n\t\thasChosenDay: chosenDayGroupName !== -1,\n\t\tchosenDayGroupName,\n\t\tenrollmentPeriod: state.enrollmentPeriod,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\ttoggleEnrollment: (group) => dispatch(toggleEnrollment(group)),\n\t\tgetEnrollableGroups: () => dispatch(getEnrollableGroups()),\n\t\tgetEnrolLments: () => dispatch(getEnrolLments()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChooseButton);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { relogSecure } from \"../store/actions\"\nimport Field from \"../components/Field\"\n\nclass EnsureSecureLogin extends Component {\n\n\trender() {\n\t\tif (!(this.props.active === false) && this.props.secureLogin == null) {\n\t\t\treturn <Paper style={{ padding: \"20px\", marginTop: \"25px\" }}>\n\t\t\t\t<Field value=\"Log opnieuw in om toegang te krijgen\" layout={{ area: true }} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={relogSecure}>\n\t\t\t\t\tInloggen\n\t\t\t\t</Button>\n\t\t\t</Paper>\n\t\t} else {\n\t\t\treturn this.props.children;\n\t\t}\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsecureLogin: state.secureLogin,\n\t};\n}\n\nexport default connect(mapStateToProps, null)(EnsureSecureLogin);\n\n\n\n","import React, { Component } from 'react';\n\nimport Field from '../../components/Field';\nimport EnsureSecureLogin from '../../components/EnsureSecureLogin';\nimport { Tooltip, TableSortLabel, Typography, Paper } from '@material-ui/core';\n\nconst EVALUATION_FORMATS = [{\n\tlabel: \"vink\",\n\tvalue: \"check\",\n\toptions: [{\n\t\tlabel: \"Gehaald\",\n\t\tvalue: \"passed\",\n\t},\n\t{\n\t\tlabel: \"Niet gehaald\",\n\t\tvalue: \"failed\",\n\t},\n\t{\n\t\tlabel: \"Niet deelgenomen\",\n\t\tvalue: \"ND\",\n\t}],\n},\n{\n\tlabel: \"trapsgewijs\",\n\tvalue: \"stepwise\",\n\toptions: [{\n\t\tlabel: \"Onvoldoende\",\n\t\tvalue: \"O\",\n\t},\n\t{\n\t\tlabel: \"Voldoende\",\n\t\tvalue: \"V\",\n\t},\n\t{\n\t\tlabel: \"Goed\",\n\t\tvalue: \"G\",\n\t},\n\t{\n\t\tlabel: \"Niet deelgenomen\",\n\t\tvalue: \"ND\",\n\t}],\n}, {\n\tlabel: \"cijfer\",\n\tvalue: \"decimal\",\n\toptions: \"decimal\",\n}];\n\nfunction getEvaluationColor(ev) {\n\tif (ev.assesment === \"ND\" || ev.assesment == null) {\n\t\treturn \"#673ab7\";\n\t}\n\tswitch (ev.type) {\n\t\tcase \"stepwise\":\n\t\t\treturn \"#3f51b5\";\n\t\tcase \"check\":\n\t\t\treturn \"#009688\";\n\t\tcase \"decimal\":\n\t\t\treturn \"#00bcd4\"\n\t\tdefault:\n\t\t\treturn \"#673ab7\";\n\t}\n}\n\nclass Evaluation extends Component {\n\n\trender() {\n\t\tconst e = this.props.evaluation;\n\t\tlet style = {\n\t\t\tunderline: false,\n\t\t\tflex: 2,\n\t\t};\n\t\tlet layout = { td: true };\n\t\tif (this.props.student) {\n\t\t\tstyle.type = \"headline\";\n\t\t\tstyle.color = \"primaryContrast\"\n\t\t\tlayout.td = false;\n\t\t\tlayout.alignment = \"right\";\n\t\t}\n\t\tif (e.type === \"decimal\") {\n\t\t\treturn <Field\n\t\t\t\tstyle={style}\n\t\t\t\tvalidate={{ min: 1, max: 10, type: \"decimalGrade\", notEmpty: true }}\n\t\t\t\tlayout={layout}\n\t\t\t\tlabel=\"Beoordeling\"\n\t\t\t\tname={e.userId}\n\t\t\t\tvalue={e.assesment ? e.assesment : \"\"}\n\t\t\t\teditable={this.props.editable}\n\t\t\t\tonChange={this.props.onChange}\n\t\t\t/>\n\t\t} else {\n\t\t\treturn <Field\n\t\t\t\tstyle={style}\n\t\t\t\tname={e.userId}\n\t\t\t\tlabel=\"Beoordeling\"\n\t\t\t\tlayout={layout}\n\t\t\t\tvalue={e.assesment ? e.assesment : \"\"}\n\t\t\t\toptions={EVALUATION_FORMATS.filter(f => f.value === e.type)[0].options}\n\t\t\t\teditable={this.props.editable}\n\t\t\t\tonChange={this.props.onChange}\n\t\t\t/>\n\t\t}\n\t}\n\n}\n\n\nclass EvaluationTab extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsortValue: \"\",\n\t\t\tsortDirection: \"\",\n\t\t}\n\t}\n\n\tonSortChange = (value) => {\n\t\tthis.setState({\n\t\t\tsortValue: value,\n\t\t\tsortDirection: this.state.sortDirection === \"desc\" && this.state.sortValue === value ? \"asc\" : \"desc\"\n\t\t});\n\t}\n\n\thandleSingleChange = (newEv) => {\n\t\tlet newEvaluations = this.props.evaluations.map((e) => {\n\t\t\tif (e.userId === newEv.userId) {\n\t\t\t\treturn newEv;\n\t\t\t} else {\n\t\t\t\treturn { ...e }\n\t\t\t}\n\t\t});\n\t\tthis.props.handleChange(newEvaluations);\n\t}\n\n\thandleEvaluationTypeChange(newValue) {\n\t\tlet newEvaluations = [];\n\t\tfor (let i = 0; i < this.props.evaluations.length; i++) {\n\t\t\tnewEvaluations.push({\n\t\t\t\t...this.props.evaluations[i],\n\t\t\t\ttype: newValue,\n\t\t\t});\n\t\t\tthis.props.handleChange(newEvaluations);\n\t\t}\n\t}\n\n\tsortEvaluations = () => {\n\t\tlet evaluations = this.props.evaluations;\n\t\tconst sortValue = this.state.sortValue;\n\t\tlet sortDirection = this.state.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n\n\t\tif (sortValue === \"name\") {\n\t\t\tevaluations.sort((a, b) => {\n\t\t\t\tlet cmp = b.displayName < a.displayName;\n\t\t\t\treturn sortDirection === \"asc\" ? cmp : -cmp;\n\t\t\t})\n\t\t} else if (sortValue === \"evaluations\") {\n\t\t\tevaluations.sort((a, b) => {\n\t\t\t\ta = a[\"assesment\"];\n\t\t\t\tb = b[\"assesment\"];\n\t\t\t\tlet cmp = (b === null) - (a == null) || +(a > b) || -(a < b);\n\t\t\t\treturn sortDirection === \"asc\" ? cmp : -cmp;\n\t\t\t})\n\t\t}\n\t\treturn evaluations;\n\t}\n\n\trender() {\n\t\tlet sortValue = this.state.sortValue;\n\t\tlet sortDirection = this.state.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n\t\tconst style = {\n\t\t\tmarginTop: \"10px\",\n\t\t\talignItems: \"center\",\n\t\t\tpaddingRight: \"15px\",\n\t\t\tpaddingLeft: \"15px\",\n\t\t\tdisplay: \"flex\",\n\t\t};\n\t\tconst evaluations = this.props.evaluations;\n\t\tif (evaluations.length === 0) {\n\t\t\treturn \"Er zijn nog geen beoordelingen beschikbaar\";\n\t\t}\n\t\tconst evComps = this.sortEvaluations()\n\t\t\t.map(ev => {\n\t\t\t\treturn (\n\t\t\t\t\t<Paper style={style} key={ev.userId} component=\"tr\">\n\t\t\t\t\t\t<Field style={{ type: \"title\", color: \"primary\", flex: 2 }} value={ev.displayName} layout={{ td: true }} />\n\t\t\t\t\t\t<Evaluation\n\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\tevaluation={ev}\n\t\t\t\t\t\t\tonChange={(assesment) => this.handleSingleChange({ ...ev, assesment })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tstyle={{ underline: false, flex: 5 }}\n\t\t\t\t\t\t\tlayout={{ area: true, td: true }}\n\t\t\t\t\t\t\tlabel={\"Uitleg\"}\n\t\t\t\t\t\t\tname={ev.userId}\n\t\t\t\t\t\t\tvalue={ev.explanation}\n\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\tonChange={(explanation) => this.handleSingleChange({ ...ev, explanation })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Paper >\n\t\t\t\t);\n\t\t\t});\n\n\t\treturn (\n\t\t\t<EnsureSecureLogin active={this.props.editable}>\n\t\t\t\t<table style={{ width: \"100%\" }}>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<Paper style={{ ...style, backgroundColor: \"#e0e0e0\" }} component=\"tr\">\n\t\t\t\t\t\t\t<td style={{ paddingLeft: \"15px\" }}>\n\t\t\t\t\t\t\t\t<Typography type=\"title\" color=\"primary\" style={{ padding: \"5px 0\" }} >\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\t\t\t\tactive={sortValue === \"evaluations\"}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onSortChange(\"evaluations\")}\n\t\t\t\t\t\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"inherit\", fontSize: \"1.5rem\", }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tBeoordelingen\n\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\t\t\t\tactive={sortValue === \"name\"}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onSortChange(\"name\")}\n\t\t\t\t\t\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tNaam\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td style={{ flex: \"5\" }} />\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tlabel=\"Beoordelingsformaat\"\n\t\t\t\t\t\t\t\t\tstyle={{ type: \"caption\", underline: false, margin: \"normal\", labelVisible: true }}\n\t\t\t\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\t\t\t\tvalue={evaluations[0].type}\n\t\t\t\t\t\t\t\t\toptions={EVALUATION_FORMATS}\n\t\t\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\t\t\tonChange={this.handleEvaluationTypeChange.bind(this)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</Paper >\n\t\t\t\t\t\t{evComps}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table >\n\t\t\t</EnsureSecureLogin>\n\t\t);\n\t}\n\n}\n\nexport { Evaluation, EvaluationTab, getEvaluationColor };","import { Typography, Button, Paper, Badge } from '@material-ui/core';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport Field from '../../components/Field';\nimport ChooseButton from './ChooseButton';\nimport { Evaluation, getEvaluationColor } from './Evaluation';\nimport \"./GroupCard.css\";\n\nclass GroupCard extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t}\n\t}\n\n\texpand() {\n\t\tthis.props.history.push(\"/groep/\" + this.props.group.id)\n\t}\n\n\tgetBottomSection() {\n\t\tif (this.props.group.evaluation &&\n\t\t\tthis.props.group.evaluation.assesment !== \"\" &&\n\t\t\tthis.props.group.evaluation.assesment !== null) {\n\t\t\treturn (\n\t\t\t\t<div className=\"footer\" style={{ backgroundColor: getEvaluationColor(this.props.group.evaluation) }}>\n\t\t\t\t\t<Field value=\"Beoordeling\" style={{ type: \"h1\", flex: 1 }} />\n\t\t\t\t\t<Evaluation evaluation={this.props.group.evaluation} student />\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"footer\" >\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={this.expand.bind(this)}\n\t\t\t\t\t>\n\t\t\t\t\t\tBekijken\n\t\t\t\t\t</Button>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.role === \"student\" &&\n\t\t\t\t\t\t<ChooseButton\n\t\t\t\t\t\t\tgroup={this.props.group}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t</div >\n\t\t\t);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst group = this.props.group;\n\t\treturn (\n\t\t\t<div className=\"GroupCard\">\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 4 : 2}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t>\n\t\t\t\t\t<Badge color=\"secondary\" invisible={this.props.schoolYear === group.schoolYear} badgeContent={group.schoolYear}>\n\t\t\t\t\t\t<div className=\"GroupCardInside\">\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tstyle={{ overflow: \"hidden\", maxHeight: \"65px\", cursor: \"pointer\" }}\n\t\t\t\t\t\t\t\tonClick={() => { this.props.history.push(\"/groep/\" + group.id) }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{group.subjectName}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"h1\"\n\t\t\t\t\t\t\t\tstyle={{ overflow: \"hidden\", height: \"64px\", cursor: \"pointer\", textTransform: \"uppercase\", fontSize: \"24px\" }}\n\t\t\t\t\t\t\t\tonClick={() => { this.props.history.push(\"/groep/\" + group.id) }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{group.courseName}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography style={{ display: \"inline-block\", fontWeight: \"bold\", float: \"right\" }}>\n\t\t\t\t\t\t\t\t\t{\"Blok \" + group.period + \" - \" + group.day}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography style={{ display: \"inline-block\", fontWeight: \"bold\" }}>\n\t\t\t\t\t\t\t\t\t{group.enrollableFor || \"Iedereen\"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tgroup.evaluation ?\n\t\t\t\t\t\t\t\t\t<Typography style={{ maxHeight: \"164px\", overflow: \"hidden\" }} gutterBottom>\n\t\t\t\t\t\t\t\t\t\t<b>Uitleg beoordeling: </b>\n\t\t\t\t\t\t\t\t\t\t{group.evaluation.explanation}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<Typography style={{ maxHeight: \"164px\", overflow: \"hidden\" }} gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{group.courseDescription}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.getBottomSection()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Badge>\n\t\t\t\t</Paper >\n\t\t\t</div>\n\t\t);\n\t}\n\n\n}\n\n\nexport default withRouter(GroupCard);\n\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport Paper from '@material-ui/core/Paper';\nimport { Typography } from '@material-ui/core';\n\nclass GroupCard extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"auto\",\n\t\t\t\tmargin: \"0px\",\n\t\t\t\tpadding: \"10px\",\n\t\t\t},\n\t\t}\n\t}\n\n\tformatPhoneNumber(number) {\n\t\tif (number == null) {\n\t\t\tnumber = \"\";\n\t\t}\n\t\tlet numberWithoutCharacters = number.replace(/\\D/g, '');\n\t\tif (numberWithoutCharacters.length === 10) { // Either 06... or regional i.e. 024 ...\n\t\t\tif (numberWithoutCharacters[1] === \"6\") { // 06...\n\t\t\t\treturn (numberWithoutCharacters.substr(0, 2) + \" \" + numberWithoutCharacters.substr(2, 8));\n\t\t\t} else { // 024 ...\n\t\t\t\treturn (numberWithoutCharacters.substr(0, 3) + \" \" + numberWithoutCharacters.substr(3, 7));\n\t\t\t}\n\t\t}\n\t\tconst mobileTest = /(0031|31)0?(6)?([0-9]+)$/gm;\n\t\tconst match = mobileTest.exec(numberWithoutCharacters);\n\t\tif (match) {\n\t\t\tif (match[2]) { // +31 06 \n\t\t\t\treturn \"+31 06 \" + match[3];\n\t\t\t} else { // +31 ...\n\t\t\t\treturn \"+31 \" + match[3];\n\t\t\t}\n\t\t} else {\n\t\t\treturn number; // return input if unrecognizable \n\t\t}\n\t}\n\n\texpand() {\n\t\tthis.props.history.push(\"/user/\" + this.props.user.id)\n\t}\n\n\trender() {\n\t\tlet user = { ...this.props.user };\n\t\tlet style = { ...this.state.style };\n\t\treturn (\n\t\t\t<tr key={user.id}>\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t\tcomponent=\"td\"\n\t\t\t\t\tstyle={style}\n\t\t\t\t>\n\t\t\t\t\t<div style={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Typography variant=\"button\" color={user.role === \"teacher\" ? \"secondary\" : \"primary\"} style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.firstName + \" \" + user.lastName}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.school}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.level + \" - \" + user.year}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.role === \"teacher\" ? \"docent\" : \"leerling\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.profile}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.props.role === \"admin\" &&\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.email}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.preferedEmail}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<div style={{ flex: 1 }} />\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{this.formatPhoneNumber(user.phoneNumber)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.id}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</Paper >\n\t\t\t</tr>\n\t\t);\n\t}\n}\n\n\nexport default withRouter(GroupCard);\n\n","import React, { Component } from 'react';\nimport Page from '../Page';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport { setUser, isUserMissingInfo } from '../../store/actions';\nimport Field from '../../components/Field';\nimport Typography from '@material-ui/core/Typography';\n\nconst profiles = [\"NT\", \"NG\", \"CM\", \"EM\", \"NT&NG\", \"EM&CM\"];\nconst levels = [\"VWO\", \"HAVO\"];\n\nclass UserPage extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tuser: this.props.user,\n\t\t};\n\t}\n\n\thandleChange = (name, value) => {\n\t\tthis.setState({\n\t\t\tuser: {\n\t\t\t\t...this.state.user,\n\t\t\t\t[name]: value,\n\t\t\t}\n\t\t});\n\t}\n\n\thasChanged() {\n\t\treturn JSON.stringify(this.props.user) !== JSON.stringify(this.state.user)\n\t}\n\n\trender() {\n\t\tlet user = null;\n\t\tif (this.props.user.id !== this.state.user.id) {\n\t\t\tthis.setState({\n\t\t\t\tuser: this.props.user,\n\t\t\t});\n\t\t\tuser = this.props.user;\n\t\t} else {\n\t\t\tuser = this.state.user;\n\t\t}\n\t\tconst shouldFillIn = this.props.ownProfile && (isUserMissingInfo(user) !== false);\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Naam\"\n\t\t\t\t\tvalue={user.displayName}\n\t\t\t\t\tstyle={{ type: \"headline\" }}\n\t\t\t\t/>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Rol\"\n\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\tvalue={user.role}\n\t\t\t\t/>\n\t\t\t\t<Divider />\n\t\t\t\t<br />\n\t\t\t\t<div style={{ display: \"flex\" }} >\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Leerjaar\"\n\t\t\t\t\t\tvalue={user.year}\n\t\t\t\t\t\tstyle={{ margin: \"normal\" }}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"year\", value)}\n\t\t\t\t\t\tvalidate={{\n\t\t\t\t\t\t\ttype: \"integer\",\n\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\tmax: 6,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Opleidingsniveau\"\n\t\t\t\t\t\tvalue={user.level}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"level\", value)}\n\t\t\t\t\t\toptions={levels}\n\t\t\t\t\t\tvalidate={{ notEmpty: true, }}\n\t\t\t\t\t/>\n\t\t\t\t\t{this.props.ownProfile &&\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"Profiel\"\n\t\t\t\t\t\t\tvalue={user.profile}\n\t\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\t\toptions={profiles}\n\t\t\t\t\t\t\tonChange={(value) => this.handleChange(\"profile\", value)}\n\t\t\t\t\t\t\tvalidate={{ notEmpty: true }}\n\t\t\t\t\t\t/>}\n\t\t\t\t</div>\n\t\t\t\t<div style={{ display: \"flex\" }} >\n\t\t\t\t\t{this.props.ownProfile && <Field\n\t\t\t\t\t\tlabel=\"Voorkeurs email\"\n\t\t\t\t\t\tvalue={user.preferedEmail}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"preferedEmail\", value)}\n\t\t\t\t\t\tvalidate={{ type: \"email\" }}\n\t\t\t\t\t/>}\n\t\t\t\t\t{this.props.ownProfile && <Field\n\t\t\t\t\t\tlabel=\"Telefoonnummer\"\n\t\t\t\t\t\tvalue={user.phoneNumber}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"phoneNumber\", value)}\n\t\t\t\t\t\tvalidate={{ type: \"phoneNumber\" }}\n\t\t\t\t\t/>}\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t\t{\n\t\t\t\t\tshouldFillIn &&\n\t\t\t\t\t<Typography gutterBottom variant=\"button\" color=\"secondary\" >\n\t\t\t\t\t\tControleer de bovenstaande gegevens en vul de ontbrekende gegevens aan.\n\t\t\t\t\t</Typography>\n\t\t\t\t}\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t{\n\t\t\t\t\tthis.hasChanged() &&\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={() => this.props.save(this.state.user)}>\n\t\t\t\t\t\tOpslaan\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t</Page >\n\t\t);\n\t}\n}\n\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsave: (user) => dispatch(setUser(user)),\n\t};\n}\n\n\nexport default connect(null, mapDispatchToProps)(UserPage);\n\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nconst CARD_STYLE = {\n\twidth: \"300px\",\n\theight: \"80px\",\n\tpadding: \"20px\",\n\tverticalAlign: \"top\",\n\tmargin: \"20px\",\n\tdisplay: \"inline-block\",\n\tcursor: \"pointer\",\n}\n\nclass GroupCard extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\t...CARD_STYLE,\n\t\t\t\t...this.props.style,\n\t\t\t}\n\t\t}\n\t}\n\n\texpand() {\n\t\tthis.props.history.push(\"/gebruiker/\" + this.props.user.id)\n\t}\n\n\trender() {\n\t\tconst user = this.props.user;\n\t\treturn (\n\t\t\t<Paper\n\t\t\t\televation={this.state.hover ? 4 : 2}\n\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\tstyle={this.state.style}\n\t\t\t>\n\t\t\t\t<Typography variant=\"button\" color={user.role === \"teacher\" ? \"secondary\" : \"primary\"} >\n\t\t\t\t\t{user.firstName + \" \" + user.lastName}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{(user.role === \"teacher\" ? \"docent\" : \"leerling\") + \"\\t\" + user.school}\n\t\t\t\t</Typography>\n\t\t\t</Paper >\n\t\t);\n\t}\n\n\n}\n\n\nexport default withRouter(GroupCard);\n\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport UserRow from \"./UserRow\";\nimport UserPage from \"./UserPage\";\nimport UserCard from \"./UserCard\";\nimport { setSecureLogin, getCookie } from \"../../store/actions\"\n\nimport { withRouter } from 'react-router-dom';\nimport Progress from '../../components/Progress'\nimport Field from \"../../components/Field\"\nimport queryString from \"query-string\";\nimport { Button } from \"@material-ui/core\";\n\nclass User extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet s = queryString.parse(nextProps.location.search);\n\t\tif (s.secureLogin != null) {\n\t\t\tnextProps.setSecureLogin(s.secureLogin);\n\t\t}\n\t\tif (s.from === \"login\" && nextProps.user != null && nextProps.role !== \"student\") {\n\t\t\tconst beforeLoginPath = getCookie(\"beforeLoginPath\");\n\t\t\tnextProps.history.push(beforeLoginPath);\n\t\t}\n\t\treturn prevState;\n\t}\n\n\trender() {\n\t\tif (this.props.user == null) {\n\t\t\tif (this.props.display === \"page\") {\n\t\t\t\tif (this.props.notExists) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"page\">\n\t\t\t\t\t\t\tDe opgevraagde gebruiker bestaat niet\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"page\">\n\t\t\t\t\t\t\t<Progress />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.props.notExists) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tswitch (this.props.display) {\n\t\t\tcase \"name\":\n\t\t\t\treturn <Field value={this.props.user.displayName} style={{ type: \"title\", width: \"auto\", }} layout={{ td: true }} />;\n\t\t\tcase \"page\":\n\t\t\t\treturn (\n\t\t\t\t\t<UserPage {...this.props} />\n\t\t\t\t);\n\t\t\tcase \"row\":\n\t\t\t\treturn (\n\t\t\t\t\t<UserRow {...this.props}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.props.actions &&\n\t\t\t\t\t\t\tthis.props.actions.map(action => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button onClick={() => action.onClick(this.props.userId)} variant=\"contained\" color=\"primary\" style={{ marginRight: \"10px\" }} >\n\t\t\t\t\t\t\t\t\t\t{action.label}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</UserRow>\n\t\t\t\t);\n\t\t\tcase \"card\":\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<UserCard {...this.props} />\n\t\t\t\t);\n\t\t}\n\t}\n}\n\n\nfunction mapStateToProps(state, ownProps) {\n\tlet id = ownProps.match.params.userId || ownProps.userId;\n\tlet display = ownProps.display || \"page\";\n\n\tlet notExists = false;\n\tlet user = null;\n\n\tif (id == null) {\n\t\tid = state.userId;\n\t}\n\n\tif (state.users == null || state.users[id] == null) {\n\t\tif (id == null || state.hasFetched.indexOf(\"User.get(\" + id + \")\") !== -1) {\n\t\t\tnotExists = true;\n\t\t}\n\t} else {\n\t\tuser = state.users[id];\n\t}\n\n\treturn {\n\t\trole: state.role,\n\t\tuser,\n\t\tnotExists,\n\t\tdisplay,\n\t\tuserId: id,\n\t\townProfile: (\"\" + id) === (\"\" + state.userId),\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetSecureLogin: (secureLogin) => dispatch(setSecureLogin(secureLogin)),\n\t};\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(User));\n","import React, { Component } from 'react';\nimport map from \"lodash/map\"\nimport filter from \"lodash/filter\"\nimport User from \"../user/User\"\nimport Field from \"../../components/Field\"\nimport { Paper } from '@material-ui/core';\n\nclass PresenceTable extends Component {\n\n\tcreatePresenceComponent(presence, i) {\n\t\tlet options = [{ label: \"Actief\", value: \"present\" },\n\t\t{ label: \"Niet actief\", value: \"absent\" }];\n\t\tif (!this.props.editable && presence.userStatus === \"absent\") {\n\t\t\toptions[0].label = \"Afgemeld\";\n\t\t\toptions[1].label = \"Afgemeld\";\n\t\t}\n\t\treturn <Field\n\t\t\tkey={i}\n\t\t\tvalue={presence.status}\n\t\t\toptions={options}\n\t\t\tlabel={presence.userStatus === \"absent\" ? \"afgemeld\" : undefined}\n\t\t\tlayout={{ td: true, area: true }}\n\t\t\teditable={this.props.editable}\n\t\t\tonChange={(status) => {\n\t\t\t\tthis.props.handleChange({\n\t\t\t\t\t...presence,\n\t\t\t\t\tstatus,\n\t\t\t\t});\n\t\t\t}}\n\t\t/>;\n\t}\n\n\tcreateRow = (participantId) => {\n\t\tconst content = map(this.props.lessons, ((lesson, i) => {\n\t\t\tconst p = filter(this.props.presence, presence => {\n\t\t\t\treturn presence.lessonId === lesson.id && presence.userId === participantId;\n\t\t\t});\n\t\t\tif (p.length === 1) {\n\t\t\t\treturn this.createPresenceComponent(p[0], i);\n\t\t\t} else {\n\t\t\t\treturn this.createPresenceComponent({\n\t\t\t\t\tlessonId: lesson.id,\n\t\t\t\t\tuserId: participantId,\n\t\t\t\t\tstatus: \"present\",\n\t\t\t\t}, i);\n\t\t\t}\n\t\t}));\n\n\t\treturn (\n\t\t\t<Paper component=\"tr\" elevation={1} key={\"p\" + participantId}>\n\t\t\t\t<User key={participantId} userId={participantId} display=\"name\" />\n\t\t\t\t{content}\n\t\t\t</Paper>\n\t\t);\n\t}\n\n\tcreateLessonHeader = (lesson) => {\n\t\tconst content = map(this.props.lessons, lesson => {\n\t\t\treturn <Field value={\"Les \" + lesson.numberInBlock} key={lesson.id} style={{ type: \"title\" }} layout={{ td: true, area: true }} />;\n\t\t});\n\t\treturn (\n\t\t\t<Paper component=\"tr\" elevation={2} key={\"l\" + lesson} style={{ backgroundColor: \"#e0e0e0\" }} >\n\t\t\t\t<Field value=\"\" layout={{ td: true, area: true }} />\n\t\t\t\t{content}\n\t\t\t</Paper>\n\t\t);\n\t}\n\n\trender() {\n\t\tlet rows = this.props.participantIds.filter((partId) => {\n\t\t\treturn map(this.props.presence, (p) => p.userId).indexOf(partId) !== -1;\n\t\t}).map(this.createRow);\n\t\trows.unshift(this.createLessonHeader());\n\t\treturn <table>\n\t\t\t<tbody>\n\t\t\t\t{rows}\n\t\t\t</tbody>\n\t\t</table>;\n\t}\n\n}\n\nexport default PresenceTable;\n","import React, { Component } from 'react';\n\nimport Paper from '@material-ui/core/Paper';\nimport Field from '../../components/Field';\nimport { Button } from '@material-ui/core';\nimport { setPresenceUserStatus } from \"../../store/actions\";\nimport { connect } from \"react-redux\";\n\nclass Lesson extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"auto\",\n\t\t\t\tmarginTop: \"10px\",\n\t\t\t\tmarginBottom: \"10px\",\n\t\t\t\tpadding: \"2px\",\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\talignItems: \"start\",\n\t\t\t\tposition: \"relative\",\n\t\t\t},\n\t\t}\n\t}\n\n\tgetWeekdayString(number) {\n\t\treturn [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"][number];\n\t}\n\n\tgetOptOutButton() {\n\t\tif (this.props.lesson.userStatus === \"absent\") {\n\t\t\treturn < div style={{ flex: 1 }}>\n\t\t\t\t<Button\n\t\t\t\t\tstyle={{ width: \"70px\", float: \"right\" }}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tmini\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={() => this.props.setPresenceUserStatus(this.props.lesson.id, \"present\", this.props.lesson.courseGroupId)}\n\t\t\t\t>\n\t\t\t\t\tAanmelden\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t}\n\t\treturn < div style={{ flex: 1 }}>\n\t\t\t<Button\n\t\t\t\tstyle={{ width: \"70px\", float: \"right\" }}\n\t\t\t\tsize=\"small\"\n\t\t\t\tmini\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tonClick={() => this.props.setPresenceUserStatus(this.props.lesson.id, \"absent\", this.props.lesson.courseGroupId)}\n\t\t\t>\n\t\t\t\tAfmelden\n\t\t\t</Button>\n\t\t</div>\n\t}\n\n\n\thandleChange = (name, value) => {\n\t\tthis.props.handleChange({\n\t\t\t...this.props.lesson,\n\t\t\t[name]: value,\n\t\t});\n\t}\n\n\n\trender() {\n\t\tconst lesson = this.props.lesson;\n\t\tif (lesson.id === -1) {\n\t\t\treturn (\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t\tcomponent=\"tr\"\n\t\t\t\t\tstyle={{ backgroundColor: \"#e0e0e0\" }}\n\t\t\t\t>\n\t\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Lesnummer\" />\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Soort les\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<Field style={{ flex: 4, fontWeight: \"bold\" }} value=\"Onderwerp\" layout={{ td: true }} />\n\t\t\t\t\t<Field style={{ flex: 8, fontWeight: \"bold\" }} value=\"Activiteiten\" layout={{ td: true }} />\n\t\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Datum\" layout={{ alignment: \"right\" }} />\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Aanwezigheid\" layout={{ alignment: \"right\" }} />\n\t\t\t\t\t</td>\n\t\t\t\t</Paper>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Paper\n\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\tcomponent=\"tr\"\n\t\t\t>\n\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tlayout={{ area: true }}\n\t\t\t\t\t\tstyle={{ fontWeight: \"bold\" }}\n\t\t\t\t\t\tvalue={\"Les \" + lesson.numberInBlock}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Soort les\"\n\t\t\t\t\t\tlayout={{ area: true }}\n\t\t\t\t\t\tvalue={lesson.kind}\n\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"kind\", value)}\n\t\t\t\t\t/>\n\t\t\t\t</td>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Onderwerp\"\n\t\t\t\t\tstyle={{ flex: 4 }}\n\t\t\t\t\tvalue={lesson.subject}\n\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\tonChange={(value) => this.handleChange(\"subject\", value)}\n\t\t\t\t\tlayout={{ td: true, area: true }}\n\t\t\t\t/>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Activiteiten\"\n\t\t\t\t\tstyle={{ flex: 8 }}\n\t\t\t\t\tvalue={lesson.activities}\n\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\tonChange={(value) => this.handleChange(\"activities\", value)}\n\t\t\t\t\tlayout={{ td: true, area: true }}\n\t\t\t\t/>\n\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\tvalue={this.getWeekdayString(new Date(lesson.date).getDay()) + \" \" + new Date(lesson.date).getDate() + \"-\" + (new Date(lesson.date).getMonth() + 1) + \"-\" + new Date(lesson.date).getFullYear()}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Aanwezigheid\"\n\t\t\t\t\t\tstyle={{ labelVisible: true }}\n\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\tvalue={lesson.presence}\n\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"presence\", value)}\n\t\t\t\t\t\toptions={[{ label: \"Noodzakelijk\", value: \"required\" }, { label: \"Eigen keuze\", value: \"optional\" }, { label: \"Geen bijeenkomst\", value: \"unrequired\" }]}\n\t\t\t\t\t/>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.userIsMemberOfGroup && this.props.role === \"student\" ? this.getOptOutButton() : null\n\t\t\t\t\t}\n\t\t\t\t</td>\n\t\t\t</Paper >\n\t\t);\n\t}\n\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetPresenceUserStatus: (lessonId, userStatus, groupId) => dispatch(setPresenceUserStatus(lessonId, userStatus, groupId)),\n\t};\n}\n\nexport default connect(null, mapDispatchToProps)(Lesson);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Typography, Tooltip, TableSortLabel, Paper } from '@material-ui/core';\nimport User from \"./User\";\n\nclass UserList extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"auto\",\n\t\t\t\tmargin: \"0px\",\n\t\t\t\tpadding: \"10px\",\n\t\t\t\tbackgroundColor: \"#e0e0e0\",\n\t\t\t},\n\t\t\tsortValue: \"\",\n\t\t\tsortDirection: \"\",\n\t\t}\n\t}\n\n\tonSortChange = (value) => {\n\t\tthis.setState({\n\t\t\tsortValue: value,\n\t\t\tsortDirection: this.state.sortDirection === \"desc\" && this.state.sortValue === value ? \"asc\" : \"desc\"\n\t\t});\n\t}\n\n\theaderTitle(variant, value, title) {\n\t\tlet sortValue = this.state.sortValue;\n\t\tlet sortDirection = this.state.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n\t\treturn (\n\t\t\t<Typography variant={variant} color={variant === \"button\" ? \"primary\" : \"initial\"} style={{ flex: 1 }} >\n\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t<TableSortLabel active={sortValue === value}\n\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\tonClick={() => this.onSortChange(value)}\n\t\t\t\t\t\tstyle={{ color: \"inherit\" }} >\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</TableSortLabel>\n\t\t\t\t</Tooltip>\n\t\t\t</Typography>\n\t\t)\n\t}\n\n\tgetHeader = () => {\n\t\tlet style = { ...this.state.style };\n\t\treturn (\n\t\t\t<tr>\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t\tcomponent=\"td\"\n\t\t\t\t\tstyle={style}\n\t\t\t\t>\n\t\t\t\t\t<div style={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t{this.headerTitle(\"button\", \"name\", \"Naam\")}\n\t\t\t\t\t\t{this.headerTitle(\"subtitle1\", \"school\", \"School\")}\n\t\t\t\t\t\t{this.headerTitle(\"body1\", \"levelAndYear\", \"Niveau - Leerjaar\")}\n\t\t\t\t\t\t{this.headerTitle(\"body1\", \"role\", \"Rol\")}\n\t\t\t\t\t\t{this.headerTitle(\"body1\", \"profile\", \"Profiel\")}\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.props.role === \"admin\" &&\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"email\", \"Office Email\")}\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"preferedEmail\", \"Voorkeurs email\")}\n\t\t\t\t\t\t\t<div style={{ flex: 1 }} />\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"phoneNumber\", \"Telefoonnummer\")}\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"id\", \"Gebruikers ID\")}\n\t\t\t\t\t\t</div>}\n\t\t\t\t</Paper >\n\t\t\t</tr>\n\t\t)\n\t}\n\n\tsortIds = () => {\n\t\tconst value = this.state.sortValue;\n\t\tconst direction = this.state.sortDirection;\n\t\tconst users = this.props.users;\n\t\tconst userIds = this.props.userIds;\n\t\tif (value === \"\") {\n\t\t\treturn userIds;\n\t\t}\n\t\tuserIds.sort((a, b) => {\n\t\t\tswitch (value) {\n\t\t\t\tcase \"name\":\n\t\t\t\t\ta = (users[a][\"firstName\"] + users[a][\"lastName\"]).toLowerCase();\n\t\t\t\t\tb = (users[b][\"firstName\"] + users[b][\"lastName\"]).toLowerCase()\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"levelAndYear\":\n\t\t\t\t\ta = (users[a][\"level\"] + users[a][\"year\"]).toString();// to string because otherwise no level and year would result in a being an integer\n\t\t\t\t\tb = (users[b][\"level\"] + users[b][\"year\"]).toString();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\ta = users[a][value];\n\t\t\t\t\tb = users[b][value];\n\t\t\t}\n\t\t\tlet cmp = (b == null) - (a == null) || +(a > b) || -(a < b);\n\t\t\treturn direction === \"asc\" ? cmp : -cmp;\n\t\t})\n\t\treturn userIds;\n\t}\n\n\trender() {\n\t\tconst header = this.getHeader();\n\t\tconst users = this.sortIds().map(id => {\n\t\t\treturn <User key={id} userId={id} display=\"row\" actions={this.props.actions} />\n\t\t});\n\t\treturn (\n\t\t\t<table style={{ width: \"100%\" }}>\n\t\t\t\t<tbody>\n\t\t\t\t\t{header}\n\t\t\t\t\t{users}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps(state, ownProps) {\n\treturn {\n\t\tusers: state.users,\n\t\trole: state.role,\n\t};\n}\n\nexport default connect(mapStateToProps)(UserList);","import React, { Component } from 'react';\nimport { Prompt } from 'react-router-dom';\n\nclass PageLeaveWarning extends Component {\n\n\trender() {\n\t\tconst message = \"Weet je zeker dat u de pagina wilt verlaten? Er zijn nog niet-opgeslagen gegevens!\";\n\t\tif (this.props.giveWarning) {\n\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\te.returnValue = message;\n\t\t\t\treturn message;\n\t\t\t};\n\t\t} else {\n\t\t\twindow.onbeforeunload = null;\n\t\t}\n\t\treturn (\n\t\t\t<Prompt\n\t\t\t\twhen={this.props.giveWarning}\n\t\t\t\tmessage={location => message}\n\t\t\t/>\n\t\t);\n\t}\n\n}\n\nexport default PageLeaveWarning;","import React, { Component } from 'react';\nimport map from 'lodash/map';\n\nimport Field from '../../components/Field';\nimport User from \"../user/User\"\n\nimport Popover from '@material-ui/core/Popover';\nimport Button from '@material-ui/core/Button';\n\nclass GroupData extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\thandleClickAway = () => {\n\t\tthis.setState({ anchorEl: null });\n\t}\n\n\tshowTeacherCard = event => {\n\t\tthis.setState({ anchorEl: event.currentTarget });\n\t}\n\n\trender() {\n\t\tconst editable = this.props.editable;\n\t\tconst role = this.props.role;\n\t\tconst onChange = this.props.onChange;\n\t\tlet group = this.props.group;\n\t\treturn (\n\t\t\t<div style={{ position: \"relative\" }}>\n\t\t\t\t<div style={{ display: \"flex\" }}>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tvalue={group.courseName}\n\t\t\t\t\t\tonChange={(value) => onChange(\"courseName\", value)}\n\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\tstyle={{ flex: \"5\", type: \"headline\" }}\n\t\t\t\t\t\tvalidate={{ maxLength: 50 }}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tvalue={group.subjectId}\n\t\t\t\t\t\tonChange={(value) => onChange(\"subjectId\", value)}\n\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\tstyle={{ type: \"headline\" }}\n\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\toptions={map(this.props.subjects, (subject) => { return { value: subject.id, label: subject.name } })}\n\t\t\t\t\t/>\n\t\t\t\t\t{\n\t\t\t\t\t\t!editable &&\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tstyle={{ position: \"absolute\", display: \"block\", top: \"30px\", right: \"-15px\", zIndex: \"100\" }}\n\t\t\t\t\t\t\tonClick={this.showTeacherCard}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div>{group.teacherName}</div>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div style={{ display: \"flex\" }} className=\"ColumnFlexDirectionOnMobile\">\n\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t\t<div style={{ flex: 1 }}>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.period}\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"period\", value)}\n\t\t\t\t\t\t\t\teditable={editable && role === \"admin\"}\n\t\t\t\t\t\t\t\tstyle={{ width: \"100px\", type: \"caption\" }}\n\t\t\t\t\t\t\t\toptions={[{ label: \"Blok 1\", value: 1 }, { label: \"Blok 2\", value: 2 }, { label: \"Blok 3\", value: 3 }, { label: \"Blok 4\", value: 4 }]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.day}\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"day\", value)}\n\t\t\t\t\t\t\t\teditable={editable && role === \"admin\"}\n\t\t\t\t\t\t\t\tstyle={{ width: \"150px\", type: \"caption\" }}\n\t\t\t\t\t\t\t\toptions={[\"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\", \"zondag\"]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.schoolYear}\n\t\t\t\t\t\t\t\teditable={editable && role === \"admin\"}\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"schoolYear\", value)}\n\t\t\t\t\t\t\t\toptions={[\"2018/2019\", \"2019/2020\", \"2020/2021\", \"2021/2022\"]}\n\t\t\t\t\t\t\t\tstyle={{ width: \"120px\", type: \"caption\" }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.enrollableFor}\n\t\t\t\t\t\t\t\tlabel=\"Doelgroep\"\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"enrollableFor\", value)}\n\t\t\t\t\t\t\t\tstyle={{ width: \"100%\", labelVisible: true }}\n\t\t\t\t\t\t\t\tdefault=\"Iedereen\"\n\t\t\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={{ width: \"100%\" }}>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tvalue={group.courseDescription}\n\t\t\t\t\t\t\tvalidate={{ maxLength: 440 }}\n\t\t\t\t\t\t\tlabel=\"Omschrijving\"\n\t\t\t\t\t\t\tstyle={{ labelVisible: true }}\n\t\t\t\t\t\t\tonChange={(value) => onChange(\"courseDescription\", value)}\n\t\t\t\t\t\t\tlayout={{ area: true }}\n\t\t\t\t\t\t\teditable={editable} />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tvalue={group.remarks}\n\t\t\t\t\t\t\tlabel=\"Opmerkingen\"\n\t\t\t\t\t\t\tonChange={(value) => onChange(\"remarks\", value)}\n\t\t\t\t\t\t\tstyle={{ labelVisible: true }}\n\t\t\t\t\t\t\tdefault=\"Geen voorkennis vereist\"\n\t\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tvalue={group.studyTime}\n\t\t\t\t\t\t\tlabel=\"Studietijd\"\n\t\t\t\t\t\t\tonChange={(value) => onChange(\"studyTime\", value)}\n\t\t\t\t\t\t\tdefault=\"onbekend\"\n\t\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\t\tstyle={{ labelVisible: true, unit: \"uur\" }}\n\t\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\t\tvalidate={{ type: \"integer\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\n\t\t\t\t<Popover\n\t\t\t\t\topen={this.state.anchorEl ? true : false}\n\t\t\t\t\tonClose={this.handleClickAway}\n\t\t\t\t\tanchorEl={this.state.anchorEl}\n\t\t\t\t\tanchorOrigin={{ horizontal: \"left\", vertical: \"top\" }}\n\t\t\t\t>\n\t\t\t\t\t<User key={group.teacherId} userId={group.teacherId} display=\"card\" style={{ margin: \"0px\" }} />\n\t\t\t\t</Popover>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default GroupData;\n","import React, { Component } from \"react\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { connect } from 'react-redux';\nimport theme from \"../lib/MuiTheme\";\nimport { withStyles, Tooltip } from \"@material-ui/core\";\n\nconst style = {\n    colorPrimary:{\n        backgroundColor: theme.palette.primary.main\n    },\n    colorSecondary: {\n        backgroundColor: \"#ff8c00\"\n    },\n    colorError: {\n        backgroundColor: theme.palette.error.main\n    }\n}\n\nclass NotificationBadge extends Component {\n\n\n    render() {\n        const notifications = this.props.notifications;\n        const classes = this.props.classes;\n        let color = \"primary\";\n        let tooltipMessage = notifications.length > 0 ? notifications[0].message : \"\";\n        for ( let i = 0; i < notifications.length; i ++ ) { \n            if (notifications[i].priority === \"medium\" || notifications[i].priority === \"high\" ){\n                color=\"secondary\";\n                tooltipMessage=notifications[i].message;\n                for ( let j = i ; j < notifications.length; j++ ) {\n                    if ( notifications[j].priority === \"high\" ) {\n                        color = \"error\"\n                        tooltipMessage = notifications[j].message;\n                        break;\n                    }\n                }\n                break\n            }\n        }// tooltip is first message of highest priority\n        //color is highest priority\n\n        return (\n            <Tooltip title={tooltipMessage} >\n                <Badge badgeContent={notifications.length} classes={classes} color={color} >\n                    {this.props.children}\n                </Badge>\n            </Tooltip>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tlet notifications = state.notifications.filter((not) => {\n\t\ttry {\n            return not.type === \"badge\" && RegExp(not.scope).test(ownProps.scope);\n\t\t} catch (err) {\n\t\t\treturn true;\n\t\t}\n    });\n\treturn {\n\t\tnotifications: notifications,\n\t};\n}\n\nexport default withStyles(style)(connect(mapStateToProps,null)(NotificationBadge));","import React, { Component } from 'react';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport { connect } from 'react-redux';\nimport filter from \"lodash/filter\";\nimport { ClickAwayListener } from '@material-ui/core';\n\nimport Field from '../components/Field';\nimport { getAllUsers } from '../store/actions';\n\nclass SelectUser extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: \"\",\n\t\t\tuserId: null,\n\t\t\topen: false,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getAllUsers();\n\t}\n\n\tselectUser = (userId, displayName) => {\n\t\tthis.setState({\n\t\t\tinput: displayName,\n\t\t\topen: false,\n\t\t\tuserId: userId,\n\t\t});\n\t\tthis.props.onChange(userId, displayName);\n\t}\n\n\tgetFittingUsers = () => {\n\t\tconst regExp = new RegExp(this.state.input.toLowerCase());\n\t\tlet count = 0;\n\t\treturn filter(this.props.users, (user) => {\n\t\t\tconst v = regExp.test(user.displayName.toLowerCase())\n\t\t\tif (v) {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\treturn v && count < 6;\n\t\t}).map(user => {\n\t\t\treturn (\n\t\t\t\t<MenuItem key={user.id + user.displayName} onClick={() => this.selectUser(user.id, user.displayName)}>\n\t\t\t\t\t{user.displayName}\n\t\t\t\t</MenuItem>\n\t\t\t);\n\t\t});\n\t}\n\n\thandleInput = (value) => {\n\t\tif (this.state.userId) {\n\t\t\tthis.props.onChange(null, null);\n\t\t}\n\t\tthis.setState({\n\t\t\tinput: value,\n\t\t\topen: true,\n\t\t\tuserId: null,\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<ClickAwayListener onClickAway={() => this.setState({ open: false })}>\n\t\t\t\t<span>\n\t\t\t\t\t<Field label=\"Gebruiker\" value={this.state.input} editable onChange={this.handleInput} style={{ margin: \"normal\" }} />\n\t\t\t\t\t<Popper open={this.state.aliasId == null && this.state.open} disablePortal style={{ position: \"fixed\", zIndex: \"1\" }} >\n\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t<MenuList>\n\t\t\t\t\t\t\t\t{this.getFittingUsers()}\n\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Popper>\n\t\t\t\t</span>\n\t\t\t</ClickAwayListener>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tusers: state.users,\n\t}\n}\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetAllUsers: () => dispatch(getAllUsers()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectUser);\n\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport map from 'lodash/map';\n\nimport PresenceTable from './PresenceTable';\nimport Lesson from './Lesson';\nimport { EvaluationTab } from './Evaluation';\nimport Page from '../Page';\nimport UserList from \"../user/UserList\"\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Progress from '../../components/Progress'\nimport PageLeaveWarning from '../../components/PageLeaveWarning'\nimport GroupData from './GroupData';\nimport ChooseButton from './ChooseButton';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport queryString from \"query-string\";\nimport NotificationBadge from '../../components/NotificationBadge';\nimport SelectUser from '../../components/SelectUser';\nimport Field from '../../components/Field';\nimport { Typography, Tooltip } from '@material-ui/core';\n\nclass GroupPage extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\teditable: false,\n\t\t\tgroup: this.props.group,\n\t\t\tnewParticipant: {\n\t\t\t\tparticipatingRole: \"student\",\n\t\t\t\tuserId: null,\n\t\t\t}\n\t\t}\n\n\t\tswitch (this.props.role) {\n\t\t\tcase \"student\":\n\t\t\t\tif (this.props.userIsMemberOfGroup) {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\", \"Deelnemers\"];\n\t\t\t\t} else {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\"];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"teacher\":\n\t\t\t\tif (this.props.userIsMemberOfGroup) {\n\t\t\t\t\tthis.state.tabs = [\"Inschrijvingen\", \"Lessen\", \"Deelnemers\", \"Actief\", \"Beoordeling\"];\n\t\t\t\t} else {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\"];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"admin\":\n\t\t\t\tthis.state.tabs = [\"Inschrijvingen\", \"Lessen\", \"Deelnemers\", \"Actief\", \"Beoordeling\"];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tisCertificateWorthy({ evaluation }) {\n\t\tif (evaluation != null) {\n\t\t\tconst assesment = evaluation.assesment + \"\";\n\t\t\tswitch (evaluation.type) {\n\t\t\t\tcase \"decimal\":\n\t\t\t\t\tconst x = assesment.replace(/\\./g, \"_$comma$_\").replace(/,/g, \".\").replace(/_\\$comma\\$_/g, \",\");\n\t\t\t\t\treturn x >= 5.5;\n\t\t\t\tcase \"stepwise\":\n\t\t\t\t\treturn assesment === \"G\" || assesment === \"V\";\n\t\t\t\tcase \"check\":\n\t\t\t\t\treturn assesment === \"passed\";\n\t\t\t\tdefault:\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\tgroup: {\n\t\t\t\t...nextProps.group,\n\t\t\t\t...prevState.group,\n\t\t\t},\n\t\t\tcurrentTab: values.tab ? values.tab : prevState.tabs[0]\n\t\t}\n\t}\n\n\tgetCurrentTab(currentTab) {\n\t\tlet group = this.state.group;\n\t\tconst enrollmentIds = this.props.group.enrollmentIds;\n\t\tconst lessons = this.state.group.lessons;\n\t\tconst participantIds = this.state.group.participantIds;\n\t\tconst evaluations = this.state.group.evaluations;\n\t\tconst presence = this.state.group.presence;\n\t\tconst newParticipant = this.state.newParticipant;\n\n\t\tswitch (currentTab) {\n\t\t\tcase \"Inschrijvingen\":\n\t\t\t\tif (enrollmentIds == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\tif (enrollmentIds.length === 0) {\n\t\t\t\t\treturn \"Er zijn geen inschrijvingen\";\n\t\t\t\t}\n\t\t\t\treturn <UserList userIds={enrollmentIds} actions={\n\t\t\t\t\tthis.props.role === \"admin\" && this.state.editable ?\n\t\t\t\t\t\t[{ label: \"Goedkeuren\", onClick: this.acceptEnrollment }] : []\n\t\t\t\t} />;\n\t\t\tcase \"Lessen\":\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\tif (lessons.length === 0) {\n\t\t\t\t\treturn \"Er zijn nog geen lessen bekend\";\n\t\t\t\t}\n\t\t\t\treturn <table style={{ width: \"100%\" }}>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{map({ 0: { id: -1 }, ...lessons }, lesson => {\n\t\t\t\t\t\t\treturn <Lesson\n\t\t\t\t\t\t\t\tlesson={lesson}\n\t\t\t\t\t\t\t\tkey={lesson.id}\n\t\t\t\t\t\t\t\trole={this.props.role}\n\t\t\t\t\t\t\t\tuserIsMemberOfGroup={this.props.userIsMemberOfGroup}\n\t\t\t\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\t\t\t\thandleChange={this.handleLessonChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\tcase \"Deelnemers\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<div >\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.props.role === \"admin\" && this.state.editable &&\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography variant=\"button\" color=\"primary\" style={{ margin: \"18px 12px\" }}>\n\t\t\t\t\t\t\t\t\tNieuwe deelnemer:\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<div style={{ display: \"inline-flex\" }}>\n\t\t\t\t\t\t\t\t\t<SelectUser onChange={this.handleNewParticipantIdChange} value={newParticipant.userId} />\n\t\t\t\t\t\t\t\t\t<Field editable label=\"Rol\" value={newParticipant.participatingRole} options={[{ value: \"student\", label: \"Leerling\" }, { value: \"teacher\", label: \"Docent\" }]} onChange={this.handleNewParticipantRoleChange} />\n\t\t\t\t\t\t\t\t\t<Tooltip title={participantIds.includes(newParticipant.userId) || enrollmentIds.includes(newParticipant.userId) ? \"Deze gebruiker heeft zich al ingeschreven of is al een deelnemer\" : \"\"} placement={\"bottom-start\"} enterDelay={200}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={newParticipant.userId == null || participantIds.includes(newParticipant.userId) || enrollmentIds.includes(newParticipant.userId)}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\" style={{ marginTop: \"22px\" }} onClick={this.addNewParticipant}>\n\t\t\t\t\t\t\t\t\t\t\t\tVoeg toe\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparticipantIds.length === 0 ? \"Er zijn nog geen deelnemers toegevoegd\" :\n\t\t\t\t\t\t\t\t<UserList userIds={participantIds} />\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t\tcase \"Actief\":\n\t\t\t\tif (participantIds == null || lessons == null || presence == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\treturn <PresenceTable\n\t\t\t\t\tparticipantIds={participantIds}\n\t\t\t\t\tlessons={lessons}\n\t\t\t\t\tpresence={presence}\n\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\thandleChange={this.handlePresenceChange}\n\t\t\t\t/>\n\t\t\tcase \"Beoordeling\":\n\t\t\t\tif (participantIds == null || evaluations == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\treturn <EvaluationTab\n\t\t\t\t\tevaluations={evaluations}\n\t\t\t\t\tgroupId={group.id}\n\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\thandleChange={this.handleEvaluationChange}\n\t\t\t\t/>\n\t\t\tdefault: return null;\n\t\t}\n\n\t}\n\n\tacceptEnrollment = userId => {\n\t\tthis.props.addParticipant(userId, this.props.groupId, \"student\");\n\t}\n\n\taddNewParticipant = event => {\n\t\tconst newParticipant = this.state.newParticipant;\n\t\tthis.props.addParticipant(newParticipant.userId, this.props.groupId, newParticipant.participatingRole);\n\t\tthis.setState(prevState => ({\n\t\t\t...prevState,\n\t\t\tnewParticipant: {\n\t\t\t\tparticipatingRole: prevState.newParticipant.participatingRole,\n\t\t\t\tuserId: null,\n\t\t\t}\n\t\t}))\n\t}\n\n\thandleNewParticipantRoleChange = value => {\n\t\tthis.setState(prevState => ({\n\t\t\t...prevState,\n\t\t\tnewParticipant: {\n\t\t\t\tparticipatingRole: value,\n\t\t\t\tuserId: prevState.newParticipant.userId,\n\t\t\t},\n\t\t}))\n\t}\n\n\thandleNewParticipantIdChange = value => {\n\t\tthis.setState(prevState => ({\n\t\t\t...prevState,\n\t\t\tnewParticipant: {\n\t\t\t\tuserId: value,\n\t\t\t\tparticipatingRole: prevState.newParticipant.participatingRole,\n\t\t\t},\n\t\t}))\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getData();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.getData();\n\t}\n\n\tgetData() {\n\t\tlet group = this.state.group;\n\t\tconst enrollmentIds = this.state.group.enrollmentIds;\n\t\tconst lessons = this.state.group.lessons;\n\t\tconst participantIds = this.state.group.participantIds;\n\t\tconst evaluations = this.state.group.evaluations;\n\t\tconst presence = this.state.group.presence;\n\n\t\tswitch (this.state.currentTab) {\n\t\t\tcase \"Inschrijvingen\":\n\t\t\t\tif (enrollmentIds == null) {\n\t\t\t\t\tthis.props.getGroupEnrollments(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Lessen\":\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\tthis.props.getGroupLessons(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Deelnemers\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tif (enrollmentIds == null) {\n\t\t\t\t\tthis.props.getGroupEnrollments(group.id);//also get enrollments because we're checking if new userId is in enrollmenIds\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Actief\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\tthis.props.getGroupLessons(group.id);\n\t\t\t\t}\n\t\t\t\tif (presence == null) {\n\t\t\t\t\tthis.props.getGroupPresence(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Beoordeling\":\n\t\t\t\tif (evaluations == null) {\n\t\t\t\t\tthis.props.getGroupEvaluations(group.id);\n\t\t\t\t}\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault: break;\n\t\t}\n\t}\n\n\thandleChange = (name, value) => {\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\t[name]: value,\n\t\t\t}\n\t\t});\n\t}\n\n\thandleLessonChange = (lesson) => {\n\t\tlet lessons = this.state.group.lessons || this.props.group.lessons;\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tlessons: {\n\t\t\t\t\t...lessons,\n\t\t\t\t\t[lesson.id]: lesson,\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\thandleEvaluationChange = (newEvaluations) => {\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tevaluations: newEvaluations,\n\t\t\t}\n\t\t});\n\t}\n\n\thandlePresenceChange = (presenceObj) => {\n\t\tlet presence = this.state.group.presence || this.props.group.presence;\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tpresence: {\n\t\t\t\t\t...presence,\n\t\t\t\t\t[presenceObj.id]: presenceObj,\n\t\t\t\t},\n\t\t\t}\n\t\t});\n\t}\n\n\tsetEditable = () => {\n\t\tthis.setState({\n\t\t\teditable: true,\n\t\t});\n\t}\n\n\tcancel = () => {\n\t\tthis.setState({\n\t\t\teditable: false,\n\t\t\tgroup: this.props.group,\n\t\t});\n\t}\n\n\tsave = () => {\n\t\tthis.props.setGroup(this.state.group);\n\t\tthis.setState({\n\t\t\teditable: false,\n\t\t});\n\t}\n\n\thandleTab = (event, newTab) => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"tab=\" + this.state.tabs[newTab],\n\t\t});\n\t};\n\n\topenCertificate = () => {\n\t\tconst groupId = this.props.group.id;\n\t\tconst userId = this.props.userId;\n\t\tconst role = this.props.role;\n\n\t\t// in case of student show that students certificate. In case of other role show certificates of all students for that group\n\t\t// also check if in development mode because url is different in that case\n\t\tif (role === \"student\") {\n\t\t\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\t\t\twindow.open(\"http://localhost:26194/api/certificate/course/\" + userId + \"/\" + groupId, \"_blank\");\n\t\t\t} else {\n\t\t\t\twindow.open(\"/api/certificate/course/\" + userId + \"/\" + groupId, \"_blank\");\n\t\t\t}\n\t\t} else {\n\t\t\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\t\t\t//window.open(\"http://localhost:26194/api/certificate/course/\" + userId + \"/\"+ groupId ,\"_blank\");\n\t\t\t\t// IMPLEMENT ME\n\t\t\t} else {\n\t\t\t\t//window.open(\"/api/certificate/course\" + userId + \"/\" + groupId,\"_blank\");\n\t\t\t\t// IMPLEMENT ME\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tconst editable = this.state.editable;\n\t\tconst role = this.props.role;\n\t\tlet group = this.state.group;\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<GroupData {...this.props} editable={editable} group={group} onChange={this.handleChange} />\n\t\t\t\t<Divider />\n\t\t\t\t<div style={{ display: \"flex\" }}>\n\t\t\t\t\t{\n\t\t\t\t\t\trole === \"student\" &&\n\t\t\t\t\t\t<ChooseButton\n\t\t\t\t\t\t\tgroup={group}\n\t\t\t\t\t\t\tstyle={{ margin: \"20px\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\t((role === \"teacher\" || role === \"admin\") && !editable) &&\n\t\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.setEditable}>\n\t\t\t\t\t\t\t{\"Bewerken\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\teditable &&\n\t\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.save}>\n\t\t\t\t\t\t\t{\"Opslaan\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\teditable &&\n\t\t\t\t\t\t<Button color=\"default\" style={{ margin: \"20px\" }} onClick={this.cancel}>\n\t\t\t\t\t\t\t{\"Annuleren\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t<div style={{ flex: \"2\" }} />\n\t\t\t\t\t{\n\t\t\t\t\t\t(this.isCertificateWorthy(group))\n\t\t\t\t\t\t&&\n\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.openCertificate}>\n\t\t\t\t\t\t\t{role === \"student\" ? \"Certificaat\" : \"Certificaten\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<AppBar position=\"static\" color=\"default\">\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={this.state.tabs.indexOf(this.state.currentTab)}\n\t\t\t\t\t\tonChange={this.handleTab}\n\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\tvariant=\"fullWidth\"\n\t\t\t\t\t\tcentered\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.state.tabs.map(tab =>\n\t\t\t\t\t\t\t<Tab key={tab} label={\n\t\t\t\t\t\t\t\t<NotificationBadge scope={\"groep/\" + (group.id || \"\") + \"?tab=\" + tab} style={{ paddingLeft: \"100px\" }}>\n\t\t\t\t\t\t\t\t\t{tab}\n\t\t\t\t\t\t\t\t</NotificationBadge>\n\t\t\t\t\t\t\t} />)}\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n\t\t\t\t<br />\n\t\t\t\t<div style={{ width: \"98%\", margin: \"auto\" }}>\n\t\t\t\t\t{this.getCurrentTab(this.state.currentTab)}\n\t\t\t\t</div>\n\t\t\t\t<PageLeaveWarning giveWarning={this.state.editable} />\n\t\t\t</Page>\n\t\t);\n\t}\n\n}\n\n\n\nexport default withRouter(GroupPage);\n\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport GroupCard from \"./GroupCard\";\nimport GroupPage from \"./GroupPage\";\nimport {\n\tsetGroup,\n\tgetGroup,\n\tgetGroupEnrollments,\n\tgetGroupLessons,\n\tgetGroupParticipants,\n\tgetGroupEvaluations,\n\tgetGroupPresence,\n\tgetSubjects,\n\taddNotification,\n\taddParticipant,\n} from \"../../store/actions\";\nimport { withRouter } from 'react-router-dom';\nimport Progress from '../../components/Progress'\nimport Page from '../Page';\n\nclass Group extends Component {\n\n\tcomponentDidMount() {\n\t\tconst props = this.props;\n\t\tif (props.subjects == null) {\n\t\t\tprops.getSubjects();\n\t\t}\n\t\tif (props.group == null && !props.notExists) {\n\t\t\tprops.getGroup(props.groupId);\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.props.group == null) {\n\t\t\tif (this.props.display === \"page\" && this.props.notExists) {\n\t\t\t\treturn (\n\t\t\t\t\t<Page>\n\t\t\t\t\t\tDe opgevraagde groep bestaat niet\n\t\t\t\t\t</Page>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn this.props.notExists ? null : <Progress />;\n\t\t\t}\n\t\t}\n\t\tswitch (this.props.display) {\n\t\t\tcase \"page\":\n\t\t\t\treturn (\n\t\t\t\t\t<GroupPage {...this.props} />\n\t\t\t\t);\n\t\t\tcase \"card\":\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<GroupCard {...this.props} />\n\t\t\t\t);\n\t\t}\n\t}\n}\n\n\nfunction mapStateToProps(state, ownProps) {\n\tlet id = (ownProps.match.params.groupId || ownProps.groupId) + \"\";\n\tlet display = ownProps.display || \"page\";\n\n\tlet notExists = false;\n\tlet group = null;\n\n\tlet userIsMemberOfGroup = state.users[state.userId].participatingGroupIds.indexOf(id) !== -1;\n\tif (state.groups == null || state.groups[id] == null) {\n\t\tif (id == null || state.hasFetched.indexOf(\"Group.get(\" + id + \")\") !== -1) {\n\t\t\tnotExists = true;\n\t\t}\n\t} else {\n\t\tgroup = state.groups[id];\n\t}\n\treturn {\n\t\tgroup,\n\t\tnotExists,\n\t\tdisplay,\n\t\trole: state.role,\n\t\tgroupId: id,\n\t\tsubjects: state.subjects,\n\t\tuserId: state.userId,\n\t\tuserIsMemberOfGroup,\n\t\tschoolYear: state.schoolYear,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetGroup: (group) => dispatch(setGroup(group)),\n\t\tgetGroup: (groupId) => dispatch(getGroup(groupId)),\n\t\tgetGroupEnrollments: (groupId) => dispatch(getGroupEnrollments(groupId)),\n\t\tgetGroupLessons: (groupId) => dispatch(getGroupLessons(groupId)),\n\t\tgetGroupParticipants: (groupId) => dispatch(getGroupParticipants(groupId)),\n\t\tgetGroupEvaluations: (groupId) => dispatch(getGroupEvaluations(groupId)),\n\t\tgetGroupPresence: (groupId) => dispatch(getGroupPresence(groupId)),\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\taddParticipant: (userId, groupId, participatingRole) => dispatch(addParticipant(userId, groupId, participatingRole)),\n\t\taddNotification: (notification) => dispatch(addNotification(notification)),\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Group));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport filter from 'lodash/filter';\nimport map from 'lodash/map';\n\nimport Page from './Page';\nimport Progress from '../components/Progress';\nimport Field from '../components/Field';\nimport Group from './group/Group';\nimport { getSubjects, getGroups, getEnrolLments } from '../store/actions';\n\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport queryString from \"query-string\";\n\nclass CourseSelect extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tperiod: props.currentPeriod,\n\t\t\tleerjaar: \"2019/2020\",\n\t\t\tsubject: null,\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet { blok, vak, leerjaar } = queryString.parse(nextProps.location.search);\n\t\tif (!vak && nextProps.subjects != null) {\n\t\t\tvak = nextProps.subjects[Object.keys(nextProps.subjects)[0]].name;\n\t\t}\n\t\tif (!blok) {\n\t\t\tblok = nextProps.enrollmentPeriod + \"\";\n\t\t}\n\t\tif (!leerjaar) {\n\t\t\tleerjaar = \"2019/2020\";\n\t\t}\n\t\treturn {\n\t\t\t...prevState,\n\t\t\tperiod: blok,\n\t\t\tsubject: vak,\n\t\t\tschoolYear: leerjaar,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getSubjects();\n\t\tthis.props.getGroups();\n\t}\n\n\tgetGroupsPerSubject(subject) {\n\t\treturn filter(this.props.groups, (group) => {\n\t\t\treturn subject === group.subjectName;\n\t\t})\n\t}\n\n\thandleSortChange = subject => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `vak=${subject}&blok=${this.state.period}&leerjaar=${this.state.schoolYear}`,\n\t\t});\n\t};\n\n\thandlePeriodChange = period => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `vak=${this.state.subject}&blok=${period}&leerjaar=${this.state.schoolYear}`,\n\t\t});\n\t};\n\n\thandleYearChange = schoolYear => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `vak=${this.state.subject}&blok=${this.state.period}&leerjaar=${schoolYear}`,\n\t\t});\n\t};\n\n\tgetMenuItem(title, subject) {\n\t\tlet color = (this.state.subject === subject) ? \"primary\" : \"initial\";\n\t\treturn (\n\t\t\t<ListItem button onClick={() => this.handleSortChange(subject)} key={title}>\n\t\t\t\t<ListItemText>\n\t\t\t\t\t<Typography variant=\"button\" color={color} style={{ minWidth: \"150px\" }}>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t</ListItemText>\n\t\t\t</ListItem >\n\t\t)\n\t}\n\n\tgetMenuItems() {\n\t\tconst subjectsComponents = map(this.props.subjects, (subject) => {\n\t\t\treturn this.getMenuItem(subject.name, subject.name);\n\t\t});\n\t\tif (this.props.role === \"student\") {\n\t\t\tsubjectsComponents.unshift(this.getMenuItem(\"Ingeschreven\", \"enrolled\"));\n\t\t}\n\t\treturn subjectsComponents;\n\t}\n\n\trender() {\n\t\tlet data;\n\t\tif (this.state.subject === \"enrolled\") {\n\t\t\tif (this.props.enrolledGroupsIds == null) {\n\t\t\t\tdata = <Progress />;\n\t\t\t\tthis.props.getEnrolLments();\n\t\t\t} else {\n\t\t\t\tdata = this.props.enrolledGroupsIds.map((groupId) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\tkey={groupId}\n\t\t\t\t\t\t\tgroupId={groupId}\n\t\t\t\t\t\t\tdisplay=\"card\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tif (this.props.enrolledGroupsIds.length === 0) {\n\t\t\t\t\tdata = (\n\t\t\t\t\t\t<div style={{ margin: \"15px\" }} >\n\t\t\t\t\t\t\tJe hebt je nog niet ingeschreven.\n\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.props.subjects == null || this.props.groups == null || this.props.enrolledGroups === []) {\n\t\t\t\tdata = <Progress />\n\t\t\t}\n\t\t\tdata = this.getGroupsPerSubject(this.state.subject)\n\t\t\t\t.filter((group) => group != null)\n\t\t\t\t.filter((group) => {\n\t\t\t\t\tif (this.state.period !== \"all\") {\n\t\t\t\t\t\treturn group.period + \"\" === this.state.period;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.filter((group) => {\n\t\t\t\t\tif (this.state.schoolYear !== \"all\") {\n\t\t\t\t\t\treturn group.schoolYear + \"\" === this.state.schoolYear;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.sort((a, b) => a.period - b.period)\n\t\t\t\t.map((group) => {\n\t\t\t\t\treturn <Group\n\t\t\t\t\t\tkey={group.id}\n\t\t\t\t\t\tgroupId={group.id}\n\t\t\t\t\t\tdisplay=\"card\"\n\t\t\t\t\t/>\n\t\t\t\t});\n\t\t}\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Paper style={{ position: \"relative\" }} >\n\t\t\t\t\t<Toolbar style={{ display: \"flex\" }} >\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\tSchrijf je in voor modules\n          \t</Typography>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"blok\"\n\t\t\t\t\t\t\tvalue={this.state.period}\n\t\t\t\t\t\t\teditable\n\t\t\t\t\t\t\tstyle={{ flex: \"none\" }}\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 1\", value: \"1\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 2\", value: \"2\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 3\", value: \"3\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 4\", value: \"4\" }]}\n\t\t\t\t\t\t\tonChange={this.handlePeriodChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"leerjaar\"\n\t\t\t\t\t\t\tstyle={{ flex: \"none\" }}\n\t\t\t\t\t\t\tvalue={this.state.schoolYear}\n\t\t\t\t\t\t\teditable\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t\t{ label: \"2016/2017\", value: \"2016/2017\" },\n\t\t\t\t\t\t\t\t{ label: \"2017/2018\", value: \"2017/2018\" },\n\t\t\t\t\t\t\t\t{ label: \"2018/2019\", value: \"2018/2019\" },\n\t\t\t\t\t\t\t\t{ label: \"2019/2020\", value: \"2019/2020\" },\n\t\t\t\t\t\t\t\t{ label: \"2020/2021\", value: \"2020/2021\" },\n\t\t\t\t\t\t\t\t{ label: \"2021/2022\", value: \"2021/2022\" }]}\n\t\t\t\t\t\t\tonChange={this.handleYearChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</Paper>\n\t\t\t\t<div style={{ display: \"flex\" }} className=\"ColumnFlexDirectionOnMobile\">\n\t\t\t\t\t<Paper>\n\t\t\t\t\t\t<List component=\"nav\" style={{ flex: 1 }}>\n\t\t\t\t\t\t\t{this.getMenuItems()}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<div style={{ padding: \"12px\" }}>\n\t\t\t\t\t\t{data}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t</Page >\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\trole: state.role,\n\t\tenrollmentPeriod: state.enrollmentPeriod,\n\t\tenrollableGroups: state.enrollableGroups,\n\t\tgroups: state.groups,\n\t\tsubjects: state.subjects,\n\t\tenrolledGroupsIds: state.users[state.userId].enrollmentIds,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tgetGroups: () => dispatch(getGroups()),\n\t\tgetEnrolLments: () => dispatch(getEnrolLments()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CourseSelect);\n\n\n","import React, { Component } from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {\n\tPaper, Typography, Table, TableHead, TableCell,\n\tTableBody, TableRow, Tooltip, TableSortLabel, Toolbar, Button\n} from \"@material-ui/core\";\nimport queryString from \"query-string\";\nimport Excel from \"exceljs/dist/es5/exceljs.browser\";\n\nimport Page from \"./Page\";\nimport Progress from '../components/Progress';\nimport Field from '../components/Field';\nimport EnsureSecureLogin from \"../components/EnsureSecureLogin\";\nimport $ from \"jquery\";\n\nconst splitValues = {\n\tusers: \"role\",\n\tevaluations: \"groupId\",\n\tenrollments: \"period\",\n}\n\nclass DataPage extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttables: null,\n\t\t\ttableSortColumns: {},\n\t\t\ttableSortDirections: {},\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\t...{\n\t\t\t\tdata: values.data ? values.data : \"evaluations\",\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.fetchData(this.state.data)\n\t\t\t.then(tables => this.setState({ tables: this.splitTable(tables, splitValues[this.state.data]) }));\n\t}\n\n\thandleFilterChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"data=\" + value,\n\t\t});\n\t\tthis.fetchData(value)\n\t\t\t.then(tables => this.setState({ tables: this.splitTable(tables, splitValues[this.state.data]), tableSortColumns: Array(tables.length) }));\n\t}\n\n\tsort = (tableIndex) => {\n\t\tlet table = this.state.tables[tableIndex];\n\t\tconst column = this.state.tableSortColumns[tableIndex];\n\t\tconst order = this.state.tableSortDirections[tableIndex];\n\n\t\ttable = [table[0]].concat(table.slice(1, table.length).sort((a, b) => {\n\t\t\t//Only sort the slice 1-table.length because the header has to stick\n\t\t\ta = a[column];\n\t\t\tb = b[column];\n\t\t\tconst cmp = (b == null) - (a == null) || +(a > b) || -(a < b);\n\t\t\treturn order === \"asc\" ? cmp : -cmp;\n\t\t}));\n\n\t\tthis.setState(prevState => ({\n\t\t\ttables: [\n\t\t\t\t...prevState.tables.slice(0, tableIndex),\n\t\t\t\ttable,\n\t\t\t\t...prevState.tables.slice(tableIndex + 1),\n\t\t\t]\n\t\t}))\n\t}\n\n\thandleSortChange = (tableIndex, columnIndex) => {\n\t\tthis.setState(prevState => ({ //update the correct elements of the arrays of the state\n\t\t\ttableSortColumns: {\n\t\t\t\t...prevState.tableSortColumns,\n\t\t\t\t[tableIndex]: columnIndex,\n\t\t\t},\n\t\t\ttableSortDirections: {\n\t\t\t\t...prevState.tableSortDirections,\n\t\t\t\t[tableIndex]: prevState.tableSortDirections[tableIndex] === 'desc' && prevState.tableSortColumns[tableIndex] === columnIndex ? \"asc\" : \"desc\",// if this columns was selected and ordering desc, change to asc else desc\n\t\t\t}\n\t\t}), () => this.sort(tableIndex)); // when setting state is done start sorting\n\t}\n\n\tsplitTable = (table, splitValue) => {\n\t\tlet splitIndex = table[0].findIndex(x => x === splitValue);\n\t\tif (splitIndex < 0) {\n\t\t\treturn [table];\n\t\t}\n\t\tlet tables = [[table[0], table[1]]]; // initialize the tables with one table that has a header and a row\n\t\tfor (let i = 2; i < table.length; i++) {\n\t\t\tlet tableIndex = tables.findIndex(halfSplitTable => halfSplitTable[1][splitIndex] === table[i][splitIndex]); // see in what table this row has to go\n\t\t\tif (tableIndex < 0) {\n\t\t\t\ttables.push([table[0]]); // add a new table with a new header if a new value is found\n\t\t\t\ttableIndex = tables.length - 1;\n\t\t\t}\n\t\t\ttables[tableIndex].push(table[i]); // add row to correct table\n\t\t}\n\t\treturn tables;\n\t}\n\n\tfetchData = (table) => {\n\t\treturn $.ajax({\n\t\t\turl: \"api/function/data\",\n\t\t\ttype: \"post\",\n\t\t\tdata: {\n\t\t\t\ttable,\n\t\t\t\tsecureLogin: this.props.secureLogin,\n\t\t\t},\n\t\t\tdataType: \"json\",\n\t\t});\n\t}\n\n\tdownloadTables = () => {\n\t\tconst tables = this.state.tables;\n\t\tlet workbook = new Excel.Workbook();\n\t\tconst splitIndex = tables[0][0].findIndex(x => x === splitValues[this.state.data]);\n\t\tfor (let i = 0; i < tables.length; i++) { // add all the tables to a different sheet\n\t\t\tlet sheet = workbook.addWorksheet(tables[i][1][splitIndex]); // the sheet has the name of the value it's split on. I.e when splitting on courses every page is called what course it contains\n\t\t\tsheet.addRows(tables[i]);\n\t\t\tfor (let j = 1; j <= tables[i][0].length; j++) {\n\t\t\t\tsheet.getColumn(j).width = tables[i][0][j - 1].length < 10 ? 10 : tables[i][0][j - 1].length + 2;//set each column to at least fit the header\n\t\t\t}\n\t\t}\n\n\t\tconst filenamePrefixes = { users: \"Gebruikers \", enrollments: \"Inschrijvingen \", evaluations: \"Beoordelingen \" };\n\t\tlet filename = filenamePrefixes[this.state.data] + (new Date()).toLocaleDateString() + \".xlsx\";\n\t\tthis.downloadWorkbook(workbook, filename);//gives for example: \"Gebruikers 3/3/2019.xlsx\"\n\t}\n\n\tdownloadWorkbook = (workbook, fileName) => { //magic\n\t\tworkbook.xlsx.writeBuffer({\n\t\t\tbase64: true\n\t\t})\n\t\t\t.then(function (xls64) {\n\t\t\t\tvar a = document.createElement(\"a\");\n\t\t\t\tvar data = new Blob([xls64], { type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" });\n\t\t\t\tvar url = URL.createObjectURL(data);\n\t\t\t\ta.href = url;\n\t\t\t\ta.download = fileName;\n\t\t\t\tdocument.body.appendChild(a);\n\t\t\t\ta.click();\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tdocument.body.removeChild(a);\n\t\t\t\t\twindow.URL.revokeObjectURL(url);\n\t\t\t\t}, 0);\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.log(\"Something went wrong with downloading the excel file: \" + error.message);\n\t\t\t});\n\t}\n\n\tforceCellWidth = (cellName) => {\n\t\tswitch (cellName) {\n\t\t\tcase \"subject\":\n\t\t\t\treturn \"200px\";\n\t\t\tcase \"displayName\":\n\t\t\t\treturn \"200px\";\n\t\t\tcase \"courseName\":\n\t\t\t\treturn \"300px\";\n\t\t\tcase \"explanation\":\n\t\t\t\treturn \"200px\";\n\t\t\tdefault:\n\t\t\t\treturn \"auto\";\n\t\t}\n\t}\n\n\trender() {\n\t\tlet content;\n\t\tif (this.state.tables == null) {\n\t\t\tcontent = <Progress style={{marginTop:\"100px\"}}/>;\n\t\t} else {\n\t\t\tcontent = (this.state.tables).map((table, tableIndex) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Table key={tableIndex} style={tableIndex === 0 ? { marginTop: \"100px\" } : { marginTop: \"50px\" }}>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow key={0} style={{ height: \"auto\" }}>\n\t\t\t\t\t\t\t\t{table[0].map((title, columnIndex) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={columnIndex} style={{\n\t\t\t\t\t\t\t\t\t\t\tcolor: \"black\",\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"#e0e0e0\",\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\n\t\t\t\t\t\t\t\t\t\t\ttop: 0\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t\t\t\t\t\t\t\t<TableSortLabel active={this.state.tableSortColumns[tableIndex] === columnIndex}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdirection={this.state.tableSortDirections[tableIndex]}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={event => this.handleSortChange(tableIndex, columnIndex)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ zIndex: 0 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ width: this.forceCellWidth(title) }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttable.filter((_, index) => { return (index > 0); }) //take everything but the header\n\t\t\t\t\t\t\t\t\t.map((row, rowIndex) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={rowIndex + 1} style={{ height: \"auto\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{row.map((cell, columnIndex) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell key={columnIndex} >{cell}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</ TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t)\n\t\t\t})\n\t\t}\n\t\treturn (\n\t\t\t<Page >\n\t\t\t\t<EnsureSecureLogin>\n\t\t\t\t\t<Paper elevation={2} style={{ position: \"absolute\", width: \"80%\", zIndex: 1 }}>\n\t\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\t\tGegevens\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.downloadTables} style={{ margin: \"0 10px\" }}>\n\t\t\t\t\t\t\t\tDownload\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tlabel=\"Gegevens van\"\n\t\t\t\t\t\t\t\tvalue={this.state.data}\n\t\t\t\t\t\t\t\teditable\n\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t{ label: \"Beoordelingen\", value: \"evaluations\" },\n\t\t\t\t\t\t\t\t\t{ label: \"Gebruikers\", value: \"users\" },\n\t\t\t\t\t\t\t\t\t{ label: \"Inschrijvingen\", value: \"enrollments\" }]}\n\t\t\t\t\t\t\t\tonChange={this.handleFilterChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t{content}\n\t\t\t\t</EnsureSecureLogin>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsecureLogin: state.secureLogin,\n\t}\n}\n\nexport default withRouter(connect(mapStateToProps, null)(DataPage));","import React, { Component } from 'react';\nimport Page from './Page';\nimport Progress from '../components/Progress';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Field from '../components/Field';\nimport Paper from '@material-ui/core/Paper';\nimport $ from \"jquery\";\nimport queryString from \"query-string\";\n\nclass Taxi extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tschedules: null,\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\t...{\n\t\t\t\tweek: values.week ? values.week : \"0\",\n\t\t\t}\n\t\t};\n\t}\n\n\thandleFilterChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"week=\" + value,\n\t\t});\n\t\tthis.fetchSchedules(value);\n\t};\n\n\n\tcomponentDidMount() {\n\t\tthis.fetchSchedules(this.state.week);\n\t}\n\n\tfetchSchedules(week) {\n\t\treturn $.ajax({\n\t\t\turl: \"api/function/taxi\",\n\t\t\ttype: \"post\",\n\t\t\tdata: {\n\t\t\t\tweek,\n\t\t\t},\n\t\t\tdataType: \"json\",\n\t\t}).then(schedules => this.setState({\n\t\t\tschedules,\n\t\t}));\n\t}\n\n\trender() {\n\t\tlet content;\n\t\tif (this.state.schedules == null) {\n\t\t\tcontent = <Progress />\n\t\t} else {\n\t\t\tcontent = this.state.schedules.map((s, i) =>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ width: \"80%\", margin: \"auto\" }}\n\t\t\t\t\tclassName=\"taxiScheduleHolder\"\n\t\t\t\t\tkey={i}\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: s }}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Paper\n\t\t\t\t\televation={2}\n\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\tTaxischema\n          </Typography>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"week\"\n\t\t\t\t\t\t\tvalue={this.state.week}\n\t\t\t\t\t\t\teditable\n\t\t\t\t\t\t\toptions={[0, 1, 2, 3, 4, 5, 6, 7, 8].map(n => { return { label: n === 0 ? \"Basisrooster\" : \"Week \" + n, value: n + \"\" } })}\n\t\t\t\t\t\t\tonChange={this.handleFilterChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</Paper>\n\t\t\t\t{content}\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nexport default Taxi;\n\n\n","import React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { connect } from 'react-redux';\nimport { toggleMenu } from '../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport PersonIcon from '@material-ui/icons/Person';\nimport List from '@material-ui/core/List';\n\n\nclass Header extends Component {\n\n\tlogoClick = () => {\n\t\tthis.props.history.push(\"/\");\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<AppBar className=\"Header\">\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<IconButton color=\"inherit\" aria-label=\"Menu\" onClick={this.props.toggleMenu} style={{ position: \"absolute\" }} >\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc=\"/images/logo_qhighschool_white.svg\"\n\t\t\t\t\t\talt=\"QHighschool Logo\"\n\t\t\t\t\t\tstyle={{ height: \"60%\", margin: \"auto\", maxHeight: \"52px\", cursor: \"pointer\" }}\n\t\t\t\t\t\tonClick={this.logoClick}\n\t\t\t\t\t/>\n\t\t\t\t\t<List color=\"inherit\" style={{ right: 20, position: \"absolute\" }} onClick={this.handleClick}>\n\t\t\t\t\t\t<PersonIcon style={{ transform: \"scale(1.5)\", marginRight: \"10px\", float: \"left\" }} />\n\t\t\t\t\t\t<span className=\"HiddenOnMobile\">\n\t\t\t\t\t\t\t{this.props.displayName}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</List>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\tif (state.userId != null) {\n\t\treturn {\n\t\t\tdisplayName: state.users[state.userId].displayName,\n\t\t\tuserId: state.userId,\n\t\t};\n\t}\n\treturn {\n\t\tdisplayName: \"\",\n\t\tuserId: state.userId,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\ttoggleMenu: () => dispatch(toggleMenu()),\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));\n\n\n\n","import React, { Component } from 'react';\nimport { IconButton, Snackbar, SnackbarContent } from '@material-ui/core/';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router\";\n\nimport theme from '../lib/MuiTheme'\nimport { removeNotification } from '../store/actions';\n\nclass NotificationBar extends Component {\n\n\n\tremoveNotification = (key) => {\n\t\tthis.props.removeNotification(this.props.notifications[key]);\n\t}\n\n\trender() {\n\t\tlet notifications = this.props.notifications.map((not, key) => {\n\t\t\tlet color;\n\t\t\tswitch (not.priority) {\n\t\t\t\tcase \"high\":\n\t\t\t\t\tcolor = theme.palette.error.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"medium\":\n\t\t\t\t\tcolor = \"#ff8c00\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"low\":\n\t\t\t\tdefault:\n\t\t\t\t\tcolor = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<Snackbar\n\t\t\t\t\tkey={key}\n\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\thorizontal: \"right\"\n\t\t\t\t\t}}\n\t\t\t\t\topen={true}\n\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t\tTransitionProps={{ direction: \"left\" }}\n\t\t\t\t>\n\t\t\t\t\t<SnackbarContent\n\t\t\t\t\t\tstyle={{ background: color, marginBottom: \"4px\" }}\n\t\t\t\t\t\tmessage={<span id=\"message-id\">{not.message}</span>}\n\t\t\t\t\t\taction={not.sticky ? []: [\n\t\t\t\t\t\t\t<IconButton key=\"close\"\n\t\t\t\t\t\t\t\tonClick={() => { this.removeNotification(key) }} >\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t]} />\n\t\t\t\t</Snackbar>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div style={{ position: \"fixed\", bottom: 0, right: 0, width: \"auto\", zIndex: 10 }}>\n\t\t\t\t{notifications}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tlet notifications = state.notifications.filter((not) => {\n\t\ttry {\n\t\t\treturn not.type === \"bar\" && new RegExp(not.scope).test(ownProps.location.pathname);\n\t\t} catch (err) {\n\t\t\treturn true;\n\t\t}\n\t});\n\treturn {\n\t\tnotifications: notifications,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tremoveNotification: (notification) => dispatch(removeNotification(notification)),\n\t};\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(NotificationBar));","import React, { Component } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport AssessmentIcon from '@material-ui/icons/Assessment';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport GroupIcon from '@material-ui/icons/Group';\nimport PersonIcon from '@material-ui/icons/Person';\nimport ExitIcon from '@material-ui/icons/ExitToApp';\nimport LocalTaxiIcon from '@material-ui/icons/LocalTaxi';\nimport BuildIcon from '@material-ui/icons/Build';\nimport ViewColumnIcon from '@material-ui/icons/ViewColumn';\nimport NotificationBadge from './NotificationBadge';\n\nimport Paper from '@material-ui/core/Paper';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Typography from '@material-ui/core/Typography';\nimport theme from '../lib/MuiTheme';\nimport $ from \"jquery\";\n\nclass Menu extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t\tswitch (this.props.role) {\n\t\t\tcase \"student\":\n\t\t\t\tthis.state.pages = [\"aanbod\", \"portfolio\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tcase \"teacher\":\n\t\t\t\tthis.state.pages = [\"groepen\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tcase \"admin\":\n\t\t\t\tthis.state.pages = [\"groepen\", \"aanbod\", \"profiel\", \"gegevens\", \"taxi\", \"beheer\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tcase \"grade_admin\":\n\t\t\t\tthis.state.pages = [\"aanbod\", \"gegevens\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.state.pages = [\"aanbod\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tlogout() {\n\t\treturn $.ajax({\n\t\t\turl: \"/auth/logout\",\n\t\t\ttype: \"get\",\n\t\t\tdataType: \"json\",\n\t\t}).then(() => {\n\t\t\tdocument.location.reload();\n\t\t});\n\t}\n\n\tonClick(page) {\n\t\tif (page === \"loguit\") {\n\t\t\tthis.logout();\n\t\t} else {\n\t\t\tthis.props.history.push(\"/\" + page);\n\t\t}\n\t}\n\n\n\tgetIcon(iconName, color) {\n\t\tlet c = \"black\";\n\t\tif (theme.palette[color]) {\n\t\t\tc = theme.palette[color].main;\n\t\t}\n\t\tswitch (iconName) {\n\t\t\tcase \"Assignment\":\n\t\t\t\treturn <AssignmentIcon style={{ color: c }} />;\n\t\t\tcase \"Group\":\n\t\t\t\treturn <GroupIcon style={{ color: c }} />;\n\t\t\tcase \"Assessment\":\n\t\t\t\treturn <AssessmentIcon style={{ color: c }} />;\n\t\t\tcase \"Person\":\n\t\t\t\treturn <PersonIcon style={{ color: c }} />;\n\t\t\tcase \"ViewColumn\":\n\t\t\t\treturn <ViewColumnIcon style={{ color: c }} />;\n\t\t\tcase \"Exit\":\n\t\t\t\treturn <ExitIcon color=\"secondary\" />;\n\t\t\tcase \"Taxi\":\n\t\t\t\treturn <LocalTaxiIcon style={{ color: c }} />;\n\t\t\tcase \"Beheer\":\n\t\t\t\treturn <BuildIcon style={{ color: c }} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\tgetItem(page, index) {\n\t\tconst isCurrentPage = (((\"/\" + page.id) === this.props.location.pathname));\n\t\tlet style = {};\n\t\tif (page.bottom) {\n\t\t\tstyle.position = \"absolute\";\n\t\t\tstyle.bottom = \"0px\";\n\t\t}\n\n\t\tconst color = isCurrentPage ? \"primary\" : \"inherit\";\n\t\tconst icon = (\n\t\t\t<ListItemIcon >\n\t\t\t\t<NotificationBadge scope={page.id}>\n\t\t\t\t\t{this.getIcon(page.icon, color)}\n\t\t\t\t</NotificationBadge>\n\t\t\t</ListItemIcon>\n\t\t);\n\t\treturn (\n\t\t\t<ListItem key={index} button onClick={() => this.onClick(page.id)} style={style}>\n\t\t\t\t{icon}\n\t\t\t\t<Typography variant=\"button\" color={color} className=\"HiddenOnMobile\">\n\t\t\t\t\t{page.title}\n\t\t\t\t</Typography>\n\t\t\t</ListItem>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst pages = [\n\t\t\t{\n\t\t\t\tid: \"aanbod\",\n\t\t\t\ttitle: \"Aanbod\",\n\t\t\t\ticon: \"Assignment\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"groepen\",\n\t\t\t\ttitle: \"Mijn groepen\",\n\t\t\t\ticon: \"Group\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"portfolio\",\n\t\t\t\ttitle: \"Portfolio\",\n\t\t\t\ticon: \"Assessment\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"gegevens\",\n\t\t\t\ttitle: \"Gegevens\",\n\t\t\t\ticon: \"ViewColumn\", // table_chart is more appropriate\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"taxi\",\n\t\t\t\ttitle: \"Taxi\",\n\t\t\t\ticon: \"Taxi\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"beheer\",\n\t\t\t\ttitle: \"Beheer\",\n\t\t\t\ticon: \"Beheer\",\n\t\t\t},\n\t\t];\n\n\t\tconst profile = [\n\t\t\t{\n\t\t\t\tid: \"profiel\",\n\t\t\t\ttitle: \"Profiel\",\n\t\t\t\ticon: \"Person\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"loguit\",\n\t\t\t\ttitle: \"Log uit\",\n\t\t\t\ticon: \"Exit\",\n\t\t\t},\n\t\t];\n\n\t\tconst visiblePages = pages\n\t\t\t.filter(page => this.state.pages.indexOf(page.id) !== -1)\n\t\t\t.map(this.getItem.bind(this));\n\n\t\tconst visibleProfile = profile\n\t\t\t.filter(page => this.state.pages.indexOf(page.id) !== -1)\n\t\t\t.map(this.getItem.bind(this));\n\n\t\treturn (\n\t\t\t<Paper elevation={8} className=\"Menu\">\n\t\t\t\t<List component=\"nav\" style={{ height: \"100%\" }}>\n\t\t\t\t\t{visiblePages}\n\t\t\t\t\t<div style={{ position: \"absolute\", bottom: \"20px\", width: \"100%\" }}>\n\t\t\t\t\t\t{visibleProfile}\n\t\t\t\t\t</div>\n\t\t\t\t</List>\n\t\t\t</Paper >\n\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\tif (state.userId != null) {\n\t\treturn {\n\t\t\tdisplayName: state.users[state.userId].displayName,\n\t\t\tuserId: state.userId,\n\t\t\trole: state.role\n\t\t};\n\n\t}\n\treturn {\n\t\tdisplayName: \"\",\n\t\tuserId: state.userId,\n\t\trole: state.role\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, null)(Menu));\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport map from 'lodash/map';\nimport forEach from 'lodash/forEach';\n\nimport Page from './Page';\nimport Progress from '../components/Progress';\nimport Field from '../components/Field';\nimport Group from './group/Group';\nimport { getSubjects, getGroups, getEnrolLments, getParticipatingGroups } from '../store/actions';\n\nimport { Typography, Divider, Toolbar, Paper, Button } from '@material-ui/core';\nimport queryString from \"query-string\";\n\nclass Portfolio extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tperiod: props.currentPeriod + \"\",\n\t\t\tschoolYear: \"2019/2020\",\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet { blok, leerjaar } = queryString.parse(nextProps.location.search);\n\t\tif (!blok) {\n\t\t\tblok = nextProps.role === \"student\" ? \"all\" : nextProps.currentPeriod + \"\";\n\t\t}\n\t\tif (!leerjaar) {\n\t\t\tleerjaar = \"2019/2020\";\n\t\t}\n\t\treturn {\n\t\t\t...prevState,\n\t\t\tperiod: blok,\n\t\t\tschoolYear: leerjaar,\n\t\t}\n\t}\n\n\thandlePeriodChange = period => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `blok=${period}&leerjaar=${this.state.leerjaar}`,\n\t\t});\n\t}\n\n\thandleYearChange = schoolYear => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `blok=${this.state.period}&leerjaar=${schoolYear}`,\n\t\t});\n\t}\n\n\torderGroups(groups, compareFunction) {\n\t\tlet orders = {};\n\t\tforEach(groups, group => {\n\t\t\tif (!orders[compareFunction(group)]) {\n\t\t\t\torders[compareFunction(group)] = [];\n\t\t\t}\n\t\t\torders[compareFunction(group)].push(group);\n\t\t});\n\t\treturn map(orders, this.getOrder);\n\t}\n\n\tgetOrder(groups, name) {\n\t\tgroups = map(groups, group =>\n\t\t\t<Group key={group.id}\n\t\t\t\tgroupId={group.id}\n\t\t\t\tdisplay=\"card\" />\n\t\t);\n\n\t\treturn <div key={name} style={{ padding: \"10px\" }}>\n\t\t\t<Field value={name} style={{ type: \"headline\", color: \"secondary\" }} layout={{ area: true }} />\n\t\t\t{groups}\n\t\t\t<Divider style={{ marginTop: \"20px\" }} />\n\t\t</div>\n\t}\n\n\topenCertificate = () => {\n\t\tconst userId = this.props.userId;\n\n\t\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\t\twindow.open(\"http://localhost:26194/api/certificate/portfolio/\" + userId, \"_blank\");\n\t\t} else {\n\t\t\twindow.open(\"/api/certificate/portfolio/\" + userId, \"_blank\");\n\t\t}\n\t}\n\n\trender() {\n\t\tconsole.log(this.state);\n\t\tlet options = [{ label: \"Alle\", value: \"all\" }, { label: \"Blok 1\", value: \"period1\" }, { label: \"Blok 2\", value: \"period2\" }, { label: \"Blok 3\", value: \"period3\" }, { label: \"Blok 4\", value: \"period4\" }];\n\t\tif (this.props.role === \"student\") {\n\t\t\toptions.splice(1, 0, { label: \"Ingeschreven\", value: \"enrolled\" });\n\t\t}\n\n\t\tif (!this.props.groups) {\n\t\t\tthis.props.getParticipatingGroups();\n\t\t}\n\t\tif (!this.props.enrollmentIds) {\n\t\t\tthis.props.getEnrolLments();\n\t\t}\n\n\t\tlet groupIds = this.props.enrollmentIds || [];\n\t\tif (this.state.filter !== \"enrolled\") {\n\t\t\t/* If filter is not equal to enrolled, participating ids need to be added. \n\t\t\tFrom participating ids we first remove the ones that are already in enrolled ids. \n\t\t\tFinally, after adding participating ids, we filter on period */\n\t\t\tgroupIds = this.props.participatingGroupIds.filter(id => {\n\t\t\t\treturn (groupIds.indexOf(id) === -1);\n\t\t\t}).concat(groupIds);\n\t\t}\n\n\n\t\tlet content;\n\t\tif (this.props.groups == null || Object.keys(this.props.groups).length === 0) {\n\t\t\tcontent = <Progress />;\n\t\t} else {\n\t\t\tconst groups = groupIds.map(id => this.props.groups[id])\n\t\t\t\t.filter((group) => group != null)\n\t\t\t\t.filter((group) => {\n\t\t\t\t\tif (this.state.period !== \"all\") {\n\t\t\t\t\t\treturn group.period + \"\" === this.state.period;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}).filter((group) => {\n\t\t\t\t\tif (this.state.schoolYear !== \"all\") {\n\t\t\t\t\t\treturn group.schoolYear + \"\" === this.state.schoolYear;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tcontent = this.orderGroups(groups, (group) => {\n\t\t\t\treturn group.subjectName;\n\t\t\t});\n\t\t}\n\n\t\treturn <Page>\n\t\t\t<Paper\n\t\t\t\televation={2}\n\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t>\n\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t{this.props.role === \"student\" ? \"Portfolio\" : \"Mijn groepen\"}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.role === \"student\" &&\n\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.openCertificate}>\n\t\t\t\t\t\t\tCertificaat\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"blok\"\n\t\t\t\t\t\tvalue={this.state.period}\n\t\t\t\t\t\teditable\n\t\t\t\t\t\tstyle={{ flex: \"none\" }}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t{ label: \"Blok 1\", value: \"1\" },\n\t\t\t\t\t\t\t{ label: \"Blok 2\", value: \"2\" },\n\t\t\t\t\t\t\t{ label: \"Blok 3\", value: \"3\" },\n\t\t\t\t\t\t\t{ label: \"Blok 4\", value: \"4\" }]}\n\t\t\t\t\t\tonChange={this.handlePeriodChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"leerjaar\"\n\t\t\t\t\t\tstyle={{ flex: \"none\" }}\n\t\t\t\t\t\tvalue={this.state.schoolYear}\n\t\t\t\t\t\teditable\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t{ label: \"2016/2017\", value: \"2016/2017\" },\n\t\t\t\t\t\t\t{ label: \"2017/2018\", value: \"2017/2018\" },\n\t\t\t\t\t\t\t{ label: \"2018/2019\", value: \"2018/2019\" },\n\t\t\t\t\t\t\t{ label: \"2019/2020\", value: \"2019/2020\" },\n\t\t\t\t\t\t\t{ label: \"2020/2021\", value: \"2020/2021\" },\n\t\t\t\t\t\t\t{ label: \"2021/2022\", value: \"2021/2022\" }]}\n\t\t\t\t\t\tonChange={this.handleYearChange}\n\t\t\t\t\t/>\n\t\t\t\t</Toolbar>\n\t\t\t</Paper>\n\t\t\t{content}\n\t\t</Page>;\n\t}\n\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tgroups: state.groups,\n\t\tparticipatingGroupIds: state.users[state.userId].participatingGroupIds,\n\t\tenrollmentIds: state.users[state.userId].enrollmentIds,\n\t\trole: state.role,\n\t\tcurrentPeriod: state.currentPeriod,\n\t\tuserId: state.userId,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tgetGroups: () => dispatch(getGroups()),\n\t\tgetEnrolLments: () => dispatch(getEnrolLments()),\n\t\tgetParticipatingGroups: () => dispatch(getParticipatingGroups()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Portfolio);\n\n\n","import React, { Component } from 'react';\nimport EnsureSecureLogin from '../components/EnsureSecureLogin';\nimport Page from './Page';\nimport $ from \"jquery\";\nimport map from 'lodash/map';\n\nimport { connect } from 'react-redux';\nimport queryString from \"query-string\";\nimport SelectUser from '../components/SelectUser';\nimport { Toolbar, Button, Paper, Typography, List, ListItem, ListItemText, } from '@material-ui/core';\nimport Field from '../components/Field';\nimport { getSubjects, setAlias, addNotification, addSubject, addCourse, addGroup, relogSecure } from '../store/actions';\n\nconst pages = [\"alias\", \"vak\", \"module\", \"groep\"];\n\nclass ControlPanel extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcourses: [],\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\t...{\n\t\t\t\tpage: values.page ? values.page : pages[0],\n\t\t\t}\n\t\t}\n\t}\n\n\tmapPageToListItem = (pageName) => {\n\t\treturn <ListItem button onClick={() => this.handlePageChange(pageName)} key={pageName}>\n\t\t\t<ListItemText>\n\t\t\t\t<Typography variant=\"button\" color={pageName === this.state.page ? \"primary\" : \"initial\"} style={{ minWidth: \"150px\" }}>\n\t\t\t\t\t{pageName.charAt(0).toUpperCase() + pageName.slice(1)}\n\t\t\t\t</Typography>\n\t\t\t</ListItemText>\n\t\t</ListItem >\n\t}\n\n\tcomponentDidMount() {\n\t\t$.ajax({\n\t\t\turl: \"api/course/list\",\n\t\t\ttype: \"get\",\n\t\t\tdata: {},\n\t\t\tdataType: \"json\",\n\t\t}).then((courses) => {\n\t\t\tthis.setState({\n\t\t\t\tcourses\n\t\t\t});\n\t\t});\n\t\tthis.props.getSubjects();\n\t}\n\n\n\thandlePageChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"page=\" + value,\n\t\t});\n\t}\n\n\tgetContent = () => {\n\t\tswitch (this.state.page) {\n\t\t\tcase \"alias\":\n\t\t\t\treturn <Alias dispatch={this.props.dispatch} />\n\t\t\tcase \"vak\":\n\t\t\t\treturn <Subject addSubject={this.props.addSubject} />\n\t\t\tcase \"module\":\n\t\t\t\treturn <Course addCourse={this.props.addCourse} subjects={this.props.subjects} />\n\t\t\tcase \"groep\":\n\t\t\t\treturn <Group addGroup={this.props.addGroup} courses={this.state.courses} />\n\t\t\tdefault:\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<EnsureSecureLogin>\n\t\t\t\t\t<Paper\n\t\t\t\t\t\televation={2}\n\t\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\t\tBeheer\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<div style={{ display: \"flex\" }} className=\"ColumnFlexDirectionOnMobile\">\n\t\t\t\t\t\t<Paper elevation={2}>\n\t\t\t\t\t\t\t<List component=\"nav\" style={{ flex: 1 }}>\n\t\t\t\t\t\t\t\t{pages.map(this.mapPageToListItem)}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<div style={{ padding: \"12px\" }}>\n\t\t\t\t\t\t\t{this.getContent()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</EnsureSecureLogin>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nclass Alias extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\taliasId: null,\n\t\t}\n\t}\n\n\t;\n\n\trender() {\n\t\treturn <div style={{ margin: \"10px 0\" }}>\n\t\t\t<SelectUser onChange={(aliasId) => this.setState({ aliasId })} />\n\t\t\t<br />\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tdisabled={this.state.aliasId == null}\n\t\t\t\tonClick={() => this.props.dispatch(setAlias(this.state.aliasId))}>\n\t\t\t\tLogin in met alias\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\nclass Subject extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\tdescription: \"\",\n\t\t}\n\t}\n\trender() {\n\t\tconst subject = this.state;\n\t\treturn <div>\n\t\t\t<Field\n\t\t\t\tlabel=\"Naam\"\n\t\t\t\tvalue={subject.name}\n\t\t\t\tonChange={(name) => this.setState({ name })}\n\t\t\t\teditable={true}\n\t\t\t\tvalidate={{ maxLength: 50 }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<Field\n\t\t\t\tlabel=\"Omschrijving\"\n\t\t\t\tvalue={subject.description}\n\t\t\t\tonChange={(description) => this.setState({ description })}\n\t\t\t\teditable={true}\n\t\t\t\tvalidate={{ maxLength: 440 }}\n\t\t\t\tlayout={{ area: true }}\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstyle={{ height: \"37px\", margin: \"12px\" }}\n\t\t\t\tonClick={() => { this.props.addSubject(subject.name, subject.description).then(relogSecure) }}>\n\t\t\t\tVoeg toe\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\nclass Course extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\tsubjectId: \"\",\n\t\t}\n\t}\n\trender() {\n\t\tconst course = this.state;\n\t\treturn <div>\n\t\t\t<Field\n\t\t\t\tlabel=\"Naam\"\n\t\t\t\tvalue={course.name}\n\t\t\t\tonChange={(name) => this.setState({ name })}\n\t\t\t\teditable={true}\n\t\t\t\tvalidate={{ maxLength: 50 }}\n\t\t\t\tstyle={{ flex: \"1\" }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<Field\n\t\t\t\tvalue={course.subjectId}\n\t\t\t\tsubjectId label=\"Vak\"\n\t\t\t\tonChange={(subjectId) => this.setState({ subjectId })}\n\t\t\t\teditable={true}\n\t\t\t\toptions={map(this.props.subjects, (subject) => { return { value: subject.id, label: subject.name } })}\n\t\t\t\tstyle={{ minWidth: \"200px\" }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstyle={{ height: \"37px\", margin: \"12px\" }}\n\t\t\t\tonClick={() => { this.props.addCourse(course.name, course.subjectId).then(relogSecure) }}>\n\t\t\t\tVoeg toe\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\n\nclass Group extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcourseId: null,\n\t\t\tteacherId: null,\n\t\t}\n\t}\n\trender() {\n\t\tconst group = this.state;\n\t\treturn <div>\n\t\t\t<Field\n\t\t\t\tvalue={group.courseId}\n\t\t\t\tlabel=\"Module\"\n\t\t\t\tonChange={(courseId) => this.setState({ courseId })}\n\t\t\t\teditable={true}\n\t\t\t\toptions={this.props.courses.map((course) => { return { label: course.name, value: course.id } })}\n\t\t\t\tstyle={{ minWidth: \"200px\" }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<SelectUser\n\t\t\t\tvalue={group.teacherId}\n\t\t\t\tonChange={(teacherId) => this.setState({ teacherId })}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstyle={{ height: \"37px\", margin: \"12px\" }}\n\t\t\t\tonClick={() => { this.props.addGroup(group.courseId, group.teacherId).then(relogSecure) }}>\n\t\t\t\tVoeg toe\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsubjects: state.subjects,\n\t\tgroups: state.groups,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\taddSubject: async (name, description) => dispatch(addSubject(name, description)),\n\t\taddCourse: async (name, subjectId) => dispatch(addCourse(name, subjectId)),\n\t\taddGroup: async (courseId, userId) => dispatch(addGroup(courseId, userId)),\n\t\taddNotification: (notification) => dispatch(addNotification(notification)),\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tdispatch: dispatch,\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlPanel);","import React, { Component } from \"react\";\nimport {\n\tRoute,\n\tSwitch,\n\tRedirect,\n\twithRouter,\n} from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { getSelf, addNotification, isUserMissingInfo } from './store/actions';\n\nimport Login from \"./pages/Login\";\nimport CourseSelect from \"./pages/CourseSelect\";\nimport Group from \"./pages/group/Group\";\nimport User from \"./pages/user/User\";\nimport DataPage from \"./pages/DataPage\";\nimport Taxi from \"./pages/Taxi\";\n\nimport Header from \"./components/Header\";\nimport NotificationBar from \"./components/NotificationBar\";\nimport Menu from \"./components/Menu\";\nimport Portfolio from \"./pages/Portfolio\";\nimport ControlPanel from \"./pages/ControlPanel\";\n\n\nclass App extends Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.getSelf();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (isUserMissingInfo(this.props.user) && this.props.location.pathname !== \"/profiel\") {\n\t\t\tthis.props.history.push(\"/profiel\");\n\t\t}\n\t}\n\n\thandleShowMenu() {\n\t\tlet showMenu = this.state.showMenu;\n\t\tthis.setState({\n\t\t\tshowMenu: !showMenu,\n\t\t});\n\t}\n\n\tgetStartPage(role) {\n\t\tswitch (role) {\n\t\t\tcase \"student\":\n\t\t\t\treturn \"/aanbod\";\n\t\t\tcase \"grade_admin\":\n\t\t\t\treturn \"/gegevens\";\n\t\t\tdefault:\n\t\t\t\treturn \"/groepen\";\n\t\t}\n\t}\n\n\trender() {\n\t\tif (!this.props.role && this.props.location.pathname !== \"/login\") {\n\t\t\treturn <div />;\n\t\t}\n\t\tconst startPage = this.getStartPage(this.props.role);\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<NotificationBar />\n\t\t\t\t{this.props.showMenu && <Menu />}\n\t\t\t\t<Header />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/login\" component={Login} />\n\t\t\t\t\t<Route path=\"/aanbod\" component={CourseSelect} />\n\t\t\t\t\t<Route path=\"/groep/:groupId\" component={Group} />\n\t\t\t\t\t<Route path=\"/gebruiker/:userId\" component={User} />\n\t\t\t\t\t<Route path=\"/profiel/\" component={User} />\n\t\t\t\t\t<Route path=\"/portfolio/\" component={Portfolio} />\n\t\t\t\t\t<Route path=\"/groepen/\" component={Portfolio} />\n\t\t\t\t\t<Route path=\"/gegevens/\" component={DataPage} />\n\t\t\t\t\t<Route path=\"/taxi/\" component={Taxi} />\n\t\t\t\t\t<Route path=\"/beheer/\" component={ControlPanel} />\n\t\t\t\t\t<Redirect push to={startPage} />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tshowMenu: state.showMenu,\n\t\tuserId: state.userId,\n\t\trole: state.role,\n\t\tuser: state.userId ? state.users[state.userId] : null,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSelf: () => dispatch(getSelf()),\n\t\taddNotification: (notification) => dispatch(addNotification(notification)),\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n","import React, { Component } from \"react\";\n\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport theme from './MuiTheme';\nimport App from '../App';\n\nclass GlobalProvider extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Provider store={this.props.store}>\n\t\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t\t<BrowserRouter>\n\t\t\t\t\t\t<App />\n\t\t\t\t\t</BrowserRouter>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\nexport default GlobalProvider;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose as reduxCompose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport reducer from './store/mainReducer';\nimport GlobalProvider from './lib/GlobalProvider';\nimport \"./layout.css\";\nrequire('typeface-roboto');\n\nconst compose = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || reduxCompose;\nconst store = createStore(\n  reducer,\n  compose(\n    applyMiddleware(thunk),\n  ),\n);\n\nReactDOM.render(\n\t<GlobalProvider store={store} />,\n\tdocument.getElementById('root'));\n"],"sourceRoot":""}