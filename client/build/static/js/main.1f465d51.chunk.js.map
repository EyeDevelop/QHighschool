{"version":3,"sources":["store/usersReducer.js","store/groupsReducer.js","store/mainReducer.js","lib/MuiTheme.js","components/Field.js","store/actions.js","pages/Login.js","pages/Page.js","components/Progress.js","pages/group/EnrollmentPopup.js","pages/group/ChooseButton.js","components/EnsureSecureLogin.js","pages/group/Evaluation.js","pages/group/GroupCard.js","pages/user/UserRow.js","pages/user/UserPage.js","pages/user/UserCard.js","pages/user/User.js","pages/group/PresenceTable.js","pages/group/Lesson.js","pages/user/UserList.js","components/PageLeaveWarning.js","pages/group/GroupData.js","components/NotificationBadge.js","components/SelectUser.js","pages/group/GroupPage.js","pages/group/Group.js","pages/CourseSelect.js","pages/DataPage.js","pages/Taxi.js","components/Header.js","components/NotificationBar.js","components/Menu.js","pages/Portfolio.js","pages/ControlPanel.js","App.js","lib/GlobalProvider.js","index.js"],"names":["DEFAULT_USERS","usersReducer","users","action","type","newUsers","x","user","id","userId","enrollmentIds","concat","groupId","index","indexOf","slice","DEFAULT_GROUPS","groups","group","DEFAULT_STATE","enrollableGroups","currentPeriod","enrollmentPeriod","schoolYear","subjects","showMenu","notifications","hasFetched","mainReducer","state","role","secureLogin","notification","menuState","call","method","data","lessons","lessonId","userStatus","groupsReducer","theme","createMuiTheme","Field","props","onChange","event","target","value","error","menuItems","endAdornment","this","style","layout","label","disabled","multiline","fullWidth","options","disableUnderline","underline","margin","marginPx","classNames","typography","headline","color","palette","primary","main","title","text","secondary","contrastText","alignment","float","textAlign","push","area","default","editable","labelVisible","a","filter","opt","map","option","MenuItem","key","unit","InputAdornment","position","field","TextField","className","join","select","flex","InputProps","inputProps","td","nextProps","prevState","validate","rules","re","test","re2","isNaN","replace","min","parseFloat","max","notEmpty","maxLength","length","React","Component","apiErrorHandler","endpoint","dispatch","responseJSON","Math","random","priority","message","scope","fetchData","getState","forceArray","f","i","o","Promise","reject","Error","$","ajax","url","dataType","then","list","Array","isArray","keyBy","catch","getSubjects","getGroups","isUserMissingInfo","year","level","profile","preferedEmail","phoneNumber","getSelf","addNotification","missing","addMissingInfoNotifications","window","navigator","userAgent","sticky","testIE","removeNotification","location","pathname","setCookie","search","document","href","toggleMenu","getEnrolLments","enrollments","Object","keys","addSubject","name","description","addCourse","subjectId","addGroup","courseId","mainTeacherId","cname","cvalue","exhours","d","Date","setTime","getTime","expires","toUTCString","cookie","relogSecure","Login","generateEmail","bind","interval","setInterval","school","schoolShort","studentNumber","floor","setState","clearInterval","Typography","variant","fontFamily","overflow","light","fontWeight","dark","history","Paper","elevation","minHeight","padding","gutterBottom","generateColoredEmail","Button","size","onClick","login","withRouter","connect","email","password","Page","children","Progress","isShowing","timeout","setTimeout","clearTimeout","CircularProgress","EnrollmentPopup","Dialog","open","keepMounted","DialogContent","DialogContentText","fontSize","day","display","chosenDayGroupName","DialogActions","DialogTitle","courseName","handlePopup","remarks","preventPopupClose","page","getRemarkPage","getCancelPage","getDuplicatePage","getConfirmPage","hasChosen","hasChosenDay","ChooseButton","getEnrollableGroups","dialogOpen","preventClose","doEnroll","toggleEnrollment","dialog","loading","canChoose","period","ownProps","forEach","e","EnsureSecureLogin","active","marginTop","EVALUATION_FORMATS","getEvaluationColor","ev","assesment","Evaluation","evaluation","student","EvaluationTab","onSortChange","sortValue","sortDirection","handleSingleChange","newEv","newEvaluations","evaluations","handleChange","sortEvaluations","sort","b","cmp","displayName","newValue","alignItems","paddingRight","paddingLeft","evComps","component","explanation","width","backgroundColor","Tooltip","enterDelay","placement","TableSortLabel","direction","handleEvaluationTypeChange","GroupCard","hover","expand","onMouseEnter","onMouseLeave","Badge","invisible","badgeContent","maxHeight","cursor","subjectName","height","textTransform","enrollableFor","courseDescription","getBottomSection","number","numberWithoutCharacters","substr","match","exec","justifyContent","firstName","lastName","formatPhoneNumber","profiles","levels","UserPage","JSON","stringify","shouldFillIn","ownProfile","Divider","hasChanged","save","setUser","CARD_STYLE","verticalAlign","User","notExists","UserRow","actions","marginRight","UserCard","s","queryString","parse","setSecureLogin","from","beforeLoginPath","ca","decodeURIComponent","split","c","charAt","substring","getCookie","params","PresenceTable","createRow","participantId","content","lesson","p","presence","createPresenceComponent","status","createLessonHeader","numberInBlock","undefined","rows","participantIds","partId","unshift","Lesson","marginBottom","mini","setPresenceUserStatus","courseGroupId","flexDirection","kind","subject","activities","getWeekdayString","date","getDay","getDate","getMonth","getFullYear","userIsMemberOfGroup","getOptOutButton","UserList","getHeader","headerTitle","sortIds","userIds","toLowerCase","toString","header","PageLeaveWarning","giveWarning","onbeforeunload","returnValue","when","GroupData","handleClickAway","anchorEl","showTeacherCard","currentTarget","top","right","zIndex","teacherName","studyTime","Popover","onClose","anchorOrigin","horizontal","vertical","teacherId","colorPrimary","colorSecondary","colorError","NotificationBadge","classes","tooltipMessage","j","withStyles","not","RegExp","err","SelectUser","selectUser","input","getFittingUsers","regExp","count","v","handleInput","getAllUsers","ClickAwayListener","onClickAway","Popper","aliasId","disablePortal","MenuList","GroupPage","acceptEnrollment","addParticipant","addNewParticipant","newParticipant","participatingRole","handleNewParticipantRoleChange","handleNewParticipantIdChange","handleLessonChange","handleEvaluationChange","handlePresenceChange","presenceObj","setEditable","cancel","setGroup","handleTab","newTab","tabs","openCertificate","currentTab","0","includes","getData","getGroupEnrollments","getGroupLessons","getGroupParticipants","getGroupPresence","getGroupEvaluations","isCertificateWorthy","AppBar","Tabs","indicatorColor","textColor","centered","tab","Tab","getCurrentTab","values","Group","getGroup","participatingGroupIds","getCourse","getCourseGroup","oldCourse","newCourse","oldCourseGroup","newCourseGroup","oldLessons","newLessons","oldPresence","newPresence","oldEvaluations","changedPresenceObjs","changedEvaluations","parseInt","participants","CourseSelect","handleSortChange","handlePeriodChange","handleYearChange","leerjaar","ListItem","button","ListItemText","minWidth","subjectsComponents","getMenuItem","enrolledGroupsIds","enrolledGroups","getGroupsPerSubject","Toolbar","List","getMenuItems","blok","vak","splitValues","DataPage","componentDidMount","tables","splitTable","handleFilterChange","tableSortColumns","tableIndex","table","column","order","tableSortDirections","columnIndex","splitValue","splitIndex","findIndex","halfSplitTable","downloadTables","workbook","Excel","Workbook","sheet","addWorksheet","addRows","getColumn","filename","toLocaleDateString","downloadWorkbook","fileName","xlsx","writeBuffer","base64","xls64","createElement","Blob","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","console","log","forceCellWidth","cellName","Table","TableHead","TableRow","TableCell","TableBody","_","row","rowIndex","cell","Taxi","fetchSchedules","schedules","week","dangerouslySetInnerHTML","__html","n","Header","logoClick","IconButton","aria-label","src","alt","handleClick","transform","NotificationBar","Snackbar","TransitionProps","SnackbarContent","background","bottom","Menu","pages","reload","logout","iconName","isCurrentPage","icon","ListItemIcon","getIcon","visiblePages","getItem","visibleProfile","Portfolio","compareFunction","orders","getOrder","splice","getParticipatingGroups","groupIds","orderGroups","ControlPanel","mapPageToListItem","pageName","handlePageChange","toUpperCase","getContent","courses","Alias","Subject","Course","course","App","startPage","getStartPage","path","to","GlobalProvider","store","MuiThemeProvider","require","compose","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","reduxCompose","createStore","reducer","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1f465d51.chunk.js","sourcesContent":["const DEFAULT_USERS = {\n}\n\nfunction usersReducer(users = DEFAULT_USERS, action) {\n\tswitch (action.type) {\n\t\tcase \"CHANGE_USERS\":\n\t\t\tconst newUsers = users;\n\t\t\tfor (const x in action.users) {\n\t\t\t\tnewUsers[x] = { ...newUsers[x], ...action.users[x] }\n\t\t\t}\n\t\t\treturn newUsers;\n\t\tcase \"CHANGE_USER\":\n\t\t\treturn {\n\t\t\t\t...users,\n\t\t\t\t[action.user.id]: {\n\t\t\t\t\t...users[action.user.id],\n\t\t\t\t\t...action.user\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"CHANGE_ENROLLMENTS\":\n\t\t\tif (action.action === \"ADD\") {\n\t\t\t\treturn {\n\t\t\t\t\t...users,\n\t\t\t\t\t[action.userId]: {\n\t\t\t\t\t\t...users[action.userId],\n\t\t\t\t\t\tenrollmentIds: (users[action.userId].enrollmentIds || []).concat(action.groupId)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (action.action === \"REMOVE\") {\n\t\t\t\tconst index = users[action.userId].enrollmentIds.indexOf(action.groupId);\n\t\t\t\treturn {\n\t\t\t\t\t...users,\n\t\t\t\t\t[action.userId]: {\n\t\t\t\t\t\t...users[action.userId],\n\t\t\t\t\t\tenrollmentIds: [\n\t\t\t\t\t\t\t...users[action.userId].enrollmentIds.slice(0, index),\n\t\t\t\t\t\t\t...users[action.userId].enrollmentIds.slice(index + 1),\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...users,\n\t\t\t\t[action.userId]: {\n\t\t\t\t\t...users[action.userId],\n\t\t\t\t\tenrollmentIds: action.enrollmentIds,\n\t\t\t\t}\n\t\t\t}\n\t\tdefault:\n\t\t\treturn users;\n\t}\n}\n\n\nexport default usersReducer;","const DEFAULT_GROUPS = {\n}\n\nfunction usersReducer(groups = DEFAULT_GROUPS, action) {\n\tswitch (action.type) {\n\t\tcase \"CHANGE_GROUPS\":\n\t\t\treturn { ...action.groups,...groups, };\n\t\tcase \"CHANGE_GROUP\":\n\t\t\treturn {\n\t\t\t\t\t...groups,\n\t\t\t\t\t[action.group.id]: {\n\t\t\t\t\t\t...groups[action.group.id], \n\t\t\t\t\t\t...action.group\n\t\t\t\t\t}\n\t\t\t};\n\t\tdefault:\n\t\t\treturn groups;\n\t}\n}\n\n\nexport default usersReducer;","import usersReducer from \"./usersReducer\";\nimport groupsReducer from \"./groupsReducer\";\n\nconst DEFAULT_STATE = {\n\tuserId: null,\n\tenrollableGroups: null,\n\tcurrentPeriod: 1,\n\tenrollmentPeriod: 1,\n\tschoolYear: \"2019/2020\",\n\tsubjects: null,\n\tgroups: null,\n\tusers: null,\n\tshowMenu: true,\n\tnotifications: [],\n\thasFetched: [],\n}\n\nfunction mainReducer(state = DEFAULT_STATE, action) {\n\tswitch (action.type) {\n\t\tcase \"SET_SELF\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserId: action.user.id,\n\t\t\t\trole: action.user.role,\n\t\t\t\tnotifications: [...state.notifications, ...action.user.notifications],\n\t\t\t\tusers: {\n\t\t\t\t\t[action.user.id]: action.user,\n\t\t\t\t\t...state.users,\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"SET_SECURE_LOGIN\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsecureLogin: action.secureLogin,\n\t\t\t}\n\t\tcase \"ADD_NOTIFICATION\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnotifications: [...state.notifications, action.notification],\n\t\t\t};\n\t\tcase \"REMOVE_NOTIFICATION\":\n\t\t\tconst index = state.notifications.indexOf(action.notification);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnotifications: [\n\t\t\t\t\t...state.notifications.slice(0, index),\n\t\t\t\t\t...state.notifications.slice(index + 1)\n\t\t\t\t],\n\t\t\t};\n\t\tcase \"TOGGLE_MENU\":\n\t\t\tif (action.menuState != null) {\n\t\t\t\treturn { ...state, showMenu: action.menuState };\n\t\t\t} else {\n\t\t\t\treturn { ...state, showMenu: !state.showMenu };\n\t\t\t}\n\t\tcase \"HAS_FETCHED\":\n\t\t\treturn { ...state, hasFetched: [...state.hasFetched, { call: action.call, method: action.method, data: action.data }] };\n\t\tcase \"CHANGE_ENROLLABLE_GROUPS\":\n\t\t\treturn { ...state, enrollableGroups: action.enrollableGroups };\n\t\tcase \"CHANGE_SUBJECTS\":\n\t\t\treturn { ...state, subjects: { ...state.subjects, ...action.subjects } };\n\t\tcase \"CHANGE_PRESENCE_USER_STATUS\":\n\t\t\tlet lessons = state.groups[action.groupId].lessons;\n\t\t\tlessons[action.lessonId].userStatus = action.userStatus;\n\t\t\treturn { ...state, lessons }\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: usersReducer(state.users, action),\n\t\t\t\tgroups: groupsReducer(state.groups, action),\n\t\t\t}\n\t}\n}\n\n\nexport default mainReducer;","import { createMuiTheme } from '@material-ui/core/styles';\n\n// const theme = createMuiTheme({\n// \tpalette: {\n// \t\tprimary: {\n// \t\t\t// light: '#5472d3',\n// \t\t\tmain: '#0d47a1',\n// \t\t\t// dark: '#002171',\n// \t\t\tcontrastText: '#fff',\n// \t\t},\n// \t\tsecondary: {\n// \t\t\t// light: '#60ad5e',\n// \t\t\tmain: '#2e7d32',\n// \t\t\t// dark: '#005005',\n// \t\t\tcontrastText: '#ffffff',\n// \t\t},\n// \t},\n// });\n\nconst theme = createMuiTheme({\n\t\"breakpoints\": {\n\t\t\"keys\": [\n\t\t\t\"xs\",\n\t\t\t\"sm\",\n\t\t\t\"md\",\n\t\t\t\"lg\",\n\t\t\t\"xl\"\n\t\t],\n\t\t\"values\": {\n\t\t\t\"xs\": 0,\n\t\t\t\"sm\": 600,\n\t\t\t\"md\": 960,\n\t\t\t\"lg\": 1280,\n\t\t\t\"xl\": 1920\n\t\t}\n\t},\n\t\"direction\": \"ltr\",\n\t\"mixins\": {\n\t\t\"toolbar\": {\n\t\t\t\"minHeight\": 56,\n\t\t\t\"@media (min-width:0px) and (orientation: landscape)\": {\n\t\t\t\t\"minHeight\": 48\n\t\t\t},\n\t\t\t\"@media (min-width:600px)\": {\n\t\t\t\t\"minHeight\": 64\n\t\t\t}\n\t\t}\n\t},\n\t\"overrides\": {},\n\t\"palette\": {\n\t\t\"common\": {\n\t\t\t\"black\": \"#000\",\n\t\t\t\"white\": \"#fff\"\n\t\t},\n\t\t\"type\": \"light\",\n\t\t\"primary\": {\n\t\t\t\"main\": \"#08C8F9\",\n\t\t\t\"contrastText\": \"#fff\",\n\t\t\t\"light\": \"rgb(57, 211, 250)\",\n\t\t\t\"dark\": \"rgb(5, 140, 174)\"\n\t\t},\n\t\t// \"secondary\": {\n\t\t// \t\"main\": \"#C3386B\",\n\t\t// \t\"contrastText\": \"#ffffff\",\n\t\t// \t\"light\": \"rgb(207, 95, 136)\",\n\t\t// \t\"dark\": \"rgb(136, 39, 74)\"\n\t\t// },\n\t\t\"secondary\": {\n\t\t\t\"main\": \"#c4112f\",\n\t\t\t\"contrastText\": \"#fff\",\n\t\t\t\"light\": \"#cf4058\",\n\t\t\t\"dark\": \"#890b20\"\n\t\t},\n\t\t\"error\": {\n\t\t\t\"light\": \"#f89e4c\",\n\t\t\t\"main\": \"#f78620\",\n\t\t\t\"dark\": \"#ac5d16\",\n\t\t\t\"contrastText\": \"#fff\"\n\t\t},\n\t\t\"grey\": {\n\t\t\t\"50\": \"#fafafa\",\n\t\t\t\"100\": \"#f5f5f5\",\n\t\t\t\"200\": \"#eeeeee\",\n\t\t\t\"300\": \"#e0e0e0\",\n\t\t\t\"400\": \"#bdbdbd\",\n\t\t\t\"500\": \"#9e9e9e\",\n\t\t\t\"600\": \"#757575\",\n\t\t\t\"700\": \"#616161\",\n\t\t\t\"800\": \"#424242\",\n\t\t\t\"900\": \"#212121\",\n\t\t\t\"A100\": \"#d5d5d5\",\n\t\t\t\"A200\": \"#aaaaaa\",\n\t\t\t\"A400\": \"#303030\",\n\t\t\t\"A700\": \"#616161\"\n\t\t},\n\t\t\"contrastThreshold\": 3,\n\t\t\"tonalOffset\": 0.2,\n\t\t\"text\": {\n\t\t\t\"primary\": \"rgba(0, 0, 0, 0.87)\",\n\t\t\t\"secondary\": \"rgba(0, 0, 0, 0.54)\",\n\t\t\t\"disabled\": \"rgba(0, 0, 0, 0.38)\",\n\t\t\t\"hint\": \"rgba(0, 0, 0, 0.38)\"\n\t\t},\n\t\t\"divider\": \"rgba(0, 0, 0, 0.12)\",\n\t\t\"background\": {\n\t\t\t\"paper\": \"#fff\",\n\t\t\t\"default\": \"#fafafa\"\n\t\t},\n\t\t\"action\": {\n\t\t\t\"active\": \"rgba(0, 0, 0, 0.54)\",\n\t\t\t\"hover\": \"rgba(0, 0, 0, 0.08)\",\n\t\t\t\"hoverOpacity\": 0.08,\n\t\t\t\"selected\": \"rgba(0, 0, 0, 0.14)\",\n\t\t\t\"disabled\": \"rgba(0, 0, 0, 0.26)\",\n\t\t\t\"disabledBackground\": \"rgba(0, 0, 0, 0.12)\"\n\t\t}\n\t},\n\t\"props\": {},\n\t\"shadows\": [\n\t\t\"none\",\n\t\t\"0px 1px 3px 0px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 2px 1px -1px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 1px 5px 0px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 3px 1px -2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 1px 8px 0px rgba(0, 0, 0, 0.2),0px 3px 4px 0px rgba(0, 0, 0, 0.14),0px 3px 3px -2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 5px 8px 0px rgba(0, 0, 0, 0.14),0px 1px 14px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 5px 6px -3px rgba(0, 0, 0, 0.2),0px 9px 12px 1px rgba(0, 0, 0, 0.14),0px 3px 16px 2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 6px 6px -3px rgba(0, 0, 0, 0.2),0px 10px 14px 1px rgba(0, 0, 0, 0.14),0px 4px 18px 3px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 6px 7px -4px rgba(0, 0, 0, 0.2),0px 11px 15px 1px rgba(0, 0, 0, 0.14),0px 4px 20px 3px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 13px 19px 2px rgba(0, 0, 0, 0.14),0px 5px 24px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 9px -4px rgba(0, 0, 0, 0.2),0px 14px 21px 2px rgba(0, 0, 0, 0.14),0px 5px 26px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 9px -5px rgba(0, 0, 0, 0.2),0px 15px 22px 2px rgba(0, 0, 0, 0.14),0px 6px 28px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 11px -5px rgba(0, 0, 0, 0.2),0px 17px 26px 2px rgba(0, 0, 0, 0.14),0px 6px 32px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 9px 11px -5px rgba(0, 0, 0, 0.2),0px 18px 28px 2px rgba(0, 0, 0, 0.14),0px 7px 34px 6px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 9px 12px -6px rgba(0, 0, 0, 0.2),0px 19px 29px 2px rgba(0, 0, 0, 0.14),0px 7px 36px 6px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 20px 31px 3px rgba(0, 0, 0, 0.14),0px 8px 38px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 21px 33px 3px rgba(0, 0, 0, 0.14),0px 8px 40px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 14px -6px rgba(0, 0, 0, 0.2),0px 22px 35px 3px rgba(0, 0, 0, 0.14),0px 8px 42px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 11px 14px -7px rgba(0, 0, 0, 0.2),0px 23px 36px 3px rgba(0, 0, 0, 0.14),0px 9px 44px 8px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0, 0, 0, 0.12)\"\n\t],\n\t\"typography\": {\n\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\"fontSize\": 14,\n\t\t\"fontWeightLight\": 300,\n\t\t\"fontWeightRegular\": 400,\n\t\t\"fontWeightMedium\": 500,\n\t\t\"display4\": {\n\t\t\t\"fontSize\": \"7rem\",\n\t\t\t\"fontWeight\": 300,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"letterSpacing\": \"-.04em\",\n\t\t\t\"lineHeight\": \"1.14286em\",\n\t\t\t\"marginLeft\": \"-.04em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display3\": {\n\t\t\t\"fontSize\": \"3.5rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"letterSpacing\": \"-.02em\",\n\t\t\t\"lineHeight\": \"1.30357em\",\n\t\t\t\"marginLeft\": \"-.02em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display2\": {\n\t\t\t\"fontSize\": \"2.8125rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.06667em\",\n\t\t\t\"marginLeft\": \"-.02em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display1\": {\n\t\t\t\"fontSize\": \"2.125rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.20588em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"headline\": {\n\t\t\t\"fontSize\": \"1.5rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.35417em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"title\": {\n\t\t\t\"fontSize\": \"1.3125rem\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.16667em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"subheading\": {\n\t\t\t\"fontSize\": \"1rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.5em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"body2\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.71429em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"body1\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.46429em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"caption\": {\n\t\t\t\"fontSize\": \"0.75rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.375em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"button\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"textTransform\": \"uppercase\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t}\n\t},\n\t\"transitions\": {\n\t\t\"easing\": {\n\t\t\t\"easeInOut\": \"cubic-bezier(0.4, 0, 0.2, 1)\",\n\t\t\t\"easeOut\": \"cubic-bezier(0.0, 0, 0.2, 1)\",\n\t\t\t\"easeIn\": \"cubic-bezier(0.4, 0, 1, 1)\",\n\t\t\t\"sharp\": \"cubic-bezier(0.4, 0, 0.6, 1)\"\n\t\t},\n\t\t\"duration\": {\n\t\t\t\"shortest\": 150,\n\t\t\t\"shorter\": 200,\n\t\t\t\"short\": 250,\n\t\t\t\"standard\": 300,\n\t\t\t\"complex\": 375,\n\t\t\t\"enteringScreen\": 225,\n\t\t\t\"leavingScreen\": 195\n\t\t}\n\t},\n\t\"spacing\": 8,\n\t\"zIndex\": {\n\t\t\"mobileStepper\": 1000,\n\t\t\"appBar\": 1100,\n\t\t\"drawer\": 1200,\n\t\t\"modal\": 1300,\n\t\t\"snackbar\": 1400,\n\t\t\"tooltip\": 1500\n\t}\n});\n\nexport default theme;","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport theme from '../lib/MuiTheme'\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport PropTypes from 'prop-types';\n\nclass Field extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\terror: false,\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\treturn {\n\t\t\t...prevState,\n\t\t\terror: nextProps.editable ? !Field.validate(nextProps.value, nextProps.validate) : false,\n\t\t}\n\t}\n\n\tstatic validate(value, rules = {}, options = [value]) {\n\t\tswitch (rules.type) {\n\t\t\tcase \"phoneNumber\":\n\t\t\t\tconst re = /(^\\+[0-9]{2}|^\\+[0-9]{2}\\(0\\)|^\\(\\+[0-9]{2}\\)\\(0\\)|^00[0-9]{2}|^0)([0-9]{9}$|[0-9\\-\\s]{10}$)/i;\n\t\t\t\tif (!re.test(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"email\":\n\t\t\t\tconst re2 = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/g;\n\t\t\t\tif (!re2.test(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"integer\":\n\t\t\t\tif (!/^\\+?[1-9][\\d]*$/i.test(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"float\":\n\t\t\t\tif (isNaN(value)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"decimalGrade\":\n\t\t\t\t//replace dot with comma and vice versa\n\t\t\t\tconst x = value.replace(/\\./g, \"_$comma$_\").replace(/,/g, \".\").replace(/_\\$comma\\$_/g, \",\");\n\t\t\t\tif (x === \"ND\") {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (isNaN(x)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault: break;\n\t\t}\n\t\tif (rules.min) {\n\t\t\tif (parseFloat(value) < rules.min) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (rules.max) {\n\t\t\tif (parseFloat(value) > rules.max) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (rules.notEmpty) {\n\t\t\tif (value == null || value === \"\" || value === \" \" || options.indexOf(value) === -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (rules.maxLength && value != null) {\n\t\t\tif (value.length > rules.maxLength) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tonChange = (event) => {\n\t\tthis.props.onChange(event.target.value);\n\t}\n\n\trender() {\n\t\tlet value = this.props.value == null ? \"\" : this.props.value;\n\t\tlet style = this.props.style || {};\n\t\tlet layout = this.props.layout || {};\n\n\t\tlet label = this.props.label;\n\t\tlet disabled = true;\n\t\tlet multiline = false;\n\t\tlet fullWidth = false;\n\n\t\tlet options = this.props.options;\n\t\tlet disableUnderline = style.underline || true;\n\t\tlet margin = style.margin || \"none\";\n\t\tlet marginPx = 0;\n\t\tlet menuItems;\n\t\tlet endAdornment;\n\t\tlet classNames = [];\n\t\tif (this.props.style) {\n\t\t\tswitch (this.props.style.type) {\n\t\t\t\tcase \"headline\":\n\t\t\t\t\tstyle = {\n\t\t\t\t\t\t...style,\n\t\t\t\t\t\t...theme.typography.headline,\n\t\t\t\t\t};\n\t\t\t\t\tstyle.color = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"title\":\n\t\t\t\t\tstyle = {\n\t\t\t\t\t\t...style,\n\t\t\t\t\t\t...theme.typography.title\n\t\t\t\t\t};\n\t\t\t\t\tstyle.color = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"caption\":\n\t\t\t\t\tstyle.color = theme.palette.text.secondary;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tstyle.color = theme.palette.text.primary;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (this.props.style.color) {\n\t\t\t\tcase \"primary\":\n\t\t\t\t\tstyle.color = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"primaryContrast\":\n\t\t\t\t\tstyle.color = theme.palette.primary.contrastText;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"secondary\":\n\t\t\t\t\tstyle.color = theme.palette.secondary.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"secondaryContrast\":\n\t\t\t\t\tstyle.color = theme.palette.secondary.contrastText;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"error\":\n\t\t\t\t\tstyle.color = theme.palette.error.main;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (layout.alignment === \"right\") {\n\t\t\tstyle.float = \"right\";\n\t\t\tstyle.textAlign = \"right\";\n\t\t\tclassNames.push(\"right\");\n\t\t}\n\t\tif (layout.alignment === \"left\") {\n\t\t\tstyle.float = \"left\";\n\t\t}\n\n\t\tif (layout.area) {\n\t\t\tfullWidth = true;\n\t\t\tmultiline = true;\n\t\t}\n\n\t\tif (this.props.default && this.props.editable === false && (value === \"\" || value == null)) {\n\t\t\tvalue = this.props.default;\n\t\t}\n\n\t\tif (this.props.editable) {\n\t\t\tdisabled = false;\n\t\t\tdisableUnderline = style.underline || false;\n\t\t\tmargin = style.margin || \"normal\";\n\t\t} else {\n\t\t\tif (!(style.labelVisible === true)) {\n\t\t\t\tlabel = null;\n\t\t\t}\n\t\t\tif (options != null && options[0] != null && typeof options[0] !== \"string\") {\n\t\t\t\tconst a = options.filter((opt) => {\n\t\t\t\t\treturn opt.value === value;\n\t\t\t\t})[0];\n\t\t\t\tif (a != null) {\n\t\t\t\t\tvalue = a.label;\n\t\t\t\t}\n\t\t\t}\n\t\t\toptions = null;\n\t\t}\n\n\t\tif (options) {\n\t\t\tmenuItems = options.map(option => {\n\t\t\t\tif (typeof option !== \"string\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<MenuItem key={option.value} value={option.value}>\n\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<MenuItem key={option} value={option}>\n\t\t\t\t\t\t{option}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)\n\t\t\t});\n\t\t}\n\t\tif (style.unit) {\n\t\t\tendAdornment = <InputAdornment position=\"end\">{style.unit}</InputAdornment>;\n\t\t}\n\t\tswitch (margin) {\n\t\t\tcase \"dense\":\n\t\t\t\tmarginPx = 5;\n\t\t\t\tbreak;\n\t\t\tcase \"normal\":\n\t\t\t\tmarginPx = 12;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\n\t\tconst field = (\n\t\t\t<TextField\n\t\t\t\tvalue={value}\n\t\t\t\tmargin=\"none\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\tfullWidth={fullWidth}\n\t\t\t\tmultiline={multiline}\n\t\t\t\tclassName={classNames.join(\" \") + \" Field\"}\n\t\t\t\tlabel={label}\n\t\t\t\tselect={options ? true : false}\n\t\t\t\tstyle={{ flex: 1, ...style, margin: marginPx }}\n\t\t\t\tonChange={this.onChange}\n\t\t\t\terror={this.state.error}\n\t\t\t\tInputProps={{\n\t\t\t\t\tdisableUnderline,\n\t\t\t\t\tstyle,\n\t\t\t\t\tendAdornment: endAdornment ? endAdornment : null,\n\t\t\t\t\tinputProps: {\n\t\t\t\t\t\tstyle,\n\t\t\t\t\t}\n\t\t\t\t}}\n\n\t\t\t>\n\t\t\t\t{menuItems}\n\t\t\t</TextField>\n\t\t);\n\t\tif (layout.td) {\n\t\t\t// style.width = undefined;\n\t\t\treturn (\n\t\t\t\t<td style={style}>\n\t\t\t\t\t{field}\n\t\t\t\t</td>\n\t\t\t);\n\t\t} else {\n\t\t\treturn field;\n\t\t}\n\t}\n\n}\n\n\nField.propTypes = {\n\tvalidate: PropTypes.shape({\n\t\tmin: PropTypes.number,\n\t\tmax: PropTypes.number,\n\t\ttype: PropTypes.oneOf([\"phoneNumber\", \"email\", \"integer\", \"decimalGrade\"]),\n\t\tnotEmpty: PropTypes.bool,\n\t\tmaxLength: PropTypes.number,\n\t}),\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t]),\n\tstyle: PropTypes.shape({\n\t\tlabelVisible: PropTypes.bool,\n\t\ttype: PropTypes.oneOf([\n\t\t\t\"title\",\n\t\t\t\"caption\",\n\t\t\t\"headline\",\n\t\t]),\n\t\tunderline: PropTypes.bool,\n\t\tcolor: PropTypes.oneOf([\"primary\", \"primaryContrast\", \"secondary\", \"error\"]),\n\t\tunit: PropTypes.string,\n\t\tmargin: PropTypes.oneOf([\"none\", \"dense\", \"normal\"]),\n\t}),\n\tlayout: PropTypes.shape({\n\t\tarea: PropTypes.bool,\n\t\talignment: PropTypes.oneOf([\"left\", \"right\"]),\n\t\ttd: PropTypes.bool,\n\t}),\n\tlabel: PropTypes.string,\n\toptions: PropTypes.any,\n\t// PropTypes.arrayOf(\n\t// \tPropTypes.oneOfType([\n\t// \t\tPropTypes.shape({\n\t// \t\t\tvalue: PropTypes.string,\n\t// \t\t\tlabel: PropTypes.string,\n\t// \t\t}),\n\t// \t\tPropTypes.string,\n\t// \t])),\n\teditable: PropTypes.bool,\n\tdefault: PropTypes.string,\n};\n\nexport default Field;","import filter from \"lodash/filter\"\nimport $ from \"jquery\";\nimport keyBy from \"lodash/keyBy\"\nimport map from \"lodash/map\"\nimport Field from \"../components/Field\"\n\nfunction apiErrorHandler(endpoint, dispatch) {\n\treturn function handleError(error) {\n\t\tconst responseJSON = error.responseJSON;\n\t\tif (endpoint !== \"user/self\") {\n\t\t\tdispatch({\n\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\tnotification: {\n\t\t\t\t\tid: Math.random(),\n\t\t\t\t\tpriority: \"high\",\n\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\tmessage: responseJSON && responseJSON.error ? responseJSON.error : \"Er is iets mis gegaan\",\n\t\t\t\t\tscope: \".\",\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthrow responseJSON;\n\t}\n}\n\nexport async function fetchData(endpoint, method, data, dispatch, getState, forceArray) {\n\tconst f = {\n\t\tcall: endpoint,\n\t\tmethod: method,\n\t\tdata: data,\n\t}\n\tfor (let i = 0; i < getState().hasFetched.length; i++) {\n\t\tconst o = getState().hasFetched[i];\n\t\tif (o.data === f.data && o.call === f.call && o.method === f.method) {\n\t\t\treturn Promise.reject(new Error(\"Duplicate api call\"));\n\t\t}\n\t};\n\tdispatch({\n\t\t...f,\n\t\ttype: \"HAS_FETCHED\",\n\t});\n\n\treturn $.ajax({\n\t\turl: \"/api/\" + endpoint,\n\t\ttype: method,\n\t\tdata: data,\n\t\tdataType: \"json\",\n\t}).then((list) => {\n\t\tif (method === \"put\" || method === \"patch\" || method === \"delete\") {\n\t\t\tdispatch({\n\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\tnotification: {\n\t\t\t\t\tid: Math.random(),\n\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\tmessage: \"Opgeslagen\",\n\t\t\t\t\tscope: \"\",\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn (Array.isArray(list) && forceArray !== true) ? keyBy(list, \"id\") : list\n\t}).catch(apiErrorHandler(endpoint, dispatch));\n}\n\n\nexport function getSubjects() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"subject/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((subjects) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_SUBJECTS\",\n\t\t\t\t\tsubjects,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function setAlias(userId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"function/alias\", \"post\", { userId, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdocument.location.reload();\n\t\t\t})\n\t}\n}\n\nexport function getGroups() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((groups) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getParticipatingGroups() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/groups\", \"get\", null, dispatch, getState)\n\t\t\t.then((groups) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getGroup(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((group) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups: { [groupId]: group }\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function isUserMissingInfo(user) {\n\tif (user && user.role === \"student\") {\n\t\tif (!Field.validate(user.year, { type: \"integer\", min: 1, max: 6 })) return \"Leerjaar\";\n\t\tif (!Field.validate(user.level, { notEmpty: true })) return \"Opleidingsniveau\";\n\t\tif (!Field.validate(user.profile, { notEmpty: true })) return \"Profiel\";\n\t\tif (!Field.validate(user.preferedEmail, { type: \"email\" })) return \"Voorkeurs email\";\n\t\tif (!Field.validate(user.phoneNumber, { type: \"phoneNumber\" })) return \"Telefoonnummer\";\n\t}\n\treturn false;\n}\n\nfunction addMissingInfoNotifications(user, dispatch) {\n\tconst missing = isUserMissingInfo(user);\n\tif (missing) {\n\t\tdispatch({\n\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\tnotification: {\n\t\t\t\tid: Math.random(),\n\t\t\t\tpriority: \"high\",\n\t\t\t\ttype: \"badge\",\n\t\t\t\tmessage: `Vul een geldige waarde voor ${missing} in`,\n\t\t\t\tscope: \"profiel\",\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction testIE(dispatch) {\n\tif (/MSIE|Trident/.test(window.navigator.userAgent)) {\n\t\tdispatch({\n\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\tnotification: {\n\t\t\t\tid: Math.random(),\n\t\t\t\tpriority: \"high\",\n\t\t\t\ttype: \"bar\",\n\t\t\t\tmessage: \"Internet Explorer gedecteerd. Deze website ondersteunt Internet Explorer niet. Sommige functies zullen wellicht niet werken.\",\n\t\t\t\tsticky: true,\n\t\t\t\tscope: \"\",\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function getSelf() {\n\treturn (dispatch, getState) => {\n\t\tconst notification = {\n\t\t\tid: -96,\n\t\t\tpriority: \"low\",\n\t\t\ttype: \"bar\",\n\t\t\tmessage: \"Bezig met laden\",\n\t\t\tscope: \".\",\n\t\t};\n\t\tdispatch(addNotification(notification));\n\t\tfetchData(\"user/self\", \"get\", null, dispatch, getState)\n\t\t\t.then((user) => {\n\t\t\t\taddMissingInfoNotifications(user, dispatch);\n\t\t\t\ttestIE(dispatch);\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_SELF\",\n\t\t\t\t\tuser,\n\t\t\t\t});\n\t\t\t\tdispatch(removeNotification(notification));\n\t\t\t}).catch((error) => {\n\t\t\t\tdispatch(removeNotification(notification));\n\t\t\t\tif (error != null && error.error === \"Authentication Error\") {\n\t\t\t\t\tif (window.location.pathname !== \"/login\") {\n\t\t\t\t\t\tsetCookie(\"beforeLoginPath\", window.location.pathname + window.location.search, 24);\n\t\t\t\t\t\tdocument.location.href = \"/login\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(toggleMenu(false));\n\t\t\t\t\tdispatch(addNotification({\n\t\t\t\t\t\tid: -1,\n\t\t\t\t\t\tpriority: \"high\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Kan geen verbinding met de server maken\",\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t}\n}\n\nexport function setUser(user) {\n\treturn (dispatch, getState) => {\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_USER\",\n\t\t\tuser,\n\t\t});\n\t\tfetchData(\"user\", \"patch\", user, dispatch, getState);\n\t}\n}\n\nexport function setPresenceUserStatus(lessonId, userStatus, groupId) {\n\treturn (dispatch, getState) => {\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_PRESENCE_USER_STATUS\",\n\t\t\tlessonId,\n\t\t\tuserStatus,\n\t\t\tgroupId,\n\t\t});\n\t\tfetchData(\"group/userStatus\", \"patch\", { lessonId: lessonId, userStatus: userStatus }, dispatch, getState);\n\t}\n}\n\nexport function setGroup(group) {\n\treturn (dispatch, getState) => {\n\t\tfunction getCourse(group) {\n\t\t\treturn {\n\t\t\t\tcourseId: group.courseId,\n\t\t\t\tsubjectId: group.subjectId,\n\t\t\t\tname: group.courseName,\n\t\t\t\tdescription: group.courseDescription,\n\t\t\t\tstudyTime: group.studyTime,\n\t\t\t\tremarks: group.remarks,\n\t\t\t}\n\t\t}\n\n\t\tfunction getCourseGroup(group) {\n\t\t\treturn {\n\t\t\t\tcourseId: group.courseId,\n\t\t\t\tgroupId: group.id,\n\t\t\t\tday: group.day,\n\t\t\t\tschoolYear: group.schoolYear,\n\t\t\t\tenrollableFor: group.enrollableFor,\n\t\t\t\tperiod: group.period,\n\t\t\t}\n\t\t}\n\n\t\tconst oldCourse = getCourse(getState().groups[group.id]);\n\t\tconst newCourse = getCourse(group);\n\n\t\tconst oldCourseGroup = getCourseGroup(getState().groups[group.id]);\n\t\tconst newCourseGroup = getCourseGroup(group);\n\n\t\tconst oldLessons = getState().groups[group.id].lessons;\n\t\tconst newLessons = group.lessons;\n\n\t\tconst oldPresence = getState().groups[group.id].presence;\n\t\tconst newPresence = group.presence;\n\n\t\tconst oldEvaluations = getState().groups[group.id].evaluations;\n\t\tconst newEvaluations = group.evaluations;\n\n\t\tif (JSON.stringify(oldCourse) !== JSON.stringify(newCourse)) {\n\t\t\tfetchData(\"course/\", \"patch\", newCourse, dispatch, getState);\n\t\t}\n\t\tif (JSON.stringify(oldCourseGroup) !== JSON.stringify(newCourseGroup)) {\n\t\t\tfetchData(\"group/\", \"patch\", newCourseGroup, dispatch, getState);\n\t\t}\n\n\t\tif (JSON.stringify(oldPresence) !== JSON.stringify(newPresence)) {\n\t\t\tconst changedPresenceObjs = filter(newPresence, (presence) => {\n\t\t\t\treturn JSON.stringify(presence) !== JSON.stringify(oldPresence[presence.id]);\n\t\t\t});\n\t\t\tfetchData(\"group/presence\", \"patch\",\n\t\t\t\t{\n\t\t\t\t\tpresence: JSON.stringify(map(changedPresenceObjs, (changedPresenceObjs) => { return changedPresenceObjs })),\n\t\t\t\t\tgroupId: group.id\n\t\t\t\t}, dispatch, getState);\n\t\t}\n\n\t\tif (newLessons != null && JSON.stringify(oldLessons) !== JSON.stringify(newLessons)) {\n\t\t\tfetchData(\"group/lessons\", \"patch\", { lessons: JSON.stringify(map(newLessons, (lesson) => { return lesson })), }, dispatch, getState);\n\t\t}\n\n\t\tif (JSON.stringify(oldEvaluations) !== JSON.stringify(newEvaluations)) {\n\t\t\tlet changedEvaluations = [];\n\t\t\tfor (let i = 0; i < newEvaluations.length; i++) {\n\t\t\t\tconst evaluation = newEvaluations[i];\n\t\t\t\tif (JSON.stringify(oldEvaluations[i]) !== JSON.stringify(evaluation)) {\n\t\t\t\t\tchangedEvaluations.push(evaluation);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData(\"group/evaluations\", \"patch\", {\n\t\t\t\tevaluations: JSON.stringify(changedEvaluations),\n\t\t\t\tsecureLogin: getState().secureLogin\n\t\t\t}, dispatch, getState);\n\t\t}\n\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\tgroup: group,\n\t\t});\n\t}\n}\n\nexport function getEnrollableGroups() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/enrollableGroups\", \"get\", null, dispatch, getState, true)\n\t\t\t.then((enrollableGroups) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_ENROLLABLE_GROUPS\",\n\t\t\t\t\tenrollableGroups,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getEnrolLments() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/enrollments\", \"get\", null, dispatch, getState)\n\t\t\t.then((enrollments) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups: enrollments,\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\tenrollmentIds: Object.keys(enrollments),\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getGroupEnrollments(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/enrollments\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((enrollments) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tenrollmentIds: Object.keys(enrollments).map(id => parseInt(id, 10)),\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers: enrollments,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getGroupLessons(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/lessons\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((lessons) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tlessons,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getGroupPresence(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/presence\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((presence) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tpresence,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getGroupParticipants(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/participants\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((participants) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tparticipantIds: Object.keys(participants).map(id => parseInt(id, 10)),\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers: participants,\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getAllUsers() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((users) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function addNotification(notification) {\n\treturn {\n\t\ttype: \"ADD_NOTIFICATION\",\n\t\tnotification,\n\t}\n}\n\nexport function removeNotification(notification) {\n\treturn {\n\t\ttype: \"REMOVE_NOTIFICATION\",\n\t\tnotification,\n\t}\n}\n\nexport function toggleMenu(menuState) {\n\treturn {\n\t\ttype: \"TOGGLE_MENU\",\n\t\tmenuState,\n\t}\n}\n\nexport function setSecureLogin(secureLogin) {\n\treturn {\n\t\ttype: \"SET_SECURE_LOGIN\",\n\t\tsecureLogin,\n\t}\n}\n\nexport function toggleEnrollment(group) {\n\treturn (dispatch, getState) => {\n\t\tconst index = getState().users[getState().userId].enrollmentIds.indexOf(group.id);\n\t\tif (index === -1) {\n\t\t\tfetchData(\"user/enrollments\", \"put\", { groupId: group.id }, dispatch, getState)\n\t\t\t\t.then(() => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\t\taction: \"ADD\",\n\t\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\t\tgroupId: group.id,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t} else {\n\t\t\tfetchData(\"user/enrollments\", \"delete\", { groupId: group.id }, dispatch, getState)\n\t\t\t\t.then(() => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\t\taction: \"REMOVE\",\n\t\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\t\tgroupId: group.id,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t}\n}\n\n\nexport function getGroupEvaluations(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/evaluations\", \"post\", { groupId }, dispatch, getState, true).then((evaluations) => {\n\t\t\tdispatch({\n\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\tgroup: {\n\t\t\t\t\tid: groupId,\n\t\t\t\t\tevaluations: evaluations,\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport function addSubject(name, description) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"subject\", \"put\", { name, description, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Vak aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function addCourse(name, subjectId) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"course\", \"put\", { name, subjectId, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Module aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function addGroup(courseId, userId) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"group\", \"put\", { courseId, mainTeacherId: userId, secureLogin: getState().secureLogin }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Groep aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\n\nexport function addParticipant(userId, groupId, participatingRole) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"group/participants\", \"patch\", { userId, groupId, participatingRole }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tconst index = getState().groups[groupId].enrollmentIds.indexOf(userId);\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tenrollmentIds: [\n\t\t\t\t\t\t\t...getState().groups[groupId].enrollmentIds.slice(0, index),\n\t\t\t\t\t\t\t...getState().groups[groupId].enrollmentIds.slice(index + 1)\n\t\t\t\t\t\t],\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Deelnemer toegevoegd, refresh om te zien\",\n\t\t\t\t\t\tscope: \"*\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function setCookie(cname, cvalue, exhours) {\n\tvar d = new Date();\n\td.setTime(d.getTime() + (exhours * 60 * 60 * 1000));\n\tvar expires = \"expires=\" + d.toUTCString();\n\tdocument.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nexport function getCookie(cname) {\n\tvar name = cname + \"=\";\n\tvar decodedCookie = decodeURIComponent(document.cookie);\n\tvar ca = decodedCookie.split(';');\n\tfor (var i = 0; i < ca.length; i++) {\n\t\tvar c = ca[i];\n\t\twhile (c.charAt(0) === ' ')\n\t\t\tc = c.substring(1);\n\t\tif (c.indexOf(name) === 0)\n\t\t\treturn c.substring(name.length, c.length);\n\t}\n\treturn \"\";\n}\n\nexport function relogSecure() {\n\tsetCookie(\"beforeLoginPath\", window.location.pathname + window.location.search, 24);\n\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\tdocument.location.href = \"http://localhost:26194/auth/login?secure=true\";\n\t} else {\n\t\tdocument.location.href = \"/auth/login?secure=true\";\n\t}\n}","import React, { Component } from \"react\";\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport theme from '../lib/MuiTheme';\nimport { toggleMenu } from '../store/actions';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nclass Login extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.generateEmail.bind(this)();\n\t\tthis.interval = setInterval(this.generateEmail.bind(this), 1500);\n\t}\n\n\tgenerateEmail() {\n\t\tlet school = this.state.school;\n\t\tlet schoolShort = this.state.schoolShort;\n\t\tlet studentNumber = this.state.studentNumber;\n\t\tswitch (Math.floor(Math.random() * 14)) {\n\t\t\tcase 0:\n\t\t\t\tschool = \"beekdallyceum\";\n\t\t\t\tschoolShort = \"BD\";\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tschool = \"candea\";\n\t\t\t\tschoolShort = \"CC\";\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tschool = \"quadraam\";\n\t\t\t\tschoolShort = \"CB\";\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tschool = \"lyceumelst\";\n\t\t\t\tschoolShort = \"LE\";\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tschool = \"liemerscollege\";\n\t\t\t\tschoolShort = \"LC\";\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tschool = \"lorentzlyceum\";\n\t\t\t\tschoolShort = \"LL\";\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\tschool = \"maartenvanrossem\";\n\t\t\t\tschoolShort = \"MvR\";\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\tschool = \"montessoriarnhem\";\n\t\t\t\tschoolShort = \"MC\";\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tschool = \"olympuscollege\";\n\t\t\t\tschoolShort = \"OC\";\n\t\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\t\tschool = \"produsarnhem\";\n\t\t\t\tschoolShort = \"PD\";\n\t\t\t\tbreak;\n\t\t\tcase 10:\n\t\t\t\tschool = \"gymnasiumarnhem\";\n\t\t\t\tschoolShort = \"SGA\";\n\t\t\t\tbreak;\n\t\t\tcase 11:\n\t\t\t\tschool = \"symbion\";\n\t\t\t\tschoolShort = \"SY\";\n\t\t\t\tbreak;\n\t\t\tcase 12:\n\t\t\t\tschool = \"vmbo-venster\";\n\t\t\t\tschoolShort = \"VE\";\n\t\t\t\tbreak;\n\t\t\tcase 13:\n\t\t\tdefault:\n\t\t\t\tschool = \"hetwesteraam\";\n\t\t\t\tschoolShort = \"HW\";\n\t\t\t\tbreak;\n\t\t}\n\t\tstudentNumber = Math.floor(Math.random() * 999999) + \"\";\n\t\tfor (let i = studentNumber.length; i < 6; i++) {\n\t\t\tstudentNumber = \"0\" + studentNumber;\n\t\t}\n\t\tthis.setState({\n\t\t\tschool,\n\t\t\tschoolShort,\n\t\t\tstudentNumber,\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.interval);\n\t}\n\n\tlogin() {\n\t\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\t\tdocument.location.href = \"http://localhost:26194/auth/login\"\n\t\t} else {\n\t\t\tdocument.location.href = \"/auth/login\"\n\t\t}\n\t}\n\n\tgenerateColoredEmail(schoolShort, studentNumber, school) {\n\t\treturn (\n\t\t\t<Typography variant=\"subtitle1\" style={{ fontFamily: \"'Courier New', Courier, monospace\", overflow: \"hidden\" }}>\n\t\t\t\t<span style={{ color: theme.palette.secondary.light, fontWeight: \"bold\" }}>\n\t\t\t\t\t{schoolShort}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ color: theme.palette.secondary.dark, fontWeight: \"bolder\" }}>\n\t\t\t\t\t{studentNumber}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ fontWeight: \"bold\" }}>\n\t\t\t\t\t@ll.\n\t\t\t\t</span>\n\t\t\t\t<span style={{ color: theme.palette.secondary.light, fontWeight: \"bold\" }}>\n\t\t\t\t\t{school}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ fontWeight: \"bold\" }}>\n\t\t\t\t\t.nl\n\t\t\t\t</span>\n\t\t\t</Typography>\n\t\t)\n\t}\n\n\trender() {\n\t\tif (this.props.userId != null) {\n\t\t\tthis.props.history.push(\"/\");\n\t\t\tthis.props.toggleMenu(true);\n\t\t} else {\n\t\t\tthis.props.toggleMenu(false);\n\t\t}\n\n\t\treturn (\n\t\t\t<Paper elevation={8} className=\"Login\" style={{ minHeight: \"330px\" }}>\n\t\t\t\t<div style={{ padding: \"20px\" }}>\n\t\t\t\t\t<Typography gutterBottom variant=\"body1\" color=\"primary\">\n\t\t\t\t\t\tLog in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\tGebruik je school-email om in te loggen:\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<center>\n\t\t\t\t\t\t{this.generateColoredEmail(\"schoolafkorting\", \"leerlingnummer\", \"school\")}\n\t\t\t\t\t\t{this.generateColoredEmail(this.state.schoolShort, this.state.studentNumber, this.state.school)}\n\t\t\t\t\t</center>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<Button type=\"submit\" variant=\"contained\" size=\"large\" color=\"primary\" fullWidth onClick={this.login}>\n\t\t\t\t\t\tLogin met je Microsoft school account\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Paper >\n\t\t);\n\t}\n}\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tuserId: state.userId,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tlogin: (email, password) => {\n\t\t\tdispatch(toggleMenu(true));\n\t\t},\n\t\ttoggleMenu: (state) => {\n\t\t\tdispatch(toggleMenu(state));\n\t\t},\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Login));\n\n\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass Page extends Component {\n\n\trender() {\n\t\tlet className = \"\";\n\t\tif (this.props.showMenu) {\n\t\t\tclassName += \"menuShown\"\n\t\t} else {\n\t\t\tclassName += \"menuHidden\"\n\t\t}\n\t\treturn (\n\t\t\t<div className={\"Page \" + className}>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tshowMenu: state.showMenu,\n\t};\n}\n\nexport default connect(mapStateToProps)(Page);\n","import React, { Component } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass Progress extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisShowing: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.timeout = setTimeout(() => this.setState({ isShowing: true }), 200);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.timeout);\n\t}\n\n\trender() {\n\t\tif (this.state.isShowing) {\n\t\t\treturn (\n\t\t\t\t<CircularProgress {...this.props}/>\n\t\t\t);\n\t\t}else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n}\n\nexport default Progress;","import React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Clear from '@material-ui/icons/Clear';\n\nclass EnrollmentPopup extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tif (nextProps.hasChosen) {\n\t\t\treturn { page: \"cancel\", ...prevState };\n\t\t}\n\t\tif (nextProps.hasChosenDay) {\n\t\t\treturn { page: \"hasChosenDay\", ...prevState };\n\t\t}\n\t\tif (nextProps.group.remarks != null && nextProps.group.remarks.length > 1) {\n\t\t\treturn { page: \"remarks\", ...prevState };\n\t\t}\n\t\treturn { page: \"confirm\", ...prevState };\n\t}\n\n\tgetDuplicatePage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t<Typography color=\"error\" style={{ fontSize: \"16px\" }}>\n\t\t\t\t\t\t\t{\"Je hebt al een module gekozen voor \" + this.props.group.day + \"!\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\tSchrijf je eerst uit voor de module\n\t\t\t\t\t\t<Typography color=\"primary\" variant=\"title\" style={{ fontSize: \"16px\", display: \"inline-block\", margin: \"5px\" }}>\n\t\t\t\t\t\t\t{this.props.chosenDayGroupName}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\tom je in te kunnen schrijven\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\">\n\t\t\t\t\t\tSluiten\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\tgetCancelPage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogTitle>\n\t\t\t\t\tUitschrijven\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\tWeet je zeker dat je wilt uitschrijven voor de module\n\t\t\t\t\t\t<Typography color=\"primary\" variant=\"title\" style={{ fontSize: \"16px\", display: \"inline\", margin: \"5px\" }}>\n\t\t\t\t\t\t\t{this.props.group.courseName}\n\t\t\t\t\t\t</Typography> ?\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"default\">\n\t\t\t\t\t\tAnnuleren\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button name=\"test\" onClick={() => this.props.handlePopup(true)} color=\"primary\">\n\t\t\t\t\t\tUitschrijven\n\t\t\t\t\t\t<Clear />\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\tgetConfirmPage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogTitle>\n\t\t\t\t\tInschrijven\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\tWeet je zeker dat je wilt inschrijven voor de module\n\t\t\t\t\t\t<Typography color=\"primary\" variant=\"title\" style={{ fontSize: \"16px\", display: \"inline\", margin: \"5px\" }}>\n\t\t\t\t\t\t\t{this.props.group.courseName}\n\t\t\t\t\t\t</Typography> ?\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"default\">\n\t\t\t\t\t\tAnnuleren\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button name=\"test\" onClick={() => this.props.handlePopup(true)} variant=\"contained\" color=\"primary\">\n\t\t\t\t\t\tInschrijven\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\tgetRemarkPage() {\n\t\treturn (\n\t\t\t<Dialog open keepMounted >\n\t\t\t\t<DialogTitle>\n\t\t\t\t\tOpmerkingen\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t{this.props.group.remarks}\n\t\t\t\t\t</Typography>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"default\">\n\t\t\t\t\t\tAnnuleren\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\tthis.props.preventPopupClose(true);\n\t\t\t\t\t\tthis.setState({ page: \"confirm\" })\n\t\t\t\t\t}} color=\"primary\">\n\t\t\t\t\t\tVerder\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\trender() {\n\t\tthis.props.preventPopupClose(false);\n\t\tswitch (this.state.page) {\n\t\t\tcase \"remarks\":\n\t\t\t\treturn this.getRemarkPage();\n\t\t\tcase \"cancel\":\n\t\t\t\treturn this.getCancelPage();\n\t\t\tcase \"hasChosenDay\":\n\t\t\t\treturn this.getDuplicatePage();\n\t\t\tcase \"confirm\":\n\t\t\tdefault:\n\t\t\t\treturn this.getConfirmPage();\n\t\t}\n\t}\n}\n\n\nexport default EnrollmentPopup;\n\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Clear from '@material-ui/icons/Clear';\nimport { connect } from 'react-redux';\nimport { toggleEnrollment, getEnrollableGroups, getEnrolLments } from '../../store/actions';\nimport Progress from '../../components/Progress';\nimport EnrollmentPopup from './EnrollmentPopup';\n\nclass ChooseButton extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.props.getEnrollableGroups();\n\t\tthis.props.getEnrolLments();\n\t\tthis.state = {\n\t\t\tdialogOpen: false,\n\t\t}\n\t}\n\n\tpreventPopupClose(preventClose) {\n\t\tthis.preventClose = preventClose;\n\t}\n\n\thandlePopup(doEnroll) {\n\t\tif (doEnroll) {\n\t\t\tthis.props.toggleEnrollment(this.props.group);\n\t\t}\n\t\tif (!this.preventClose) {\n\t\t\tthis.setState({\n\t\t\t\tdialogOpen: !this.state.dialogOpen,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst props = this.props;\n\t\tlet dialog = this.state.dialogOpen ?\n\t\t\t<EnrollmentPopup\n\t\t\t\tgroup={props.group}\n\t\t\t\thasChosen={props.hasChosen}\n\t\t\t\thandlePopup={this.handlePopup.bind(this)}\n\t\t\t\thasChosenDay={props.hasChosenDay}\n\t\t\t\tchosenDayGroupName={props.chosenDayGroupName}\n\t\t\t\tpreventPopupClose={this.preventPopupClose.bind(this)}\n\t\t\t/> : null;\n\n\t\tif (props.loading) {\n\t\t\treturn (\n\t\t\t\t<Progress size={30} />\n\t\t\t)\n\t\t}\n\n\t\tif (props.hasChosen) {\n\t\t\treturn (\n\t\t\t\t<Button color=\"primary\" onClick={() => this.handlePopup(false)} style={props.style}>\n\t\t\t\t\t{\"Ingeschreven\"}\n\t\t\t\t\t<Clear />\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t}\n\n\t\tif (this.props.canChoose) {\n\t\t\treturn (\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={() => this.handlePopup(false)} style={this.props.style}>\n\t\t\t\t\t{\"Inschrijven\" + (this.props.hasChosenDay ? \"*\" : \"\")}\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t} else if (props.group.period < this.props.enrollmentPeriod) {\n\t\t\treturn (\n\t\t\t\t<Button disabled color=\"primary\" style={props.style}>\n\t\t\t\t\tInschrijfperiode verlopen\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Button disabled color=\"primary\" style={props.style}>\n\t\t\t\t\tComing Soon\n\t\t\t\t\t{dialog}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t}\n\n\t}\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tif (state.users[state.userId].enrollmentIds == null || state.enrollableGroups == null) {\n\t\treturn {\n\t\t\tloading: true,\n\t\t}\n\t}\n\n\tlet chosenDayGroupName = -1;\n\tstate.users[state.userId].enrollmentIds.forEach(groupId => {\n\t\tconst group = state.groups[groupId];\n\t\tif (group.day === ownProps.group.day && group.period === ownProps.group.period) {\n\t\t\tchosenDayGroupName = group.courseName;\n\t\t}\n\t});\n\n\treturn {\n\t\tcanChoose: state.enrollableGroups.map(e => e.id).indexOf(ownProps.group.id) !== -1,\n\t\thasChosen: state.users[state.userId].enrollmentIds.indexOf(ownProps.group.id) !== -1,\n\t\thasChosenDay: chosenDayGroupName !== -1,\n\t\tchosenDayGroupName,\n\t\tenrollmentPeriod: state.enrollmentPeriod,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\ttoggleEnrollment: (group) => dispatch(toggleEnrollment(group)),\n\t\tgetEnrollableGroups: () => dispatch(getEnrollableGroups()),\n\t\tgetEnrolLments: () => dispatch(getEnrolLments()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChooseButton);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { relogSecure } from \"../store/actions\"\nimport Field from \"../components/Field\"\n\nclass EnsureSecureLogin extends Component {\n\n\trender() {\n\t\tif (!(this.props.active === false) && this.props.secureLogin == null) {\n\t\t\treturn <Paper style={{ padding: \"20px\", marginTop: \"25px\" }}>\n\t\t\t\t<Field value=\"Log opnieuw in om toegang te krijgen\" layout={{ area: true }} />\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={relogSecure}>\n\t\t\t\t\tInloggen\n\t\t\t\t</Button>\n\t\t\t</Paper>\n\t\t} else {\n\t\t\treturn this.props.children;\n\t\t}\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsecureLogin: state.secureLogin,\n\t};\n}\n\nexport default connect(mapStateToProps, null)(EnsureSecureLogin);\n\n\n\n","import React, { Component } from 'react';\n\nimport Field from '../../components/Field';\nimport EnsureSecureLogin from '../../components/EnsureSecureLogin';\nimport { Tooltip, TableSortLabel, Typography, Paper } from '@material-ui/core';\n\nconst EVALUATION_FORMATS = [{\n\tlabel: \"vink\",\n\tvalue: \"check\",\n\toptions: [{\n\t\tlabel: \"Gehaald\",\n\t\tvalue: \"passed\",\n\t},\n\t{\n\t\tlabel: \"Niet gehaald\",\n\t\tvalue: \"failed\",\n\t},\n\t{\n\t\tlabel: \"Niet deelgenomen\",\n\t\tvalue: \"ND\",\n\t}],\n},\n{\n\tlabel: \"trapsgewijs\",\n\tvalue: \"stepwise\",\n\toptions: [{\n\t\tlabel: \"Onvoldoende\",\n\t\tvalue: \"O\",\n\t},\n\t{\n\t\tlabel: \"Voldoende\",\n\t\tvalue: \"V\",\n\t},\n\t{\n\t\tlabel: \"Goed\",\n\t\tvalue: \"G\",\n\t},\n\t{\n\t\tlabel: \"Niet deelgenomen\",\n\t\tvalue: \"ND\",\n\t}],\n}, {\n\tlabel: \"cijfer\",\n\tvalue: \"decimal\",\n\toptions: \"decimal\",\n}];\n\nfunction getEvaluationColor(ev) {\n\tif (ev.assesment === \"ND\" || ev.assesment == null) {\n\t\treturn \"#673ab7\";\n\t}\n\tswitch (ev.type) {\n\t\tcase \"stepwise\":\n\t\t\treturn \"#3f51b5\";\n\t\tcase \"check\":\n\t\t\treturn \"#009688\";\n\t\tcase \"decimal\":\n\t\t\treturn \"#00bcd4\"\n\t\tdefault:\n\t\t\treturn \"#673ab7\";\n\t}\n}\n\nclass Evaluation extends Component {\n\n\trender() {\n\t\tconst e = this.props.evaluation;\n\t\tlet style = {\n\t\t\tunderline: false,\n\t\t\tflex: 2,\n\t\t};\n\t\tlet layout = { td: true };\n\t\tif (this.props.student) {\n\t\t\tstyle.type = \"headline\";\n\t\t\tstyle.color = \"primaryContrast\"\n\t\t\tlayout.td = false;\n\t\t\tlayout.alignment = \"right\";\n\t\t}\n\t\tif (e.type === \"decimal\") {\n\t\t\treturn <Field\n\t\t\t\tstyle={style}\n\t\t\t\tvalidate={{ min: 1, max: 10, type: \"decimalGrade\", notEmpty: true }}\n\t\t\t\tlayout={layout}\n\t\t\t\tlabel=\"Beoordeling\"\n\t\t\t\tname={e.userId}\n\t\t\t\tvalue={e.assesment ? e.assesment : \"\"}\n\t\t\t\teditable={this.props.editable}\n\t\t\t\tonChange={this.props.onChange}\n\t\t\t/>\n\t\t} else {\n\t\t\treturn <Field\n\t\t\t\tstyle={style}\n\t\t\t\tname={e.userId}\n\t\t\t\tlabel=\"Beoordeling\"\n\t\t\t\tlayout={layout}\n\t\t\t\tvalue={e.assesment ? e.assesment : \"\"}\n\t\t\t\toptions={EVALUATION_FORMATS.filter(f => f.value === e.type)[0].options}\n\t\t\t\teditable={this.props.editable}\n\t\t\t\tonChange={this.props.onChange}\n\t\t\t/>\n\t\t}\n\t}\n\n}\n\n\nclass EvaluationTab extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsortValue: \"\",\n\t\t\tsortDirection: \"\",\n\t\t}\n\t}\n\n\tonSortChange = (value) => {\n\t\tthis.setState({\n\t\t\tsortValue: value,\n\t\t\tsortDirection: this.state.sortDirection === \"desc\" && this.state.sortValue === value ? \"asc\" : \"desc\"\n\t\t});\n\t}\n\n\thandleSingleChange = (newEv) => {\n\t\tlet newEvaluations = this.props.evaluations.map((e) => {\n\t\t\tif (e.userId === newEv.userId) {\n\t\t\t\treturn newEv;\n\t\t\t} else {\n\t\t\t\treturn { ...e }\n\t\t\t}\n\t\t});\n\t\tthis.props.handleChange(newEvaluations);\n\t}\n\n\thandleEvaluationTypeChange(newValue) {\n\t\tlet newEvaluations = [];\n\t\tfor (let i = 0; i < this.props.evaluations.length; i++) {\n\t\t\tnewEvaluations.push({\n\t\t\t\t...this.props.evaluations[i],\n\t\t\t\ttype: newValue,\n\t\t\t});\n\t\t\tthis.props.handleChange(newEvaluations);\n\t\t}\n\t}\n\n\tsortEvaluations = () => {\n\t\tlet evaluations = this.props.evaluations;\n\t\tconst sortValue = this.state.sortValue;\n\t\tlet sortDirection = this.state.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n\n\t\tif (sortValue === \"name\") {\n\t\t\tevaluations.sort((a, b) => {\n\t\t\t\tlet cmp = b.displayName < a.displayName;\n\t\t\t\treturn sortDirection === \"asc\" ? cmp : -cmp;\n\t\t\t})\n\t\t} else if (sortValue === \"evaluations\") {\n\t\t\tevaluations.sort((a, b) => {\n\t\t\t\ta = a[\"assesment\"];\n\t\t\t\tb = b[\"assesment\"];\n\t\t\t\tlet cmp = (b === null) - (a == null) || +(a > b) || -(a < b);\n\t\t\t\treturn sortDirection === \"asc\" ? cmp : -cmp;\n\t\t\t})\n\t\t}\n\t\treturn evaluations;\n\t}\n\n\trender() {\n\t\tlet sortValue = this.state.sortValue;\n\t\tlet sortDirection = this.state.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n\t\tconst style = {\n\t\t\tmarginTop: \"10px\",\n\t\t\talignItems: \"center\",\n\t\t\tpaddingRight: \"15px\",\n\t\t\tpaddingLeft: \"15px\",\n\t\t\tdisplay: \"flex\",\n\t\t};\n\t\tconst evaluations = this.props.evaluations;\n\t\tif (evaluations.length === 0) {\n\t\t\treturn \"Er zijn nog geen beoordelingen beschikbaar\";\n\t\t}\n\t\tconst evComps = this.sortEvaluations()\n\t\t\t.map(ev => {\n\t\t\t\treturn (\n\t\t\t\t\t<Paper style={style} key={ev.userId} component=\"tr\">\n\t\t\t\t\t\t<Field style={{ type: \"title\", color: \"primary\", flex: 2 }} value={ev.displayName} layout={{ td: true }} />\n\t\t\t\t\t\t<Evaluation\n\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\tevaluation={ev}\n\t\t\t\t\t\t\tonChange={(assesment) => this.handleSingleChange({ ...ev, assesment })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tstyle={{ underline: false, flex: 5 }}\n\t\t\t\t\t\t\tlayout={{ area: true, td: true }}\n\t\t\t\t\t\t\tlabel={\"Uitleg\"}\n\t\t\t\t\t\t\tname={ev.userId}\n\t\t\t\t\t\t\tvalue={ev.explanation}\n\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\tonChange={(explanation) => this.handleSingleChange({ ...ev, explanation })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Paper >\n\t\t\t\t);\n\t\t\t});\n\n\t\treturn (\n\t\t\t<EnsureSecureLogin active={this.props.editable}>\n\t\t\t\t<table style={{ width: \"100%\" }}>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<Paper style={{ ...style, backgroundColor: \"#e0e0e0\" }} component=\"tr\">\n\t\t\t\t\t\t\t<td style={{ paddingLeft: \"15px\" }}>\n\t\t\t\t\t\t\t\t<Typography type=\"title\" color=\"primary\" style={{ padding: \"5px 0\" }} >\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\t\t\t\tactive={sortValue === \"evaluations\"}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onSortChange(\"evaluations\")}\n\t\t\t\t\t\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"inherit\", fontSize: \"1.5rem\", }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tBeoordelingen\n\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\t\t\t\tactive={sortValue === \"name\"}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onSortChange(\"name\")}\n\t\t\t\t\t\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tNaam\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td style={{ flex: \"5\" }} />\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tlabel=\"Beoordelingsformaat\"\n\t\t\t\t\t\t\t\t\tstyle={{ type: \"caption\", underline: false, margin: \"normal\", labelVisible: true }}\n\t\t\t\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\t\t\t\tvalue={evaluations[0].type}\n\t\t\t\t\t\t\t\t\toptions={EVALUATION_FORMATS}\n\t\t\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\t\t\tonChange={this.handleEvaluationTypeChange.bind(this)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</Paper >\n\t\t\t\t\t\t{evComps}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table >\n\t\t\t</EnsureSecureLogin>\n\t\t);\n\t}\n\n}\n\nexport { Evaluation, EvaluationTab, getEvaluationColor };","import { Typography, Button, Paper, Badge } from '@material-ui/core';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport Field from '../../components/Field';\nimport ChooseButton from './ChooseButton';\nimport { Evaluation, getEvaluationColor } from './Evaluation';\nimport \"./GroupCard.css\";\n\nclass GroupCard extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t}\n\t}\n\n\texpand() {\n\t\tthis.props.history.push(\"/groep/\" + this.props.group.id)\n\t}\n\n\tgetBottomSection() {\n\t\tif (this.props.group.evaluation &&\n\t\t\tthis.props.group.evaluation.assesment !== \"\" &&\n\t\t\tthis.props.group.evaluation.assesment !== null) {\n\t\t\treturn (\n\t\t\t\t<div className=\"footer\" style={{ backgroundColor: getEvaluationColor(this.props.group.evaluation) }}>\n\t\t\t\t\t<Field value=\"Beoordeling\" style={{ type: \"h1\", flex: 1 }} />\n\t\t\t\t\t<Evaluation evaluation={this.props.group.evaluation} student />\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"footer\" >\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={this.expand.bind(this)}\n\t\t\t\t\t>\n\t\t\t\t\t\tBekijken\n\t\t\t\t\t</Button>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.role === \"student\" &&\n\t\t\t\t\t\t<ChooseButton\n\t\t\t\t\t\t\tgroup={this.props.group}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t</div >\n\t\t\t);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst group = this.props.group;\n\t\treturn (\n\t\t\t<div className=\"GroupCard\">\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 4 : 2}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t>\n\t\t\t\t\t<Badge color=\"secondary\" invisible={this.props.schoolYear === group.schoolYear} badgeContent={group.schoolYear}>\n\t\t\t\t\t\t<div className=\"GroupCardInside\">\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tstyle={{ overflow: \"hidden\", maxHeight: \"65px\", cursor: \"pointer\" }}\n\t\t\t\t\t\t\t\tonClick={() => { this.props.history.push(\"/groep/\" + group.id) }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{group.subjectName}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"h1\"\n\t\t\t\t\t\t\t\tstyle={{ overflow: \"hidden\", height: \"64px\", cursor: \"pointer\", textTransform: \"uppercase\", fontSize: \"24px\" }}\n\t\t\t\t\t\t\t\tonClick={() => { this.props.history.push(\"/groep/\" + group.id) }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{group.courseName}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography style={{ display: \"inline-block\", fontWeight: \"bold\", float: \"right\" }}>\n\t\t\t\t\t\t\t\t\t{\"Blok \" + group.period + \" - \" + group.day}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography style={{ display: \"inline-block\", fontWeight: \"bold\" }}>\n\t\t\t\t\t\t\t\t\t{group.enrollableFor || \"Iedereen\"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tgroup.evaluation ?\n\t\t\t\t\t\t\t\t\t<Typography style={{ maxHeight: \"164px\", overflow: \"hidden\" }} gutterBottom>\n\t\t\t\t\t\t\t\t\t\t<b>Uitleg beoordeling: </b>\n\t\t\t\t\t\t\t\t\t\t{group.evaluation.explanation}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<Typography style={{ maxHeight: \"164px\", overflow: \"hidden\" }} gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{group.courseDescription}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.getBottomSection()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Badge>\n\t\t\t\t</Paper >\n\t\t\t</div>\n\t\t);\n\t}\n\n\n}\n\n\nexport default withRouter(GroupCard);\n\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport Paper from '@material-ui/core/Paper';\nimport { Typography } from '@material-ui/core';\n\nclass GroupCard extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"auto\",\n\t\t\t\tmargin: \"0px\",\n\t\t\t\tpadding: \"10px\",\n\t\t\t},\n\t\t}\n\t}\n\n\tformatPhoneNumber(number) {\n\t\tif (number == null) {\n\t\t\tnumber = \"\";\n\t\t}\n\t\tlet numberWithoutCharacters = number.replace(/\\D/g, '');\n\t\tif (numberWithoutCharacters.length === 10) { // Either 06... or regional i.e. 024 ...\n\t\t\tif (numberWithoutCharacters[1] === \"6\") { // 06...\n\t\t\t\treturn (numberWithoutCharacters.substr(0, 2) + \" \" + numberWithoutCharacters.substr(2, 8));\n\t\t\t} else { // 024 ...\n\t\t\t\treturn (numberWithoutCharacters.substr(0, 3) + \" \" + numberWithoutCharacters.substr(3, 7));\n\t\t\t}\n\t\t}\n\t\tconst mobileTest = /(0031|31)0?(6)?([0-9]+)$/gm;\n\t\tconst match = mobileTest.exec(numberWithoutCharacters);\n\t\tif (match) {\n\t\t\tif (match[2]) { // +31 06 \n\t\t\t\treturn \"+31 06 \" + match[3];\n\t\t\t} else { // +31 ...\n\t\t\t\treturn \"+31 \" + match[3];\n\t\t\t}\n\t\t} else {\n\t\t\treturn number; // return input if unrecognizable \n\t\t}\n\t}\n\n\texpand() {\n\t\tthis.props.history.push(\"/user/\" + this.props.user.id)\n\t}\n\n\trender() {\n\t\tlet user = { ...this.props.user };\n\t\tlet style = { ...this.state.style };\n\t\treturn (\n\t\t\t<tr key={user.id}>\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t\tcomponent=\"td\"\n\t\t\t\t\tstyle={style}\n\t\t\t\t>\n\t\t\t\t\t<div style={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Typography variant=\"button\" color={user.role === \"teacher\" ? \"secondary\" : \"primary\"} style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.firstName + \" \" + user.lastName}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.school}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.level + \" - \" + user.year}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.role === \"teacher\" ? \"docent\" : \"leerling\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.profile}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.props.role === \"admin\" &&\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.email}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.preferedEmail}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<div style={{ flex: 1 }} />\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{this.formatPhoneNumber(user.phoneNumber)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.id}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</Paper >\n\t\t\t</tr>\n\t\t);\n\t}\n}\n\n\nexport default withRouter(GroupCard);\n\n","import React, { Component } from 'react';\nimport Page from '../Page';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport { setUser, isUserMissingInfo } from '../../store/actions';\nimport Field from '../../components/Field';\nimport Typography from '@material-ui/core/Typography';\n\nconst profiles = [\"NT\", \"NG\", \"CM\", \"EM\", \"NT&NG\", \"EM&CM\"];\nconst levels = [\"VWO\", \"HAVO\"];\n\nclass UserPage extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tuser: this.props.user,\n\t\t};\n\t}\n\n\thandleChange = (name, value) => {\n\t\tthis.setState({\n\t\t\tuser: {\n\t\t\t\t...this.state.user,\n\t\t\t\t[name]: value,\n\t\t\t}\n\t\t});\n\t}\n\n\thasChanged() {\n\t\treturn JSON.stringify(this.props.user) !== JSON.stringify(this.state.user)\n\t}\n\n\trender() {\n\t\tlet user = null;\n\t\tif (this.props.user.id !== this.state.user.id) {\n\t\t\tthis.setState({\n\t\t\t\tuser: this.props.user,\n\t\t\t});\n\t\t\tuser = this.props.user;\n\t\t} else {\n\t\t\tuser = this.state.user;\n\t\t}\n\t\tconst shouldFillIn = this.props.ownProfile && (isUserMissingInfo(user) !== false);\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Naam\"\n\t\t\t\t\tvalue={user.displayName}\n\t\t\t\t\tstyle={{ type: \"headline\" }}\n\t\t\t\t/>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Rol\"\n\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\tvalue={user.role}\n\t\t\t\t/>\n\t\t\t\t<Divider />\n\t\t\t\t<br />\n\t\t\t\t<div style={{ display: \"flex\" }} >\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Leerjaar\"\n\t\t\t\t\t\tvalue={user.year}\n\t\t\t\t\t\tstyle={{ margin: \"normal\" }}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"year\", value)}\n\t\t\t\t\t\tvalidate={{\n\t\t\t\t\t\t\ttype: \"integer\",\n\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\tmax: 6,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Opleidingsniveau\"\n\t\t\t\t\t\tvalue={user.level}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"level\", value)}\n\t\t\t\t\t\toptions={levels}\n\t\t\t\t\t\tvalidate={{ notEmpty: true, }}\n\t\t\t\t\t/>\n\t\t\t\t\t{this.props.ownProfile &&\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"Profiel\"\n\t\t\t\t\t\t\tvalue={user.profile}\n\t\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\t\toptions={profiles}\n\t\t\t\t\t\t\tonChange={(value) => this.handleChange(\"profile\", value)}\n\t\t\t\t\t\t\tvalidate={{ notEmpty: true }}\n\t\t\t\t\t\t/>}\n\t\t\t\t</div>\n\t\t\t\t<div style={{ display: \"flex\" }} >\n\t\t\t\t\t{this.props.ownProfile && <Field\n\t\t\t\t\t\tlabel=\"Voorkeurs email\"\n\t\t\t\t\t\tvalue={user.preferedEmail}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"preferedEmail\", value)}\n\t\t\t\t\t\tvalidate={{ type: \"email\" }}\n\t\t\t\t\t/>}\n\t\t\t\t\t{this.props.ownProfile && <Field\n\t\t\t\t\t\tlabel=\"Telefoonnummer\"\n\t\t\t\t\t\tvalue={user.phoneNumber}\n\t\t\t\t\t\teditable={this.props.ownProfile}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"phoneNumber\", value)}\n\t\t\t\t\t\tvalidate={{ type: \"phoneNumber\" }}\n\t\t\t\t\t/>}\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t\t{\n\t\t\t\t\tshouldFillIn &&\n\t\t\t\t\t<Typography gutterBottom variant=\"button\" color=\"secondary\" >\n\t\t\t\t\t\tControleer de bovenstaande gegevens en vul de ontbrekende gegevens aan.\n\t\t\t\t\t</Typography>\n\t\t\t\t}\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t{\n\t\t\t\t\tthis.hasChanged() &&\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={() => this.props.save(this.state.user)}>\n\t\t\t\t\t\tOpslaan\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t</Page >\n\t\t);\n\t}\n}\n\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsave: (user) => dispatch(setUser(user)),\n\t};\n}\n\n\nexport default connect(null, mapDispatchToProps)(UserPage);\n\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nconst CARD_STYLE = {\n\twidth: \"300px\",\n\theight: \"80px\",\n\tpadding: \"20px\",\n\tverticalAlign: \"top\",\n\tmargin: \"20px\",\n\tdisplay: \"inline-block\",\n\tcursor: \"pointer\",\n}\n\nclass GroupCard extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\t...CARD_STYLE,\n\t\t\t\t...this.props.style,\n\t\t\t}\n\t\t}\n\t}\n\n\texpand() {\n\t\tthis.props.history.push(\"/gebruiker/\" + this.props.user.id)\n\t}\n\n\trender() {\n\t\tconst user = this.props.user;\n\t\treturn (\n\t\t\t<Paper\n\t\t\t\televation={this.state.hover ? 4 : 2}\n\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\tstyle={this.state.style}\n\t\t\t>\n\t\t\t\t<Typography variant=\"button\" color={user.role === \"teacher\" ? \"secondary\" : \"primary\"} >\n\t\t\t\t\t{user.firstName + \" \" + user.lastName}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{(user.role === \"teacher\" ? \"docent\" : \"leerling\") + \"\\t\" + user.school}\n\t\t\t\t</Typography>\n\t\t\t</Paper >\n\t\t);\n\t}\n\n\n}\n\n\nexport default withRouter(GroupCard);\n\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport UserRow from \"./UserRow\";\nimport UserPage from \"./UserPage\";\nimport UserCard from \"./UserCard\";\nimport { setSecureLogin, getCookie } from \"../../store/actions\"\n\nimport { withRouter } from 'react-router-dom';\nimport Progress from '../../components/Progress'\nimport Field from \"../../components/Field\"\nimport queryString from \"query-string\";\nimport { Button } from \"@material-ui/core\";\n\nclass User extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet s = queryString.parse(nextProps.location.search);\n\t\tif (s.secureLogin != null) {\n\t\t\tnextProps.setSecureLogin(s.secureLogin);\n\t\t}\n\t\tif (s.from === \"login\" && nextProps.user != null && nextProps.role !== \"student\") {\n\t\t\tconst beforeLoginPath = getCookie(\"beforeLoginPath\");\n\t\t\tnextProps.history.push(beforeLoginPath);\n\t\t}\n\t\treturn prevState;\n\t}\n\n\trender() {\n\t\tif (this.props.user == null) {\n\t\t\tif (this.props.display === \"page\") {\n\t\t\t\tif (this.props.notExists) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"page\">\n\t\t\t\t\t\t\tDe opgevraagde gebruiker bestaat niet\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"page\">\n\t\t\t\t\t\t\t<Progress />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.props.notExists) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tswitch (this.props.display) {\n\t\t\tcase \"name\":\n\t\t\t\treturn <Field value={this.props.user.displayName} style={{ type: \"title\", width: \"auto\", }} layout={{ td: true }} />;\n\t\t\tcase \"page\":\n\t\t\t\treturn (\n\t\t\t\t\t<UserPage {...this.props} />\n\t\t\t\t);\n\t\t\tcase \"row\":\n\t\t\t\treturn (\n\t\t\t\t\t<UserRow {...this.props}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.props.actions &&\n\t\t\t\t\t\t\tthis.props.actions.map(action => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button onClick={() => action.onClick(this.props.userId)} variant=\"contained\" color=\"primary\" style={{ marginRight: \"10px\" }} >\n\t\t\t\t\t\t\t\t\t\t{action.label}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</UserRow>\n\t\t\t\t);\n\t\t\tcase \"card\":\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<UserCard {...this.props} />\n\t\t\t\t);\n\t\t}\n\t}\n}\n\n\nfunction mapStateToProps(state, ownProps) {\n\tlet id = ownProps.match.params.userId || ownProps.userId;\n\tlet display = ownProps.display || \"page\";\n\n\tlet notExists = false;\n\tlet user = null;\n\n\tif (id == null) {\n\t\tid = state.userId;\n\t}\n\n\tif (state.users == null || state.users[id] == null) {\n\t\tif (id == null || state.hasFetched.indexOf(\"User.get(\" + id + \")\") !== -1) {\n\t\t\tnotExists = true;\n\t\t}\n\t} else {\n\t\tuser = state.users[id];\n\t}\n\n\treturn {\n\t\trole: state.role,\n\t\tuser,\n\t\tnotExists,\n\t\tdisplay,\n\t\tuserId: id,\n\t\townProfile: (\"\" + id) === (\"\" + state.userId),\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetSecureLogin: (secureLogin) => dispatch(setSecureLogin(secureLogin)),\n\t};\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(User));\n","import React, { Component } from 'react';\nimport map from \"lodash/map\"\nimport filter from \"lodash/filter\"\nimport User from \"../user/User\"\nimport Field from \"../../components/Field\"\nimport { Paper } from '@material-ui/core';\n\nclass PresenceTable extends Component {\n\n\tcreatePresenceComponent(presence, i) {\n\t\tlet options = [{ label: \"Actief\", value: \"present\" },\n\t\t{ label: \"Niet actief\", value: \"absent\" }];\n\t\tif (!this.props.editable && presence.userStatus === \"absent\") {\n\t\t\toptions[0].label = \"Afgemeld\";\n\t\t\toptions[1].label = \"Afgemeld\";\n\t\t}\n\t\treturn <Field\n\t\t\tkey={i}\n\t\t\tvalue={presence.status}\n\t\t\toptions={options}\n\t\t\tlabel={presence.userStatus === \"absent\" ? \"afgemeld\" : undefined}\n\t\t\tlayout={{ td: true, area: true }}\n\t\t\teditable={this.props.editable}\n\t\t\tonChange={(status) => {\n\t\t\t\tthis.props.handleChange({\n\t\t\t\t\t...presence,\n\t\t\t\t\tstatus,\n\t\t\t\t});\n\t\t\t}}\n\t\t/>;\n\t}\n\n\tcreateRow = (participantId) => {\n\t\tconst content = map(this.props.lessons, ((lesson, i) => {\n\t\t\tconst p = filter(this.props.presence, presence => {\n\t\t\t\treturn presence.lessonId === lesson.id && presence.userId === participantId;\n\t\t\t});\n\t\t\tif (p.length === 1) {\n\t\t\t\treturn this.createPresenceComponent(p[0], i);\n\t\t\t} else {\n\t\t\t\treturn this.createPresenceComponent({\n\t\t\t\t\tlessonId: lesson.id,\n\t\t\t\t\tuserId: participantId,\n\t\t\t\t\tstatus: \"present\",\n\t\t\t\t}, i);\n\t\t\t}\n\t\t}));\n\n\t\treturn (\n\t\t\t<Paper component=\"tr\" elevation={1} key={\"p\" + participantId}>\n\t\t\t\t<User key={participantId} userId={participantId} display=\"name\" />\n\t\t\t\t{content}\n\t\t\t</Paper>\n\t\t);\n\t}\n\n\tcreateLessonHeader = (lesson) => {\n\t\tconst content = map(this.props.lessons, lesson => {\n\t\t\treturn <Field value={\"Les \" + lesson.numberInBlock} key={lesson.id} style={{ type: \"title\" }} layout={{ td: true, area: true }} />;\n\t\t});\n\t\treturn (\n\t\t\t<Paper component=\"tr\" elevation={2} key={\"l\" + lesson} style={{ backgroundColor: \"#e0e0e0\" }} >\n\t\t\t\t<Field value=\"\" layout={{ td: true, area: true }} />\n\t\t\t\t{content}\n\t\t\t</Paper>\n\t\t);\n\t}\n\n\trender() {\n\t\tlet rows = this.props.participantIds.filter((partId) => {\n\t\t\treturn map(this.props.presence, (p) => p.userId).indexOf(partId) !== -1;\n\t\t}).map(this.createRow);\n\t\trows.unshift(this.createLessonHeader());\n\t\treturn <table>\n\t\t\t<tbody>\n\t\t\t\t{rows}\n\t\t\t</tbody>\n\t\t</table>;\n\t}\n\n}\n\nexport default PresenceTable;\n","import React, { Component } from 'react';\n\nimport Paper from '@material-ui/core/Paper';\nimport Field from '../../components/Field';\nimport { Button } from '@material-ui/core';\nimport { setPresenceUserStatus } from \"../../store/actions\";\nimport { connect } from \"react-redux\";\n\nclass Lesson extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"auto\",\n\t\t\t\tmarginTop: \"10px\",\n\t\t\t\tmarginBottom: \"10px\",\n\t\t\t\tpadding: \"2px\",\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\talignItems: \"start\",\n\t\t\t\tposition: \"relative\",\n\t\t\t},\n\t\t}\n\t}\n\n\tgetWeekdayString(number) {\n\t\treturn [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"][number];\n\t}\n\n\tgetOptOutButton() {\n\t\tif (this.props.lesson.userStatus === \"absent\") {\n\t\t\treturn < div style={{ flex: 1 }}>\n\t\t\t\t<Button\n\t\t\t\t\tstyle={{ width: \"70px\", float: \"right\" }}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tmini\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={() => this.props.setPresenceUserStatus(this.props.lesson.id, \"present\", this.props.lesson.courseGroupId)}\n\t\t\t\t>\n\t\t\t\t\tAanmelden\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t}\n\t\treturn < div style={{ flex: 1 }}>\n\t\t\t<Button\n\t\t\t\tstyle={{ width: \"70px\", float: \"right\" }}\n\t\t\t\tsize=\"small\"\n\t\t\t\tmini\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tonClick={() => this.props.setPresenceUserStatus(this.props.lesson.id, \"absent\", this.props.lesson.courseGroupId)}\n\t\t\t>\n\t\t\t\tAfmelden\n\t\t\t</Button>\n\t\t</div>\n\t}\n\n\n\thandleChange = (name, value) => {\n\t\tthis.props.handleChange({\n\t\t\t...this.props.lesson,\n\t\t\t[name]: value,\n\t\t});\n\t}\n\n\n\trender() {\n\t\tconst lesson = this.props.lesson;\n\t\tif (lesson.id === -1) {\n\t\t\treturn (\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t\tcomponent=\"tr\"\n\t\t\t\t\tstyle={{ backgroundColor: \"#e0e0e0\" }}\n\t\t\t\t>\n\t\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Lesnummer\" />\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Soort les\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<Field style={{ flex: 4, fontWeight: \"bold\" }} value=\"Onderwerp\" layout={{ td: true }} />\n\t\t\t\t\t<Field style={{ flex: 8, fontWeight: \"bold\" }} value=\"Activiteiten\" layout={{ td: true }} />\n\t\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Datum\" layout={{ alignment: \"right\" }} />\n\t\t\t\t\t\t<Field style={{ fontWeight: \"bold\" }} value=\"Aanwezigheid\" layout={{ alignment: \"right\" }} />\n\t\t\t\t\t</td>\n\t\t\t\t</Paper>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Paper\n\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\tcomponent=\"tr\"\n\t\t\t>\n\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tlayout={{ area: true }}\n\t\t\t\t\t\tstyle={{ fontWeight: \"bold\" }}\n\t\t\t\t\t\tvalue={\"Les \" + lesson.numberInBlock}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Soort les\"\n\t\t\t\t\t\tlayout={{ area: true }}\n\t\t\t\t\t\tvalue={lesson.kind}\n\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"kind\", value)}\n\t\t\t\t\t/>\n\t\t\t\t</td>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Onderwerp\"\n\t\t\t\t\tstyle={{ flex: 4 }}\n\t\t\t\t\tvalue={lesson.subject}\n\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\tonChange={(value) => this.handleChange(\"subject\", value)}\n\t\t\t\t\tlayout={{ td: true, area: true }}\n\t\t\t\t/>\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Activiteiten\"\n\t\t\t\t\tstyle={{ flex: 8 }}\n\t\t\t\t\tvalue={lesson.activities}\n\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\tonChange={(value) => this.handleChange(\"activities\", value)}\n\t\t\t\t\tlayout={{ td: true, area: true }}\n\t\t\t\t/>\n\t\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\tvalue={this.getWeekdayString(new Date(lesson.date).getDay()) + \" \" + new Date(lesson.date).getDate() + \"-\" + (new Date(lesson.date).getMonth() + 1) + \"-\" + new Date(lesson.date).getFullYear()}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"Aanwezigheid\"\n\t\t\t\t\t\tstyle={{ labelVisible: true }}\n\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\tvalue={lesson.presence}\n\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"presence\", value)}\n\t\t\t\t\t\toptions={[{ label: \"Noodzakelijk\", value: \"required\" }, { label: \"Eigen keuze\", value: \"optional\" }, { label: \"Geen bijeenkomst\", value: \"unrequired\" }]}\n\t\t\t\t\t/>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.userIsMemberOfGroup && this.props.role === \"student\" ? this.getOptOutButton() : null\n\t\t\t\t\t}\n\t\t\t\t</td>\n\t\t\t</Paper >\n\t\t);\n\t}\n\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetPresenceUserStatus: (lessonId, userStatus, groupId) => dispatch(setPresenceUserStatus(lessonId, userStatus, groupId)),\n\t};\n}\n\nexport default connect(null, mapDispatchToProps)(Lesson);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Typography, Tooltip, TableSortLabel, Paper } from '@material-ui/core';\nimport User from \"./User\";\n\nclass UserList extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"auto\",\n\t\t\t\tmargin: \"0px\",\n\t\t\t\tpadding: \"10px\",\n\t\t\t\tbackgroundColor: \"#e0e0e0\",\n\t\t\t},\n\t\t\tsortValue: \"\",\n\t\t\tsortDirection: \"\",\n\t\t}\n\t}\n\n\tonSortChange = (value) => {\n\t\tthis.setState({\n\t\t\tsortValue: value,\n\t\t\tsortDirection: this.state.sortDirection === \"desc\" && this.state.sortValue === value ? \"asc\" : \"desc\"\n\t\t});\n\t}\n\n\theaderTitle(variant, value, title) {\n\t\tlet sortValue = this.state.sortValue;\n\t\tlet sortDirection = this.state.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n\t\treturn (\n\t\t\t<Typography variant={variant} color={variant === \"button\" ? \"primary\" : \"initial\"} style={{ flex: 1 }} >\n\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t<TableSortLabel active={sortValue === value}\n\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\tonClick={() => this.onSortChange(value)}\n\t\t\t\t\t\tstyle={{ color: \"inherit\" }} >\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</TableSortLabel>\n\t\t\t\t</Tooltip>\n\t\t\t</Typography>\n\t\t)\n\t}\n\n\tgetHeader = () => {\n\t\tlet style = { ...this.state.style };\n\t\treturn (\n\t\t\t<tr>\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t\tcomponent=\"td\"\n\t\t\t\t\tstyle={style}\n\t\t\t\t>\n\t\t\t\t\t<div style={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t{this.headerTitle(\"button\", \"name\", \"Naam\")}\n\t\t\t\t\t\t{this.headerTitle(\"subtitle1\", \"school\", \"School\")}\n\t\t\t\t\t\t{this.headerTitle(\"body1\", \"levelAndYear\", \"Niveau - Leerjaar\")}\n\t\t\t\t\t\t{this.headerTitle(\"body1\", \"role\", \"Rol\")}\n\t\t\t\t\t\t{this.headerTitle(\"body1\", \"profile\", \"Profiel\")}\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.props.role === \"admin\" &&\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"email\", \"Office Email\")}\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"preferedEmail\", \"Voorkeurs email\")}\n\t\t\t\t\t\t\t<div style={{ flex: 1 }} />\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"phoneNumber\", \"Telefoonnummer\")}\n\t\t\t\t\t\t\t{this.headerTitle(\"body1\", \"id\", \"Gebruikers ID\")}\n\t\t\t\t\t\t</div>}\n\t\t\t\t</Paper >\n\t\t\t</tr>\n\t\t)\n\t}\n\n\tsortIds = () => {\n\t\tconst value = this.state.sortValue;\n\t\tconst direction = this.state.sortDirection;\n\t\tconst users = this.props.users;\n\t\tconst userIds = this.props.userIds;\n\t\tif (value === \"\") {\n\t\t\treturn userIds;\n\t\t}\n\t\tuserIds.sort((a, b) => {\n\t\t\tswitch (value) {\n\t\t\t\tcase \"name\":\n\t\t\t\t\ta = (users[a][\"firstName\"] + users[a][\"lastName\"]).toLowerCase();\n\t\t\t\t\tb = (users[b][\"firstName\"] + users[b][\"lastName\"]).toLowerCase()\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"levelAndYear\":\n\t\t\t\t\ta = (users[a][\"level\"] + users[a][\"year\"]).toString();// to string because otherwise no level and year would result in a being an integer\n\t\t\t\t\tb = (users[b][\"level\"] + users[b][\"year\"]).toString();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\ta = users[a][value];\n\t\t\t\t\tb = users[b][value];\n\t\t\t}\n\t\t\tlet cmp = (b == null) - (a == null) || +(a > b) || -(a < b);\n\t\t\treturn direction === \"asc\" ? cmp : -cmp;\n\t\t})\n\t\treturn userIds;\n\t}\n\n\trender() {\n\t\tconst header = this.getHeader();\n\t\tconst users = this.sortIds().map(id => {\n\t\t\treturn <User key={id} userId={id} display=\"row\" actions={this.props.actions} />\n\t\t});\n\t\treturn (\n\t\t\t<table style={{ width: \"100%\" }}>\n\t\t\t\t<tbody>\n\t\t\t\t\t{header}\n\t\t\t\t\t{users}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps(state, ownProps) {\n\treturn {\n\t\tusers: state.users,\n\t\trole: state.role,\n\t};\n}\n\nexport default connect(mapStateToProps)(UserList);","import React, { Component } from 'react';\nimport { Prompt } from 'react-router-dom';\n\nclass PageLeaveWarning extends Component {\n\n\trender() {\n\t\tconst message = \"Weet je zeker dat u de pagina wilt verlaten? Er zijn nog niet-opgeslagen gegevens!\";\n\t\tif (this.props.giveWarning) {\n\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\te.returnValue = message;\n\t\t\t\treturn message;\n\t\t\t};\n\t\t} else {\n\t\t\twindow.onbeforeunload = null;\n\t\t}\n\t\treturn (\n\t\t\t<Prompt\n\t\t\t\twhen={this.props.giveWarning}\n\t\t\t\tmessage={location => message}\n\t\t\t/>\n\t\t);\n\t}\n\n}\n\nexport default PageLeaveWarning;","import React, { Component } from 'react';\nimport map from 'lodash/map';\n\nimport Field from '../../components/Field';\nimport User from \"../user/User\"\n\nimport Popover from '@material-ui/core/Popover';\nimport Button from '@material-ui/core/Button';\n\nclass GroupData extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\thandleClickAway = () => {\n\t\tthis.setState({ anchorEl: null });\n\t}\n\n\tshowTeacherCard = event => {\n\t\tthis.setState({ anchorEl: event.currentTarget });\n\t}\n\n\trender() {\n\t\tconst editable = this.props.editable;\n\t\tconst role = this.props.role;\n\t\tconst onChange = this.props.onChange;\n\t\tlet group = this.props.group;\n\t\treturn (\n\t\t\t<div style={{ position: \"relative\" }}>\n\t\t\t\t<div style={{ display: \"flex\" }}>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tvalue={group.courseName}\n\t\t\t\t\t\tonChange={(value) => onChange(\"courseName\", value)}\n\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\tstyle={{ flex: \"5\", type: \"headline\" }}\n\t\t\t\t\t\tvalidate={{ maxLength: 50 }}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tvalue={group.subjectId}\n\t\t\t\t\t\tonChange={(value) => onChange(\"subjectId\", value)}\n\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\tstyle={{ type: \"headline\" }}\n\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\toptions={map(this.props.subjects, (subject) => { return { value: subject.id, label: subject.name } })}\n\t\t\t\t\t/>\n\t\t\t\t\t{\n\t\t\t\t\t\t!editable &&\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tstyle={{ position: \"absolute\", display: \"block\", top: \"30px\", right: \"-15px\", zIndex: \"100\" }}\n\t\t\t\t\t\t\tonClick={this.showTeacherCard}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div>{group.teacherName}</div>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div style={{ display: \"flex\" }} className=\"ColumnFlexDirectionOnMobile\">\n\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t\t<div style={{ flex: 1 }}>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.period}\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"period\", value)}\n\t\t\t\t\t\t\t\teditable={editable && role === \"admin\"}\n\t\t\t\t\t\t\t\tstyle={{ width: \"100px\", type: \"caption\" }}\n\t\t\t\t\t\t\t\toptions={[{ label: \"Blok 1\", value: 1 }, { label: \"Blok 2\", value: 2 }, { label: \"Blok 3\", value: 3 }, { label: \"Blok 4\", value: 4 }]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.day}\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"day\", value)}\n\t\t\t\t\t\t\t\teditable={editable && role === \"admin\"}\n\t\t\t\t\t\t\t\tstyle={{ width: \"150px\", type: \"caption\" }}\n\t\t\t\t\t\t\t\toptions={[\"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\", \"zondag\"]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.schoolYear}\n\t\t\t\t\t\t\t\teditable={editable && role === \"admin\"}\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"schoolYear\", value)}\n\t\t\t\t\t\t\t\toptions={[\"2018/2019\", \"2019/2020\", \"2020/2021\", \"2021/2022\"]}\n\t\t\t\t\t\t\t\tstyle={{ width: \"120px\", type: \"caption\" }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tvalue={group.enrollableFor}\n\t\t\t\t\t\t\t\tlabel=\"Doelgroep\"\n\t\t\t\t\t\t\t\tonChange={(value) => onChange(\"enrollableFor\", value)}\n\t\t\t\t\t\t\t\tstyle={{ width: \"100%\", labelVisible: true }}\n\t\t\t\t\t\t\t\tdefault=\"Iedereen\"\n\t\t\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={{ width: \"100%\" }}>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tvalue={group.courseDescription}\n\t\t\t\t\t\t\tvalidate={{ maxLength: 440 }}\n\t\t\t\t\t\t\tlabel=\"Omschrijving\"\n\t\t\t\t\t\t\tstyle={{ labelVisible: true }}\n\t\t\t\t\t\t\tonChange={(value) => onChange(\"courseDescription\", value)}\n\t\t\t\t\t\t\tlayout={{ area: true }}\n\t\t\t\t\t\t\teditable={editable} />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tvalue={group.remarks}\n\t\t\t\t\t\t\tlabel=\"Opmerkingen\"\n\t\t\t\t\t\t\tonChange={(value) => onChange(\"remarks\", value)}\n\t\t\t\t\t\t\tstyle={{ labelVisible: true }}\n\t\t\t\t\t\t\tdefault=\"Geen voorkennis vereist\"\n\t\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tvalue={group.studyTime}\n\t\t\t\t\t\t\tlabel=\"Studietijd\"\n\t\t\t\t\t\t\tonChange={(value) => onChange(\"studyTime\", value)}\n\t\t\t\t\t\t\tdefault=\"onbekend\"\n\t\t\t\t\t\t\teditable={editable}\n\t\t\t\t\t\t\tstyle={{ labelVisible: true, unit: \"uur\" }}\n\t\t\t\t\t\t\tlayout={{ alignment: \"right\" }}\n\t\t\t\t\t\t\tvalidate={{ type: \"integer\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\n\t\t\t\t<Popover\n\t\t\t\t\topen={this.state.anchorEl ? true : false}\n\t\t\t\t\tonClose={this.handleClickAway}\n\t\t\t\t\tanchorEl={this.state.anchorEl}\n\t\t\t\t\tanchorOrigin={{ horizontal: \"left\", vertical: \"top\" }}\n\t\t\t\t>\n\t\t\t\t\t<User key={group.teacherId} userId={group.teacherId} display=\"card\" style={{ margin: \"0px\" }} />\n\t\t\t\t</Popover>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default GroupData;\n","import React, { Component } from \"react\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { connect } from 'react-redux';\nimport theme from \"../lib/MuiTheme\";\nimport { withStyles, Tooltip } from \"@material-ui/core\";\n\nconst style = {\n    colorPrimary:{\n        backgroundColor: theme.palette.primary.main\n    },\n    colorSecondary: {\n        backgroundColor: \"#ff8c00\"\n    },\n    colorError: {\n        backgroundColor: theme.palette.error.main\n    }\n}\n\nclass NotificationBadge extends Component {\n\n\n    render() {\n        const notifications = this.props.notifications;\n        const classes = this.props.classes;\n        let color = \"primary\";\n        let tooltipMessage = notifications.length > 0 ? notifications[0].message : \"\";\n        for ( let i = 0; i < notifications.length; i ++ ) { \n            if (notifications[i].priority === \"medium\" || notifications[i].priority === \"high\" ){\n                color=\"secondary\";\n                tooltipMessage=notifications[i].message;\n                for ( let j = i ; j < notifications.length; j++ ) {\n                    if ( notifications[j].priority === \"high\" ) {\n                        color = \"error\"\n                        tooltipMessage = notifications[j].message;\n                        break;\n                    }\n                }\n                break\n            }\n        }// tooltip is first message of highest priority\n        //color is highest priority\n\n        return (\n            <Tooltip title={tooltipMessage} >\n                <Badge badgeContent={notifications.length} classes={classes} color={color} >\n                    {this.props.children}\n                </Badge>\n            </Tooltip>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tlet notifications = state.notifications.filter((not) => {\n\t\ttry {\n            return not.type === \"badge\" && RegExp(not.scope).test(ownProps.scope);\n\t\t} catch (err) {\n\t\t\treturn true;\n\t\t}\n    });\n\treturn {\n\t\tnotifications: notifications,\n\t};\n}\n\nexport default withStyles(style)(connect(mapStateToProps,null)(NotificationBadge));","import React, { Component } from 'react';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport { connect } from 'react-redux';\nimport filter from \"lodash/filter\";\nimport { ClickAwayListener } from '@material-ui/core';\n\nimport Field from '../components/Field';\nimport { getAllUsers } from '../store/actions';\n\nclass SelectUser extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: \"\",\n\t\t\tuserId: null,\n\t\t\topen: false,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getAllUsers();\n\t}\n\n\tselectUser = (userId, displayName) => {\n\t\tthis.setState({\n\t\t\tinput: displayName,\n\t\t\topen: false,\n\t\t\tuserId: userId,\n\t\t});\n\t\tthis.props.onChange(userId, displayName);\n\t}\n\n\tgetFittingUsers = () => {\n\t\tconst regExp = new RegExp(this.state.input.toLowerCase());\n\t\tlet count = 0;\n\t\treturn filter(this.props.users, (user) => {\n\t\t\tconst v = regExp.test(user.displayName.toLowerCase())\n\t\t\tif (v) {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\treturn v && count < 6;\n\t\t}).map(user => {\n\t\t\treturn (\n\t\t\t\t<MenuItem key={user.id + user.displayName} onClick={() => this.selectUser(user.id, user.displayName)}>\n\t\t\t\t\t{user.displayName}\n\t\t\t\t</MenuItem>\n\t\t\t);\n\t\t});\n\t}\n\n\thandleInput = (value) => {\n\t\tif (this.state.userId) {\n\t\t\tthis.props.onChange(null, null);\n\t\t}\n\t\tthis.setState({\n\t\t\tinput: value,\n\t\t\topen: true,\n\t\t\tuserId: null,\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<ClickAwayListener onClickAway={() => this.setState({ open: false })}>\n\t\t\t\t<span>\n\t\t\t\t\t<Field label=\"Gebruiker\" value={this.state.input} editable onChange={this.handleInput} style={{ margin: \"normal\" }} />\n\t\t\t\t\t<Popper open={this.state.aliasId == null && this.state.open} disablePortal style={{ position: \"fixed\", zIndex: \"1\" }} >\n\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t<MenuList>\n\t\t\t\t\t\t\t\t{this.getFittingUsers()}\n\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Popper>\n\t\t\t\t</span>\n\t\t\t</ClickAwayListener>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tusers: state.users,\n\t}\n}\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetAllUsers: () => dispatch(getAllUsers()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectUser);\n\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport map from 'lodash/map';\n\nimport PresenceTable from './PresenceTable';\nimport Lesson from './Lesson';\nimport { EvaluationTab } from './Evaluation';\nimport Page from '../Page';\nimport UserList from \"../user/UserList\"\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Progress from '../../components/Progress'\nimport PageLeaveWarning from '../../components/PageLeaveWarning'\nimport GroupData from './GroupData';\nimport ChooseButton from './ChooseButton';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport queryString from \"query-string\";\nimport NotificationBadge from '../../components/NotificationBadge';\nimport SelectUser from '../../components/SelectUser';\nimport Field from '../../components/Field';\nimport { Typography, Tooltip } from '@material-ui/core';\n\nclass GroupPage extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\teditable: false,\n\t\t\tgroup: this.props.group,\n\t\t\tnewParticipant: {\n\t\t\t\tparticipatingRole: \"student\",\n\t\t\t\tuserId: null,\n\t\t\t}\n\t\t}\n\n\t\tswitch (this.props.role) {\n\t\t\tcase \"student\":\n\t\t\t\tif (this.props.userIsMemberOfGroup) {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\", \"Deelnemers\"];\n\t\t\t\t} else {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\"];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"teacher\":\n\t\t\t\tif (this.props.userIsMemberOfGroup) {\n\t\t\t\t\tthis.state.tabs = [\"Inschrijvingen\", \"Lessen\", \"Deelnemers\", \"Actief\", \"Beoordeling\"];\n\t\t\t\t} else {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\"];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"admin\":\n\t\t\t\tthis.state.tabs = [\"Inschrijvingen\", \"Lessen\", \"Deelnemers\", \"Actief\", \"Beoordeling\"];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tisCertificateWorthy({ evaluation }) {\n\t\tif (evaluation != null) {\n\t\t\tconst assesment = evaluation.assesment + \"\";\n\t\t\tswitch (evaluation.type) {\n\t\t\t\tcase \"decimal\":\n\t\t\t\t\tconst x = assesment.replace(/\\./g, \"_$comma$_\").replace(/,/g, \".\").replace(/_\\$comma\\$_/g, \",\");\n\t\t\t\t\treturn x >= 5.5;\n\t\t\t\tcase \"stepwise\":\n\t\t\t\t\treturn assesment === \"G\" || assesment === \"V\";\n\t\t\t\tcase \"check\":\n\t\t\t\t\treturn assesment === \"passed\";\n\t\t\t\tdefault:\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\tgroup: {\n\t\t\t\t...nextProps.group,\n\t\t\t\t...prevState.group,\n\t\t\t},\n\t\t\tcurrentTab: values.tab ? values.tab : prevState.tabs[0]\n\t\t}\n\t}\n\n\tgetCurrentTab(currentTab) {\n\t\tlet group = this.state.group;\n\t\tconst enrollmentIds = this.props.group.enrollmentIds;\n\t\tconst lessons = this.state.group.lessons;\n\t\tconst participantIds = this.state.group.participantIds;\n\t\tconst evaluations = this.state.group.evaluations;\n\t\tconst presence = this.state.group.presence;\n\t\tconst newParticipant = this.state.newParticipant;\n\n\t\tswitch (currentTab) {\n\t\t\tcase \"Inschrijvingen\":\n\t\t\t\tif (enrollmentIds == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\tif (enrollmentIds.length === 0) {\n\t\t\t\t\treturn \"Er zijn geen inschrijvingen\";\n\t\t\t\t}\n\t\t\t\treturn <UserList userIds={enrollmentIds} actions={\n\t\t\t\t\tthis.props.role === \"admin\" && this.state.editable ?\n\t\t\t\t\t\t[{ label: \"Goedkeuren\", onClick: this.acceptEnrollment }] : []\n\t\t\t\t} />;\n\t\t\tcase \"Lessen\":\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\tif (lessons.length === 0) {\n\t\t\t\t\treturn \"Er zijn nog geen lessen bekend\";\n\t\t\t\t}\n\t\t\t\treturn <table style={{ width: \"100%\" }}>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{map({ 0: { id: -1 }, ...lessons }, lesson => {\n\t\t\t\t\t\t\treturn <Lesson\n\t\t\t\t\t\t\t\tlesson={lesson}\n\t\t\t\t\t\t\t\tkey={lesson.id}\n\t\t\t\t\t\t\t\trole={this.props.role}\n\t\t\t\t\t\t\t\tuserIsMemberOfGroup={this.props.userIsMemberOfGroup}\n\t\t\t\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\t\t\t\thandleChange={this.handleLessonChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\tcase \"Deelnemers\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<div >\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.props.role === \"admin\" && this.state.editable &&\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography variant=\"button\" color=\"primary\" style={{ margin: \"18px 12px\" }}>\n\t\t\t\t\t\t\t\t\tNieuwe deelnemer:\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<div style={{ display: \"inline-flex\" }}>\n\t\t\t\t\t\t\t\t\t<SelectUser onChange={this.handleNewParticipantIdChange} value={newParticipant.userId} />\n\t\t\t\t\t\t\t\t\t<Field editable label=\"Rol\" value={newParticipant.participatingRole} options={[{ value: \"student\", label: \"Leerling\" }, { value: \"teacher\", label: \"Docent\" }]} onChange={this.handleNewParticipantRoleChange} />\n\t\t\t\t\t\t\t\t\t<Tooltip title={participantIds.includes(newParticipant.userId) || enrollmentIds.includes(newParticipant.userId) ? \"Deze gebruiker heeft zich al ingeschreven of is al een deelnemer\" : \"\"} placement={\"bottom-start\"} enterDelay={200}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={newParticipant.userId == null || participantIds.includes(newParticipant.userId) || enrollmentIds.includes(newParticipant.userId)}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\" style={{ marginTop: \"22px\" }} onClick={this.addNewParticipant}>\n\t\t\t\t\t\t\t\t\t\t\t\tVoeg toe\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparticipantIds.length === 0 ? \"Er zijn nog geen deelnemers toegevoegd\" :\n\t\t\t\t\t\t\t\t<UserList userIds={participantIds} />\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t\tcase \"Actief\":\n\t\t\t\tif (participantIds == null || lessons == null || presence == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\treturn <PresenceTable\n\t\t\t\t\tparticipantIds={participantIds}\n\t\t\t\t\tlessons={lessons}\n\t\t\t\t\tpresence={presence}\n\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\thandleChange={this.handlePresenceChange}\n\t\t\t\t/>\n\t\t\tcase \"Beoordeling\":\n\t\t\t\tif (participantIds == null || evaluations == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\treturn <EvaluationTab\n\t\t\t\t\tevaluations={evaluations}\n\t\t\t\t\tgroupId={group.id}\n\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\thandleChange={this.handleEvaluationChange}\n\t\t\t\t/>\n\t\t\tdefault: return null;\n\t\t}\n\n\t}\n\n\tacceptEnrollment = userId => {\n\t\tthis.props.addParticipant(userId, this.props.groupId, \"student\");\n\t}\n\n\taddNewParticipant = event => {\n\t\tconst newParticipant = this.state.newParticipant;\n\t\tthis.props.addParticipant(newParticipant.userId, this.props.groupId, newParticipant.participatingRole);\n\t\tthis.setState(prevState => ({\n\t\t\t...prevState,\n\t\t\tnewParticipant: {\n\t\t\t\tparticipatingRole: prevState.newParticipant.participatingRole,\n\t\t\t\tuserId: null,\n\t\t\t}\n\t\t}))\n\t}\n\n\thandleNewParticipantRoleChange = value => {\n\t\tthis.setState(prevState => ({\n\t\t\t...prevState,\n\t\t\tnewParticipant: {\n\t\t\t\tparticipatingRole: value,\n\t\t\t\tuserId: prevState.newParticipant.userId,\n\t\t\t},\n\t\t}))\n\t}\n\n\thandleNewParticipantIdChange = value => {\n\t\tthis.setState(prevState => ({\n\t\t\t...prevState,\n\t\t\tnewParticipant: {\n\t\t\t\tuserId: value,\n\t\t\t\tparticipatingRole: prevState.newParticipant.participatingRole,\n\t\t\t},\n\t\t}))\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getData();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.getData();\n\t}\n\n\tgetData() {\n\t\tlet group = this.state.group;\n\t\tconst enrollmentIds = this.state.group.enrollmentIds;\n\t\tconst lessons = this.state.group.lessons;\n\t\tconst participantIds = this.state.group.participantIds;\n\t\tconst evaluations = this.state.group.evaluations;\n\t\tconst presence = this.state.group.presence;\n\n\t\tswitch (this.state.currentTab) {\n\t\t\tcase \"Inschrijvingen\":\n\t\t\t\tif (enrollmentIds == null) {\n\t\t\t\t\tthis.props.getGroupEnrollments(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Lessen\":\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\tthis.props.getGroupLessons(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Deelnemers\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tif (enrollmentIds == null) {\n\t\t\t\t\tthis.props.getGroupEnrollments(group.id);//also get enrollments because we're checking if new userId is in enrollmenIds\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Actief\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\tthis.props.getGroupLessons(group.id);\n\t\t\t\t}\n\t\t\t\tif (presence == null) {\n\t\t\t\t\tthis.props.getGroupPresence(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Beoordeling\":\n\t\t\t\tif (evaluations == null) {\n\t\t\t\t\tthis.props.getGroupEvaluations(group.id);\n\t\t\t\t}\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault: break;\n\t\t}\n\t}\n\n\thandleChange = (name, value) => {\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\t[name]: value,\n\t\t\t}\n\t\t});\n\t}\n\n\thandleLessonChange = (lesson) => {\n\t\tlet lessons = this.state.group.lessons || this.props.group.lessons;\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tlessons: {\n\t\t\t\t\t...lessons,\n\t\t\t\t\t[lesson.id]: lesson,\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\thandleEvaluationChange = (newEvaluations) => {\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tevaluations: newEvaluations,\n\t\t\t}\n\t\t});\n\t}\n\n\thandlePresenceChange = (presenceObj) => {\n\t\tlet presence = this.state.group.presence || this.props.group.presence;\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tpresence: {\n\t\t\t\t\t...presence,\n\t\t\t\t\t[presenceObj.id]: presenceObj,\n\t\t\t\t},\n\t\t\t}\n\t\t});\n\t}\n\n\tsetEditable = () => {\n\t\tthis.setState({\n\t\t\teditable: true,\n\t\t});\n\t}\n\n\tcancel = () => {\n\t\tthis.setState({\n\t\t\teditable: false,\n\t\t\tgroup: this.props.group,\n\t\t});\n\t}\n\n\tsave = () => {\n\t\tthis.props.setGroup(this.state.group);\n\t\tthis.setState({\n\t\t\teditable: false,\n\t\t});\n\t}\n\n\thandleTab = (event, newTab) => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"tab=\" + this.state.tabs[newTab],\n\t\t});\n\t};\n\n\topenCertificate = () => {\n\t\tconst groupId = this.props.group.id;\n\t\tconst userId = this.props.userId;\n\t\tconst role = this.props.role;\n\n\t\t// in case of student show that students certificate. In case of other role show certificates of all students for that group\n\t\t// also check if in development mode because url is different in that case\n\t\tif (role === \"student\") {\n\t\t\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\t\t\twindow.open(\"http://localhost:26194/api/certificate/course/\" + userId + \"/\" + groupId, \"_blank\");\n\t\t\t} else {\n\t\t\t\twindow.open(\"/api/certificate/course/\" + userId + \"/\" + groupId, \"_blank\");\n\t\t\t}\n\t\t} else {\n\t\t\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\t\t\t//window.open(\"http://localhost:26194/api/certificate/course/\" + userId + \"/\"+ groupId ,\"_blank\");\n\t\t\t\t// IMPLEMENT ME\n\t\t\t} else {\n\t\t\t\t//window.open(\"/api/certificate/course\" + userId + \"/\" + groupId,\"_blank\");\n\t\t\t\t// IMPLEMENT ME\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tconst editable = this.state.editable;\n\t\tconst role = this.props.role;\n\t\tlet group = this.state.group;\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<GroupData {...this.props} editable={editable} group={group} onChange={this.handleChange} />\n\t\t\t\t<Divider />\n\t\t\t\t<div style={{ display: \"flex\" }}>\n\t\t\t\t\t{\n\t\t\t\t\t\trole === \"student\" &&\n\t\t\t\t\t\t<ChooseButton\n\t\t\t\t\t\t\tgroup={group}\n\t\t\t\t\t\t\tstyle={{ margin: \"20px\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\t((role === \"teacher\" || role === \"admin\") && !editable) &&\n\t\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.setEditable}>\n\t\t\t\t\t\t\t{\"Bewerken\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\teditable &&\n\t\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.save}>\n\t\t\t\t\t\t\t{\"Opslaan\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\teditable &&\n\t\t\t\t\t\t<Button color=\"default\" style={{ margin: \"20px\" }} onClick={this.cancel}>\n\t\t\t\t\t\t\t{\"Annuleren\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t<div style={{ flex: \"2\" }} />\n\t\t\t\t\t{\n\t\t\t\t\t\t(this.isCertificateWorthy(group))\n\t\t\t\t\t\t&&\n\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.openCertificate}>\n\t\t\t\t\t\t\t{role === \"student\" ? \"Certificaat\" : \"Certificaten\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<AppBar position=\"static\" color=\"default\">\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={this.state.tabs.indexOf(this.state.currentTab)}\n\t\t\t\t\t\tonChange={this.handleTab}\n\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\tvariant=\"fullWidth\"\n\t\t\t\t\t\tcentered\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.state.tabs.map(tab =>\n\t\t\t\t\t\t\t<Tab key={tab} label={\n\t\t\t\t\t\t\t\t<NotificationBadge scope={\"groep/\" + (group.id || \"\") + \"?tab=\" + tab} style={{ paddingLeft: \"100px\" }}>\n\t\t\t\t\t\t\t\t\t{tab}\n\t\t\t\t\t\t\t\t</NotificationBadge>\n\t\t\t\t\t\t\t} />)}\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n\t\t\t\t<br />\n\t\t\t\t<div style={{ width: \"98%\", margin: \"auto\" }}>\n\t\t\t\t\t{this.getCurrentTab(this.state.currentTab)}\n\t\t\t\t</div>\n\t\t\t\t<PageLeaveWarning giveWarning={this.state.editable} />\n\t\t\t</Page>\n\t\t);\n\t}\n\n}\n\n\n\nexport default withRouter(GroupPage);\n\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport GroupCard from \"./GroupCard\";\nimport GroupPage from \"./GroupPage\";\nimport {\n\tsetGroup,\n\tgetGroup,\n\tgetGroupEnrollments,\n\tgetGroupLessons,\n\tgetGroupParticipants,\n\tgetGroupEvaluations,\n\tgetGroupPresence,\n\tgetSubjects,\n\taddNotification,\n\taddParticipant,\n} from \"../../store/actions\";\nimport { withRouter } from 'react-router-dom';\nimport Progress from '../../components/Progress'\nimport Page from '../Page';\n\nclass Group extends Component {\n\n\tcomponentDidMount() {\n\t\tconst props = this.props;\n\t\tif (props.subjects == null) {\n\t\t\tprops.getSubjects();\n\t\t}\n\t\tif (props.group == null && !props.notExists) {\n\t\t\tprops.getGroup(props.groupId);\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.props.group == null) {\n\t\t\tif (this.props.display === \"page\" && this.props.notExists) {\n\t\t\t\treturn (\n\t\t\t\t\t<Page>\n\t\t\t\t\t\tDe opgevraagde groep bestaat niet\n\t\t\t\t\t</Page>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn this.props.notExists ? null : <Progress />;\n\t\t\t}\n\t\t}\n\t\tswitch (this.props.display) {\n\t\t\tcase \"page\":\n\t\t\t\treturn (\n\t\t\t\t\t<GroupPage {...this.props} />\n\t\t\t\t);\n\t\t\tcase \"card\":\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<GroupCard {...this.props} />\n\t\t\t\t);\n\t\t}\n\t}\n}\n\n\nfunction mapStateToProps(state, ownProps) {\n\tlet id = (ownProps.match.params.groupId || ownProps.groupId) + \"\";\n\tlet display = ownProps.display || \"page\";\n\n\tlet notExists = false;\n\tlet group = null;\n\n\tlet userIsMemberOfGroup = state.users[state.userId].participatingGroupIds.indexOf(id) !== -1;\n\tif (state.groups == null || state.groups[id] == null) {\n\t\tif (id == null || state.hasFetched.indexOf(\"Group.get(\" + id + \")\") !== -1) {\n\t\t\tnotExists = true;\n\t\t}\n\t} else {\n\t\tgroup = state.groups[id];\n\t}\n\treturn {\n\t\tgroup,\n\t\tnotExists,\n\t\tdisplay,\n\t\trole: state.role,\n\t\tgroupId: id,\n\t\tsubjects: state.subjects,\n\t\tuserId: state.userId,\n\t\tuserIsMemberOfGroup,\n\t\tschoolYear: state.schoolYear,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetGroup: (group) => dispatch(setGroup(group)),\n\t\tgetGroup: (groupId) => dispatch(getGroup(groupId)),\n\t\tgetGroupEnrollments: (groupId) => dispatch(getGroupEnrollments(groupId)),\n\t\tgetGroupLessons: (groupId) => dispatch(getGroupLessons(groupId)),\n\t\tgetGroupParticipants: (groupId) => dispatch(getGroupParticipants(groupId)),\n\t\tgetGroupEvaluations: (groupId) => dispatch(getGroupEvaluations(groupId)),\n\t\tgetGroupPresence: (groupId) => dispatch(getGroupPresence(groupId)),\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\taddParticipant: (userId, groupId, participatingRole) => dispatch(addParticipant(userId, groupId, participatingRole)),\n\t\taddNotification: (notification) => dispatch(addNotification(notification)),\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Group));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport filter from 'lodash/filter';\nimport map from 'lodash/map';\n\nimport Page from './Page';\nimport Progress from '../components/Progress';\nimport Field from '../components/Field';\nimport Group from './group/Group';\nimport { getSubjects, getGroups, getEnrolLments } from '../store/actions';\n\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport queryString from \"query-string\";\n\nclass CourseSelect extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tperiod: props.currentPeriod,\n\t\t\tleerjaar: \"2019/2020\",\n\t\t\tsubject: null,\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet { blok, vak, leerjaar } = queryString.parse(nextProps.location.search);\n\t\tif (!vak && nextProps.subjects != null) {\n\t\t\tvak = nextProps.subjects[Object.keys(nextProps.subjects)[0]].name;\n\t\t}\n\t\tif (!blok) {\n\t\t\tblok = nextProps.enrollmentPeriod + \"\";\n\t\t}\n\t\tif (!leerjaar) {\n\t\t\tleerjaar = \"2019/2020\";\n\t\t}\n\t\treturn {\n\t\t\t...prevState,\n\t\t\tperiod: blok,\n\t\t\tsubject: vak,\n\t\t\tschoolYear: leerjaar,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getSubjects();\n\t\tthis.props.getGroups();\n\t}\n\n\tgetGroupsPerSubject(subject) {\n\t\treturn filter(this.props.groups, (group) => {\n\t\t\treturn subject === group.subjectName;\n\t\t})\n\t}\n\n\thandleSortChange = subject => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `vak=${subject}&blok=${this.state.period}&leerjaar=${this.state.schoolYear}`,\n\t\t});\n\t};\n\n\thandlePeriodChange = period => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `vak=${this.state.subject}&blok=${period}&leerjaar=${this.state.schoolYear}`,\n\t\t});\n\t};\n\n\thandleYearChange = schoolYear => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `vak=${this.state.subject}&blok=${this.state.period}&leerjaar=${schoolYear}`,\n\t\t});\n\t};\n\n\tgetMenuItem(title, subject) {\n\t\tlet color = (this.state.subject === subject) ? \"primary\" : \"initial\";\n\t\treturn (\n\t\t\t<ListItem button onClick={() => this.handleSortChange(subject)} key={title}>\n\t\t\t\t<ListItemText>\n\t\t\t\t\t<Typography variant=\"button\" color={color} style={{ minWidth: \"150px\" }}>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t</ListItemText>\n\t\t\t</ListItem >\n\t\t)\n\t}\n\n\tgetMenuItems() {\n\t\tconst subjectsComponents = map(this.props.subjects, (subject) => {\n\t\t\treturn this.getMenuItem(subject.name, subject.name);\n\t\t});\n\t\tif (this.props.role === \"student\") {\n\t\t\tsubjectsComponents.unshift(this.getMenuItem(\"Ingeschreven\", \"enrolled\"));\n\t\t}\n\t\treturn subjectsComponents;\n\t}\n\n\trender() {\n\t\tlet data;\n\t\tif (this.state.subject === \"enrolled\") {\n\t\t\tif (this.props.enrolledGroupsIds == null) {\n\t\t\t\tdata = <Progress />;\n\t\t\t\tthis.props.getEnrolLments();\n\t\t\t} else {\n\t\t\t\tdata = this.props.enrolledGroupsIds.map((groupId) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\tkey={groupId}\n\t\t\t\t\t\t\tgroupId={groupId}\n\t\t\t\t\t\t\tdisplay=\"card\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tif (this.props.enrolledGroupsIds.length === 0) {\n\t\t\t\t\tdata = (\n\t\t\t\t\t\t<div style={{ margin: \"15px\" }} >\n\t\t\t\t\t\t\tJe hebt je nog niet ingeschreven.\n\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.props.subjects == null || this.props.groups == null || this.props.enrolledGroups === []) {\n\t\t\t\tdata = <Progress />\n\t\t\t}\n\t\t\tdata = this.getGroupsPerSubject(this.state.subject)\n\t\t\t\t.filter((group) => group != null)\n\t\t\t\t.filter((group) => {\n\t\t\t\t\tif (this.state.period !== \"all\") {\n\t\t\t\t\t\treturn group.period + \"\" === this.state.period;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.filter((group) => {\n\t\t\t\t\tif (this.state.schoolYear !== \"all\") {\n\t\t\t\t\t\treturn group.schoolYear + \"\" === this.state.schoolYear;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.sort((a, b) => a.period - b.period)\n\t\t\t\t.map((group) => {\n\t\t\t\t\treturn <Group\n\t\t\t\t\t\tkey={group.id}\n\t\t\t\t\t\tgroupId={group.id}\n\t\t\t\t\t\tdisplay=\"card\"\n\t\t\t\t\t/>\n\t\t\t\t});\n\t\t}\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Paper style={{ position: \"relative\" }} >\n\t\t\t\t\t<Toolbar style={{ display: \"flex\" }} >\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\tSchrijf je in voor modules\n          \t</Typography>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"blok\"\n\t\t\t\t\t\t\tvalue={this.state.period}\n\t\t\t\t\t\t\teditable\n\t\t\t\t\t\t\tstyle={{ flex: \"none\" }}\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 1\", value: \"1\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 2\", value: \"2\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 3\", value: \"3\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 4\", value: \"4\" }]}\n\t\t\t\t\t\t\tonChange={this.handlePeriodChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"leerjaar\"\n\t\t\t\t\t\t\tstyle={{ flex: \"none\" }}\n\t\t\t\t\t\t\tvalue={this.state.schoolYear}\n\t\t\t\t\t\t\teditable\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t\t{ label: \"2016/2017\", value: \"2016/2017\" },\n\t\t\t\t\t\t\t\t{ label: \"2017/2018\", value: \"2017/2018\" },\n\t\t\t\t\t\t\t\t{ label: \"2018/2019\", value: \"2018/2019\" },\n\t\t\t\t\t\t\t\t{ label: \"2019/2020\", value: \"2019/2020\" },\n\t\t\t\t\t\t\t\t{ label: \"2020/2021\", value: \"2020/2021\" },\n\t\t\t\t\t\t\t\t{ label: \"2021/2022\", value: \"2021/2022\" }]}\n\t\t\t\t\t\t\tonChange={this.handleYearChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</Paper>\n\t\t\t\t<div style={{ display: \"flex\" }} className=\"ColumnFlexDirectionOnMobile\">\n\t\t\t\t\t<Paper>\n\t\t\t\t\t\t<List component=\"nav\" style={{ flex: 1 }}>\n\t\t\t\t\t\t\t{this.getMenuItems()}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<div style={{ padding: \"12px\" }}>\n\t\t\t\t\t\t{data}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t</Page >\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\trole: state.role,\n\t\tenrollmentPeriod: state.enrollmentPeriod,\n\t\tenrollableGroups: state.enrollableGroups,\n\t\tgroups: state.groups,\n\t\tsubjects: state.subjects,\n\t\tenrolledGroupsIds: state.users[state.userId].enrollmentIds,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tgetGroups: () => dispatch(getGroups()),\n\t\tgetEnrolLments: () => dispatch(getEnrolLments()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CourseSelect);\n\n\n","import React, { Component } from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {\n\tPaper, Typography, Table, TableHead, TableCell,\n\tTableBody, TableRow, Tooltip, TableSortLabel, Toolbar, Button\n} from \"@material-ui/core\";\nimport queryString from \"query-string\";\nimport Excel from \"exceljs/dist/es5/exceljs.browser\";\n\nimport Page from \"./Page\";\nimport Progress from '../components/Progress';\nimport Field from '../components/Field';\nimport EnsureSecureLogin from \"../components/EnsureSecureLogin\";\nimport $ from \"jquery\";\n\nconst splitValues = {\n\tusers: \"role\",\n\tevaluations: \"groupId\",\n\tenrollments: \"period\",\n}\n\nclass DataPage extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttables: null,\n\t\t\ttableSortColumns: {},\n\t\t\ttableSortDirections: {},\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\t...{\n\t\t\t\tdata: values.data ? values.data : \"evaluations\",\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.fetchData(this.state.data)\n\t\t\t.then(tables => this.setState({ tables: this.splitTable(tables, splitValues[this.state.data]) }));\n\t}\n\n\thandleFilterChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"data=\" + value,\n\t\t});\n\t\tthis.fetchData(value)\n\t\t\t.then(tables => this.setState({ tables: this.splitTable(tables, splitValues[this.state.data]), tableSortColumns: Array(tables.length) }));\n\t}\n\n\tsort = (tableIndex) => {\n\t\tlet table = this.state.tables[tableIndex];\n\t\tconst column = this.state.tableSortColumns[tableIndex];\n\t\tconst order = this.state.tableSortDirections[tableIndex];\n\n\t\ttable = [table[0]].concat(table.slice(1, table.length).sort((a, b) => {\n\t\t\t//Only sort the slice 1-table.length because the header has to stick\n\t\t\ta = a[column];\n\t\t\tb = b[column];\n\t\t\tconst cmp = (b == null) - (a == null) || +(a > b) || -(a < b);\n\t\t\treturn order === \"asc\" ? cmp : -cmp;\n\t\t}));\n\n\t\tthis.setState(prevState => ({\n\t\t\ttables: [\n\t\t\t\t...prevState.tables.slice(0, tableIndex),\n\t\t\t\ttable,\n\t\t\t\t...prevState.tables.slice(tableIndex + 1),\n\t\t\t]\n\t\t}))\n\t}\n\n\thandleSortChange = (tableIndex, columnIndex) => {\n\t\tthis.setState(prevState => ({ //update the correct elements of the arrays of the state\n\t\t\ttableSortColumns: {\n\t\t\t\t...prevState.tableSortColumns,\n\t\t\t\t[tableIndex]: columnIndex,\n\t\t\t},\n\t\t\ttableSortDirections: {\n\t\t\t\t...prevState.tableSortDirections,\n\t\t\t\t[tableIndex]: prevState.tableSortDirections[tableIndex] === 'desc' && prevState.tableSortColumns[tableIndex] === columnIndex ? \"asc\" : \"desc\",// if this columns was selected and ordering desc, change to asc else desc\n\t\t\t}\n\t\t}), () => this.sort(tableIndex)); // when setting state is done start sorting\n\t}\n\n\tsplitTable = (table, splitValue) => {\n\t\tlet splitIndex = table[0].findIndex(x => x === splitValue);\n\t\tif (splitIndex < 0) {\n\t\t\treturn [table];\n\t\t}\n\t\tlet tables = [[table[0], table[1]]]; // initialize the tables with one table that has a header and a row\n\t\tfor (let i = 2; i < table.length; i++) {\n\t\t\tlet tableIndex = tables.findIndex(halfSplitTable => halfSplitTable[1][splitIndex] === table[i][splitIndex]); // see in what table this row has to go\n\t\t\tif (tableIndex < 0) {\n\t\t\t\ttables.push([table[0]]); // add a new table with a new header if a new value is found\n\t\t\t\ttableIndex = tables.length - 1;\n\t\t\t}\n\t\t\ttables[tableIndex].push(table[i]); // add row to correct table\n\t\t}\n\t\treturn tables;\n\t}\n\n\tfetchData = (table) => {\n\t\treturn $.ajax({\n\t\t\turl: \"api/function/data\",\n\t\t\ttype: \"post\",\n\t\t\tdata: {\n\t\t\t\ttable,\n\t\t\t\tsecureLogin: this.props.secureLogin,\n\t\t\t},\n\t\t\tdataType: \"json\",\n\t\t});\n\t}\n\n\tdownloadTables = () => {\n\t\tconst tables = this.state.tables;\n\t\tlet workbook = new Excel.Workbook();\n\t\tconst splitIndex = tables[0][0].findIndex(x => x === splitValues[this.state.data]);\n\t\tfor (let i = 0; i < tables.length; i++) { // add all the tables to a different sheet\n\t\t\tlet sheet = workbook.addWorksheet(tables[i][1][splitIndex]); // the sheet has the name of the value it's split on. I.e when splitting on courses every page is called what course it contains\n\t\t\tsheet.addRows(tables[i]);\n\t\t\tfor (let j = 1; j <= tables[i][0].length; j++) {\n\t\t\t\tsheet.getColumn(j).width = tables[i][0][j - 1].length < 10 ? 10 : tables[i][0][j - 1].length + 2;//set each column to at least fit the header\n\t\t\t}\n\t\t}\n\n\t\tconst filenamePrefixes = { users: \"Gebruikers \", enrollments: \"Inschrijvingen \", evaluations: \"Beoordelingen \" };\n\t\tlet filename = filenamePrefixes[this.state.data] + (new Date()).toLocaleDateString() + \".xlsx\";\n\t\tthis.downloadWorkbook(workbook, filename);//gives for example: \"Gebruikers 3/3/2019.xlsx\"\n\t}\n\n\tdownloadWorkbook = (workbook, fileName) => { //magic\n\t\tworkbook.xlsx.writeBuffer({\n\t\t\tbase64: true\n\t\t})\n\t\t\t.then(function (xls64) {\n\t\t\t\tvar a = document.createElement(\"a\");\n\t\t\t\tvar data = new Blob([xls64], { type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" });\n\t\t\t\tvar url = URL.createObjectURL(data);\n\t\t\t\ta.href = url;\n\t\t\t\ta.download = fileName;\n\t\t\t\tdocument.body.appendChild(a);\n\t\t\t\ta.click();\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tdocument.body.removeChild(a);\n\t\t\t\t\twindow.URL.revokeObjectURL(url);\n\t\t\t\t}, 0);\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.log(\"Something went wrong with downloading the excel file: \" + error.message);\n\t\t\t});\n\t}\n\n\tforceCellWidth = (cellName) => {\n\t\tswitch (cellName) {\n\t\t\tcase \"subject\":\n\t\t\t\treturn \"200px\";\n\t\t\tcase \"displayName\":\n\t\t\t\treturn \"200px\";\n\t\t\tcase \"courseName\":\n\t\t\t\treturn \"300px\";\n\t\t\tcase \"explanation\":\n\t\t\t\treturn \"200px\";\n\t\t\tdefault:\n\t\t\t\treturn \"auto\";\n\t\t}\n\t}\n\n\trender() {\n\t\tlet content;\n\t\tif (this.state.tables == null) {\n\t\t\tcontent = <Progress style={{marginTop:\"100px\"}}/>;\n\t\t} else {\n\t\t\tcontent = (this.state.tables).map((table, tableIndex) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Table key={tableIndex} style={tableIndex === 0 ? { marginTop: \"100px\" } : { marginTop: \"50px\" }}>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow key={0} style={{ height: \"auto\" }}>\n\t\t\t\t\t\t\t\t{table[0].map((title, columnIndex) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TableCell key={columnIndex} style={{\n\t\t\t\t\t\t\t\t\t\t\tcolor: \"black\",\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"#e0e0e0\",\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\n\t\t\t\t\t\t\t\t\t\t\ttop: 0\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t\t\t\t\t\t\t\t<TableSortLabel active={this.state.tableSortColumns[tableIndex] === columnIndex}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdirection={this.state.tableSortDirections[tableIndex]}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={event => this.handleSortChange(tableIndex, columnIndex)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ zIndex: 0 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ width: this.forceCellWidth(title) }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttable.filter((_, index) => { return (index > 0); }) //take everything but the header\n\t\t\t\t\t\t\t\t\t.map((row, rowIndex) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={rowIndex + 1} style={{ height: \"auto\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{row.map((cell, columnIndex) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell key={columnIndex} >{cell}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</ TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t)\n\t\t\t})\n\t\t}\n\t\treturn (\n\t\t\t<Page >\n\t\t\t\t<EnsureSecureLogin>\n\t\t\t\t\t<Paper elevation={2} style={{ position: \"absolute\", width: \"80%\", zIndex: 1 }}>\n\t\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\t\tGegevens\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.downloadTables} style={{ margin: \"0 10px\" }}>\n\t\t\t\t\t\t\t\tDownload\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tlabel=\"Gegevens van\"\n\t\t\t\t\t\t\t\tvalue={this.state.data}\n\t\t\t\t\t\t\t\teditable\n\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t{ label: \"Beoordelingen\", value: \"evaluations\" },\n\t\t\t\t\t\t\t\t\t{ label: \"Gebruikers\", value: \"users\" },\n\t\t\t\t\t\t\t\t\t{ label: \"Inschrijvingen\", value: \"enrollments\" }]}\n\t\t\t\t\t\t\t\tonChange={this.handleFilterChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t{content}\n\t\t\t\t</EnsureSecureLogin>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsecureLogin: state.secureLogin,\n\t}\n}\n\nexport default withRouter(connect(mapStateToProps, null)(DataPage));","import React, { Component } from 'react';\nimport Page from './Page';\nimport Progress from '../components/Progress';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Field from '../components/Field';\nimport Paper from '@material-ui/core/Paper';\nimport $ from \"jquery\";\nimport queryString from \"query-string\";\n\nclass Taxi extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tschedules: null,\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\t...{\n\t\t\t\tweek: values.week ? values.week : \"0\",\n\t\t\t}\n\t\t};\n\t}\n\n\thandleFilterChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"week=\" + value,\n\t\t});\n\t\tthis.fetchSchedules(value);\n\t};\n\n\n\tcomponentDidMount() {\n\t\tthis.fetchSchedules(this.state.week);\n\t}\n\n\tfetchSchedules(week) {\n\t\treturn $.ajax({\n\t\t\turl: \"api/function/taxi\",\n\t\t\ttype: \"post\",\n\t\t\tdata: {\n\t\t\t\tweek,\n\t\t\t},\n\t\t\tdataType: \"json\",\n\t\t}).then(schedules => this.setState({\n\t\t\tschedules,\n\t\t}));\n\t}\n\n\trender() {\n\t\tlet content;\n\t\tif (this.state.schedules == null) {\n\t\t\tcontent = <Progress />\n\t\t} else {\n\t\t\tcontent = this.state.schedules.map((s, i) =>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ width: \"80%\", margin: \"auto\" }}\n\t\t\t\t\tclassName=\"taxiScheduleHolder\"\n\t\t\t\t\tkey={i}\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: s }}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Paper\n\t\t\t\t\televation={2}\n\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\tTaxischema\n          </Typography>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"week\"\n\t\t\t\t\t\t\tvalue={this.state.week}\n\t\t\t\t\t\t\teditable\n\t\t\t\t\t\t\toptions={[0, 1, 2, 3, 4, 5, 6, 7, 8].map(n => { return { label: n === 0 ? \"Basisrooster\" : \"Week \" + n, value: n + \"\" } })}\n\t\t\t\t\t\t\tonChange={this.handleFilterChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</Paper>\n\t\t\t\t{content}\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nexport default Taxi;\n\n\n","import React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { connect } from 'react-redux';\nimport { toggleMenu } from '../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport PersonIcon from '@material-ui/icons/Person';\nimport List from '@material-ui/core/List';\n\n\nclass Header extends Component {\n\n\tlogoClick = () => {\n\t\tthis.props.history.push(\"/\");\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<AppBar className=\"Header\">\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<IconButton color=\"inherit\" aria-label=\"Menu\" onClick={this.props.toggleMenu} style={{ position: \"absolute\" }} >\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc=\"/images/logo_qhighschool_white.svg\"\n\t\t\t\t\t\talt=\"QHighschool Logo\"\n\t\t\t\t\t\tstyle={{ height: \"60%\", margin: \"auto\", maxHeight: \"52px\", cursor: \"pointer\" }}\n\t\t\t\t\t\tonClick={this.logoClick}\n\t\t\t\t\t/>\n\t\t\t\t\t<List color=\"inherit\" style={{ right: 20, position: \"absolute\" }} onClick={this.handleClick}>\n\t\t\t\t\t\t<PersonIcon style={{ transform: \"scale(1.5)\", marginRight: \"10px\", float: \"left\" }} />\n\t\t\t\t\t\t<span className=\"HiddenOnMobile\">\n\t\t\t\t\t\t\t{this.props.displayName}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</List>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\tif (state.userId != null) {\n\t\treturn {\n\t\t\tdisplayName: state.users[state.userId].displayName,\n\t\t\tuserId: state.userId,\n\t\t};\n\t}\n\treturn {\n\t\tdisplayName: \"\",\n\t\tuserId: state.userId,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\ttoggleMenu: () => dispatch(toggleMenu()),\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));\n\n\n\n","import React, { Component } from 'react';\nimport { IconButton, Snackbar, SnackbarContent } from '@material-ui/core/';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router\";\n\nimport theme from '../lib/MuiTheme'\nimport { removeNotification } from '../store/actions';\n\nclass NotificationBar extends Component {\n\n\n\tremoveNotification = (key) => {\n\t\tthis.props.removeNotification(this.props.notifications[key]);\n\t}\n\n\trender() {\n\t\tlet notifications = this.props.notifications.map((not, key) => {\n\t\t\tlet color;\n\t\t\tswitch (not.priority) {\n\t\t\t\tcase \"high\":\n\t\t\t\t\tcolor = theme.palette.error.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"medium\":\n\t\t\t\t\tcolor = \"#ff8c00\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"low\":\n\t\t\t\tdefault:\n\t\t\t\t\tcolor = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<Snackbar\n\t\t\t\t\tkey={key}\n\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\thorizontal: \"right\"\n\t\t\t\t\t}}\n\t\t\t\t\topen={true}\n\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t\tTransitionProps={{ direction: \"left\" }}\n\t\t\t\t>\n\t\t\t\t\t<SnackbarContent\n\t\t\t\t\t\tstyle={{ background: color, marginBottom: \"4px\" }}\n\t\t\t\t\t\tmessage={<span id=\"message-id\">{not.message}</span>}\n\t\t\t\t\t\taction={not.sticky ? []: [\n\t\t\t\t\t\t\t<IconButton key=\"close\"\n\t\t\t\t\t\t\t\tonClick={() => { this.removeNotification(key) }} >\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t]} />\n\t\t\t\t</Snackbar>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div style={{ position: \"fixed\", bottom: 0, right: 0, width: \"auto\", zIndex: 10 }}>\n\t\t\t\t{notifications}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tlet notifications = state.notifications.filter((not) => {\n\t\ttry {\n\t\t\treturn not.type === \"bar\" && new RegExp(not.scope).test(ownProps.location.pathname);\n\t\t} catch (err) {\n\t\t\treturn true;\n\t\t}\n\t});\n\treturn {\n\t\tnotifications: notifications,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tremoveNotification: (notification) => dispatch(removeNotification(notification)),\n\t};\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(NotificationBar));","import React, { Component } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport AssessmentIcon from '@material-ui/icons/Assessment';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport GroupIcon from '@material-ui/icons/Group';\nimport PersonIcon from '@material-ui/icons/Person';\nimport ExitIcon from '@material-ui/icons/ExitToApp';\nimport LocalTaxiIcon from '@material-ui/icons/LocalTaxi';\nimport BuildIcon from '@material-ui/icons/Build';\nimport ViewColumnIcon from '@material-ui/icons/ViewColumn';\nimport NotificationBadge from './NotificationBadge';\n\nimport Paper from '@material-ui/core/Paper';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Typography from '@material-ui/core/Typography';\nimport theme from '../lib/MuiTheme';\nimport $ from \"jquery\";\n\nclass Menu extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t\tswitch (this.props.role) {\n\t\t\tcase \"student\":\n\t\t\t\tthis.state.pages = [\"aanbod\", \"portfolio\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tcase \"teacher\":\n\t\t\t\tthis.state.pages = [\"groepen\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tcase \"admin\":\n\t\t\t\tthis.state.pages = [\"groepen\", \"aanbod\", \"profiel\", \"gegevens\", \"taxi\", \"beheer\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tcase \"grade_admin\":\n\t\t\t\tthis.state.pages = [\"aanbod\", \"gegevens\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.state.pages = [\"aanbod\", \"profiel\", \"loguit\"];\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tlogout() {\n\t\treturn $.ajax({\n\t\t\turl: \"/auth/logout\",\n\t\t\ttype: \"get\",\n\t\t\tdataType: \"json\",\n\t\t}).then(() => {\n\t\t\tdocument.location.reload();\n\t\t});\n\t}\n\n\tonClick(page) {\n\t\tif (page === \"loguit\") {\n\t\t\tthis.logout();\n\t\t} else {\n\t\t\tthis.props.history.push(\"/\" + page);\n\t\t}\n\t}\n\n\n\tgetIcon(iconName, color) {\n\t\tlet c = \"black\";\n\t\tif (theme.palette[color]) {\n\t\t\tc = theme.palette[color].main;\n\t\t}\n\t\tswitch (iconName) {\n\t\t\tcase \"Assignment\":\n\t\t\t\treturn <AssignmentIcon style={{ color: c }} />;\n\t\t\tcase \"Group\":\n\t\t\t\treturn <GroupIcon style={{ color: c }} />;\n\t\t\tcase \"Assessment\":\n\t\t\t\treturn <AssessmentIcon style={{ color: c }} />;\n\t\t\tcase \"Person\":\n\t\t\t\treturn <PersonIcon style={{ color: c }} />;\n\t\t\tcase \"ViewColumn\":\n\t\t\t\treturn <ViewColumnIcon style={{ color: c }} />;\n\t\t\tcase \"Exit\":\n\t\t\t\treturn <ExitIcon color=\"secondary\" />;\n\t\t\tcase \"Taxi\":\n\t\t\t\treturn <LocalTaxiIcon style={{ color: c }} />;\n\t\t\tcase \"Beheer\":\n\t\t\t\treturn <BuildIcon style={{ color: c }} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\tgetItem(page, index) {\n\t\tconst isCurrentPage = (((\"/\" + page.id) === this.props.location.pathname));\n\t\tlet style = {};\n\t\tif (page.bottom) {\n\t\t\tstyle.position = \"absolute\";\n\t\t\tstyle.bottom = \"0px\";\n\t\t}\n\n\t\tconst color = isCurrentPage ? \"primary\" : \"inherit\";\n\t\tconst icon = (\n\t\t\t<ListItemIcon >\n\t\t\t\t<NotificationBadge scope={page.id}>\n\t\t\t\t\t{this.getIcon(page.icon, color)}\n\t\t\t\t</NotificationBadge>\n\t\t\t</ListItemIcon>\n\t\t);\n\t\treturn (\n\t\t\t<ListItem key={index} button onClick={() => this.onClick(page.id)} style={style}>\n\t\t\t\t{icon}\n\t\t\t\t<Typography variant=\"button\" color={color} className=\"HiddenOnMobile\">\n\t\t\t\t\t{page.title}\n\t\t\t\t</Typography>\n\t\t\t</ListItem>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst pages = [\n\t\t\t{\n\t\t\t\tid: \"aanbod\",\n\t\t\t\ttitle: \"Aanbod\",\n\t\t\t\ticon: \"Assignment\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"groepen\",\n\t\t\t\ttitle: \"Mijn groepen\",\n\t\t\t\ticon: \"Group\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"portfolio\",\n\t\t\t\ttitle: \"Portfolio\",\n\t\t\t\ticon: \"Assessment\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"gegevens\",\n\t\t\t\ttitle: \"Gegevens\",\n\t\t\t\ticon: \"ViewColumn\", // table_chart is more appropriate\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"taxi\",\n\t\t\t\ttitle: \"Taxi\",\n\t\t\t\ticon: \"Taxi\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"beheer\",\n\t\t\t\ttitle: \"Beheer\",\n\t\t\t\ticon: \"Beheer\",\n\t\t\t},\n\t\t];\n\n\t\tconst profile = [\n\t\t\t{\n\t\t\t\tid: \"profiel\",\n\t\t\t\ttitle: \"Profiel\",\n\t\t\t\ticon: \"Person\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"loguit\",\n\t\t\t\ttitle: \"Log uit\",\n\t\t\t\ticon: \"Exit\",\n\t\t\t},\n\t\t];\n\n\t\tconst visiblePages = pages\n\t\t\t.filter(page => this.state.pages.indexOf(page.id) !== -1)\n\t\t\t.map(this.getItem.bind(this));\n\n\t\tconst visibleProfile = profile\n\t\t\t.filter(page => this.state.pages.indexOf(page.id) !== -1)\n\t\t\t.map(this.getItem.bind(this));\n\n\t\treturn (\n\t\t\t<Paper elevation={8} className=\"Menu\">\n\t\t\t\t<List component=\"nav\" style={{ height: \"100%\" }}>\n\t\t\t\t\t{visiblePages}\n\t\t\t\t\t<div style={{ position: \"absolute\", bottom: \"20px\", width: \"100%\" }}>\n\t\t\t\t\t\t{visibleProfile}\n\t\t\t\t\t</div>\n\t\t\t\t</List>\n\t\t\t</Paper >\n\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\tif (state.userId != null) {\n\t\treturn {\n\t\t\tdisplayName: state.users[state.userId].displayName,\n\t\t\tuserId: state.userId,\n\t\t\trole: state.role\n\t\t};\n\n\t}\n\treturn {\n\t\tdisplayName: \"\",\n\t\tuserId: state.userId,\n\t\trole: state.role\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, null)(Menu));\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport map from 'lodash/map';\nimport forEach from 'lodash/forEach';\n\nimport Page from './Page';\nimport Progress from '../components/Progress';\nimport Field from '../components/Field';\nimport Group from './group/Group';\nimport { getSubjects, getGroups, getEnrolLments, getParticipatingGroups } from '../store/actions';\n\nimport { Typography, Divider, Toolbar, Paper, Button } from '@material-ui/core';\nimport queryString from \"query-string\";\n\nclass Portfolio extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tperiod: props.currentPeriod,\n\t\t\tleerjaar: \"2019/2020\",\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet { blok, leerjaar } = queryString.parse(nextProps.location.search);\n\t\tif (!blok) {\n\t\t\tblok = nextProps.role === \"student\" ? \"all\" : nextProps.currentPeriod;\n\t\t}\n\t\tif (!leerjaar) {\n\t\t\tleerjaar = \"2019/2020\";\n\t\t}\n\t\treturn {\n\t\t\t...prevState,\n\t\t\tperiod: blok,\n\t\t\tschoolYear: leerjaar,\n\t\t}\n\t}\n\n\thandlePeriodChange = period => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `blok=${period}&leerjaar=${this.state.leerjaar}`,\n\t\t});\n\t}\n\n\thandleYearChange = schoolYear => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `blok=${this.state.period}&leerjaar=${schoolYear}`,\n\t\t});\n\t}\n\n\torderGroups(groups, compareFunction) {\n\t\tlet orders = {};\n\t\tforEach(groups, group => {\n\t\t\tif (!orders[compareFunction(group)]) {\n\t\t\t\torders[compareFunction(group)] = [];\n\t\t\t}\n\t\t\torders[compareFunction(group)].push(group);\n\t\t});\n\t\treturn map(orders, this.getOrder);\n\t}\n\n\tgetOrder(groups, name) {\n\t\tgroups = map(groups, group =>\n\t\t\t<Group key={group.id}\n\t\t\t\tgroupId={group.id}\n\t\t\t\tdisplay=\"card\" />\n\t\t);\n\n\t\treturn <div key={name} style={{ padding: \"10px\" }}>\n\t\t\t<Field value={name} style={{ type: \"headline\", color: \"secondary\" }} layout={{ area: true }} />\n\t\t\t{groups}\n\t\t\t<Divider style={{ marginTop: \"20px\" }} />\n\t\t</div>\n\t}\n\n\topenCertificate = () => {\n\t\tconst userId = this.props.userId;\n\n\t\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\t\twindow.open(\"http://localhost:26194/api/certificate/portfolio/\" + userId, \"_blank\");\n\t\t} else {\n\t\t\twindow.open(\"/api/certificate/portfolio/\" + userId, \"_blank\");\n\t\t}\n\t}\n\n\trender() {\n\t\tlet options = [{ label: \"Alle\", value: \"all\" }, { label: \"Blok 1\", value: \"period1\" }, { label: \"Blok 2\", value: \"period2\" }, { label: \"Blok 3\", value: \"period3\" }, { label: \"Blok 4\", value: \"period4\" }];\n\t\tif (this.props.role === \"student\") {\n\t\t\toptions.splice(1, 0, { label: \"Ingeschreven\", value: \"enrolled\" });\n\t\t}\n\n\t\tif (!this.props.groups) {\n\t\t\tthis.props.getParticipatingGroups();\n\t\t}\n\t\tif (!this.props.enrollmentIds) {\n\t\t\tthis.props.getEnrolLments();\n\t\t}\n\n\t\tlet groupIds = this.props.enrollmentIds || [];\n\t\tif (this.state.filter !== \"enrolled\") {\n\t\t\t/* If filter is not equal to enrolled, participating ids need to be added. \n\t\t\tFrom participating ids we first remove the ones that are already in enrolled ids. \n\t\t\tFinally, after adding participating ids, we filter on period */\n\t\t\tgroupIds = this.props.participatingGroupIds.filter(id => {\n\t\t\t\treturn (groupIds.indexOf(id) === -1);\n\t\t\t}).concat(groupIds);\n\t\t}\n\n\n\t\tlet content;\n\t\tif (this.props.groups == null || Object.keys(this.props.groups).length === 0) {\n\t\t\tcontent = <Progress />;\n\t\t} else {\n\t\t\tconst groups = groupIds.map(id => this.props.groups[id])\n\t\t\t\t.filter((group) => group != null)\n\t\t\t\t.filter((group) => {\n\t\t\t\t\tif (this.state.period !== \"all\") {\n\t\t\t\t\t\treturn group.period + \"\" === this.state.period;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}).filter((group) => {\n\t\t\t\t\tif (this.state.schoolYear !== \"all\") {\n\t\t\t\t\t\treturn group.schoolYear + \"\" === this.state.schoolYear;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tcontent = this.orderGroups(groups, (group) => {\n\t\t\t\treturn group.subjectName;\n\t\t\t});\n\t\t}\n\n\t\treturn <Page>\n\t\t\t<Paper\n\t\t\t\televation={2}\n\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t>\n\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t{this.props.role === \"student\" ? \"Portfolio\" : \"Mijn groepen\"}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.role === \"student\" &&\n\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.openCertificate}>\n\t\t\t\t\t\t\tCertificaat\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"blok\"\n\t\t\t\t\t\tvalue={this.state.period}\n\t\t\t\t\t\teditable\n\t\t\t\t\t\tstyle={{ flex: \"none\" }}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t{ label: \"Blok 1\", value: \"1\" },\n\t\t\t\t\t\t\t{ label: \"Blok 2\", value: \"2\" },\n\t\t\t\t\t\t\t{ label: \"Blok 3\", value: \"3\" },\n\t\t\t\t\t\t\t{ label: \"Blok 4\", value: \"4\" }]}\n\t\t\t\t\t\tonChange={this.handlePeriodChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tlabel=\"leerjaar\"\n\t\t\t\t\t\tstyle={{ flex: \"none\" }}\n\t\t\t\t\t\tvalue={this.state.schoolYear}\n\t\t\t\t\t\teditable\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t{ label: \"2016/2017\", value: \"2016/2017\" },\n\t\t\t\t\t\t\t{ label: \"2017/2018\", value: \"2017/2018\" },\n\t\t\t\t\t\t\t{ label: \"2018/2019\", value: \"2018/2019\" },\n\t\t\t\t\t\t\t{ label: \"2019/2020\", value: \"2019/2020\" },\n\t\t\t\t\t\t\t{ label: \"2020/2021\", value: \"2020/2021\" },\n\t\t\t\t\t\t\t{ label: \"2021/2022\", value: \"2021/2022\" }]}\n\t\t\t\t\t\tonChange={this.handleYearChange}\n\t\t\t\t\t/>\n\t\t\t\t</Toolbar>\n\t\t\t</Paper>\n\t\t\t{content}\n\t\t</Page>;\n\t}\n\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tgroups: state.groups,\n\t\tparticipatingGroupIds: state.users[state.userId].participatingGroupIds,\n\t\tenrollmentIds: state.users[state.userId].enrollmentIds,\n\t\trole: state.role,\n\t\tcurrentPeriod: state.currentPeriod,\n\t\tuserId: state.userId,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tgetGroups: () => dispatch(getGroups()),\n\t\tgetEnrolLments: () => dispatch(getEnrolLments()),\n\t\tgetParticipatingGroups: () => dispatch(getParticipatingGroups()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Portfolio);\n\n\n","import React, { Component } from 'react';\nimport EnsureSecureLogin from '../components/EnsureSecureLogin';\nimport Page from './Page';\nimport $ from \"jquery\";\nimport map from 'lodash/map';\n\nimport { connect } from 'react-redux';\nimport queryString from \"query-string\";\nimport SelectUser from '../components/SelectUser';\nimport { Toolbar, Button, Paper, Typography, List, ListItem, ListItemText, } from '@material-ui/core';\nimport Field from '../components/Field';\nimport { getSubjects, setAlias, addNotification, addSubject, addCourse, addGroup, relogSecure } from '../store/actions';\n\nconst pages = [\"alias\", \"vak\", \"module\", \"groep\"];\n\nclass ControlPanel extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcourses: [],\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\t...{\n\t\t\t\tpage: values.page ? values.page : pages[0],\n\t\t\t}\n\t\t}\n\t}\n\n\tmapPageToListItem = (pageName) => {\n\t\treturn <ListItem button onClick={() => this.handlePageChange(pageName)} key={pageName}>\n\t\t\t<ListItemText>\n\t\t\t\t<Typography variant=\"button\" color={pageName === this.state.page ? \"primary\" : \"initial\"} style={{ minWidth: \"150px\" }}>\n\t\t\t\t\t{pageName.charAt(0).toUpperCase() + pageName.slice(1)}\n\t\t\t\t</Typography>\n\t\t\t</ListItemText>\n\t\t</ListItem >\n\t}\n\n\tcomponentDidMount() {\n\t\t$.ajax({\n\t\t\turl: \"api/course/list\",\n\t\t\ttype: \"get\",\n\t\t\tdata: {},\n\t\t\tdataType: \"json\",\n\t\t}).then((courses) => {\n\t\t\tthis.setState({\n\t\t\t\tcourses\n\t\t\t});\n\t\t});\n\t\tthis.props.getSubjects();\n\t}\n\n\n\thandlePageChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"page=\" + value,\n\t\t});\n\t}\n\n\tgetContent = () => {\n\t\tswitch (this.state.page) {\n\t\t\tcase \"alias\":\n\t\t\t\treturn <Alias dispatch={this.props.dispatch} />\n\t\t\tcase \"vak\":\n\t\t\t\treturn <Subject addSubject={this.props.addSubject} />\n\t\t\tcase \"module\":\n\t\t\t\treturn <Course addCourse={this.props.addCourse} subjects={this.props.subjects} />\n\t\t\tcase \"groep\":\n\t\t\t\treturn <Group addGroup={this.props.addGroup} courses={this.state.courses} />\n\t\t\tdefault:\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<EnsureSecureLogin>\n\t\t\t\t\t<Paper\n\t\t\t\t\t\televation={2}\n\t\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\t\tBeheer\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<div style={{ display: \"flex\" }} className=\"ColumnFlexDirectionOnMobile\">\n\t\t\t\t\t\t<Paper elevation={2}>\n\t\t\t\t\t\t\t<List component=\"nav\" style={{ flex: 1 }}>\n\t\t\t\t\t\t\t\t{pages.map(this.mapPageToListItem)}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<div style={{ padding: \"12px\" }}>\n\t\t\t\t\t\t\t{this.getContent()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</EnsureSecureLogin>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nclass Alias extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\taliasId: null,\n\t\t}\n\t}\n\n\t;\n\n\trender() {\n\t\treturn <div style={{ margin: \"10px 0\" }}>\n\t\t\t<SelectUser onChange={(aliasId) => this.setState({ aliasId })} />\n\t\t\t<br />\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tdisabled={this.state.aliasId == null}\n\t\t\t\tonClick={() => this.props.dispatch(setAlias(this.state.aliasId))}>\n\t\t\t\tLogin in met alias\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\nclass Subject extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\tdescription: \"\",\n\t\t}\n\t}\n\trender() {\n\t\tconst subject = this.state;\n\t\treturn <div>\n\t\t\t<Field\n\t\t\t\tlabel=\"Naam\"\n\t\t\t\tvalue={subject.name}\n\t\t\t\tonChange={(name) => this.setState({ name })}\n\t\t\t\teditable={true}\n\t\t\t\tvalidate={{ maxLength: 50 }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<Field\n\t\t\t\tlabel=\"Omschrijving\"\n\t\t\t\tvalue={subject.description}\n\t\t\t\tonChange={(description) => this.setState({ description })}\n\t\t\t\teditable={true}\n\t\t\t\tvalidate={{ maxLength: 440 }}\n\t\t\t\tlayout={{ area: true }}\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstyle={{ height: \"37px\", margin: \"12px\" }}\n\t\t\t\tonClick={() => { this.props.addSubject(subject.name, subject.description).then(relogSecure) }}>\n\t\t\t\tVoeg toe\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\nclass Course extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\tsubjectId: \"\",\n\t\t}\n\t}\n\trender() {\n\t\tconst course = this.state;\n\t\treturn <div>\n\t\t\t<Field\n\t\t\t\tlabel=\"Naam\"\n\t\t\t\tvalue={course.name}\n\t\t\t\tonChange={(name) => this.setState({ name })}\n\t\t\t\teditable={true}\n\t\t\t\tvalidate={{ maxLength: 50 }}\n\t\t\t\tstyle={{ flex: \"1\" }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<Field\n\t\t\t\tvalue={course.subjectId}\n\t\t\t\tsubjectId label=\"Vak\"\n\t\t\t\tonChange={(subjectId) => this.setState({ subjectId })}\n\t\t\t\teditable={true}\n\t\t\t\toptions={map(this.props.subjects, (subject) => { return { value: subject.id, label: subject.name } })}\n\t\t\t\tstyle={{ minWidth: \"200px\" }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstyle={{ height: \"37px\", margin: \"12px\" }}\n\t\t\t\tonClick={() => { this.props.addCourse(course.name, course.subjectId).then(relogSecure) }}>\n\t\t\t\tVoeg toe\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\n\nclass Group extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcourseId: null,\n\t\t\tteacherId: null,\n\t\t}\n\t}\n\trender() {\n\t\tconst group = this.state;\n\t\treturn <div>\n\t\t\t<Field\n\t\t\t\tvalue={group.courseId}\n\t\t\t\tlabel=\"Module\"\n\t\t\t\tonChange={(courseId) => this.setState({ courseId })}\n\t\t\t\teditable={true}\n\t\t\t\toptions={this.props.courses.map((course) => { return { label: course.name, value: course.id } })}\n\t\t\t\tstyle={{ minWidth: \"200px\" }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<SelectUser\n\t\t\t\tvalue={group.teacherId}\n\t\t\t\tonChange={(teacherId) => this.setState({ teacherId })}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstyle={{ height: \"37px\", margin: \"12px\" }}\n\t\t\t\tonClick={() => { this.props.addGroup(group.courseId, group.teacherId).then(relogSecure) }}>\n\t\t\t\tVoeg toe\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsubjects: state.subjects,\n\t\tgroups: state.groups,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\taddSubject: async (name, description) => dispatch(addSubject(name, description)),\n\t\taddCourse: async (name, subjectId) => dispatch(addCourse(name, subjectId)),\n\t\taddGroup: async (courseId, userId) => dispatch(addGroup(courseId, userId)),\n\t\taddNotification: (notification) => dispatch(addNotification(notification)),\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tdispatch: dispatch,\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlPanel);","import React, { Component } from \"react\";\nimport {\n\tRoute,\n\tSwitch,\n\tRedirect,\n\twithRouter,\n} from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { getSelf, addNotification, isUserMissingInfo } from './store/actions';\n\nimport Login from \"./pages/Login\";\nimport CourseSelect from \"./pages/CourseSelect\";\nimport Group from \"./pages/group/Group\";\nimport User from \"./pages/user/User\";\nimport DataPage from \"./pages/DataPage\";\nimport Taxi from \"./pages/Taxi\";\n\nimport Header from \"./components/Header\";\nimport NotificationBar from \"./components/NotificationBar\";\nimport Menu from \"./components/Menu\";\nimport Portfolio from \"./pages/Portfolio\";\nimport ControlPanel from \"./pages/ControlPanel\";\n\n\nclass App extends Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.getSelf();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (isUserMissingInfo(this.props.user) && this.props.location.pathname !== \"/profiel\") {\n\t\t\tthis.props.history.push(\"/profiel\");\n\t\t}\n\t}\n\n\thandleShowMenu() {\n\t\tlet showMenu = this.state.showMenu;\n\t\tthis.setState({\n\t\t\tshowMenu: !showMenu,\n\t\t});\n\t}\n\n\tgetStartPage(role) {\n\t\tswitch (role) {\n\t\t\tcase \"student\":\n\t\t\t\treturn \"/aanbod\";\n\t\t\tcase \"grade_admin\":\n\t\t\t\treturn \"/gegevens\";\n\t\t\tdefault:\n\t\t\t\treturn \"/groepen\";\n\t\t}\n\t}\n\n\trender() {\n\t\tif (!this.props.role && this.props.location.pathname !== \"/login\") {\n\t\t\treturn <div />;\n\t\t}\n\t\tconst startPage = this.getStartPage(this.props.role);\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<NotificationBar />\n\t\t\t\t{this.props.showMenu && <Menu />}\n\t\t\t\t<Header />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/login\" component={Login} />\n\t\t\t\t\t<Route path=\"/aanbod\" component={CourseSelect} />\n\t\t\t\t\t<Route path=\"/groep/:groupId\" component={Group} />\n\t\t\t\t\t<Route path=\"/gebruiker/:userId\" component={User} />\n\t\t\t\t\t<Route path=\"/profiel/\" component={User} />\n\t\t\t\t\t<Route path=\"/portfolio/\" component={Portfolio} />\n\t\t\t\t\t<Route path=\"/groepen/\" component={Portfolio} />\n\t\t\t\t\t<Route path=\"/gegevens/\" component={DataPage} />\n\t\t\t\t\t<Route path=\"/taxi/\" component={Taxi} />\n\t\t\t\t\t<Route path=\"/beheer/\" component={ControlPanel} />\n\t\t\t\t\t<Redirect push to={startPage} />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tshowMenu: state.showMenu,\n\t\tuserId: state.userId,\n\t\trole: state.role,\n\t\tuser: state.userId ? state.users[state.userId] : null,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSelf: () => dispatch(getSelf()),\n\t\taddNotification: (notification) => dispatch(addNotification(notification)),\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n","import React, { Component } from \"react\";\n\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport theme from './MuiTheme';\nimport App from '../App';\n\nclass GlobalProvider extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Provider store={this.props.store}>\n\t\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t\t<BrowserRouter>\n\t\t\t\t\t\t<App />\n\t\t\t\t\t</BrowserRouter>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\nexport default GlobalProvider;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose as reduxCompose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport reducer from './store/mainReducer';\nimport GlobalProvider from './lib/GlobalProvider';\nimport \"./layout.css\";\nrequire('typeface-roboto');\n\nconst compose = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || reduxCompose;\nconst store = createStore(\n  reducer,\n  compose(\n    applyMiddleware(thunk),\n  ),\n);\n\nReactDOM.render(\n\t<GlobalProvider store={store} />,\n\tdocument.getElementById('root'));\n"],"sourceRoot":""}